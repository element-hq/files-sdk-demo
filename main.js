(self.webpackChunkfiles_sdk_demo=self.webpackChunkfiles_sdk_demo||[]).push([[179],{27401:(t,e,n)=>{"use strict";var r=n(24234),o=n(55161),$=n.n(o),c=n(84250),s=n(55837),i=n(26427);const a=n(8743).createClient;async function f(t,e,n,r,o){const $=await l(t,{baseUrl:e,accessToken:n,userId:r,deviceId:o});return await $.client.waitForClientWellKnown(),$}async function l(t,e){const n=new s.WebStorageSessionStore(t),r=new c.LocalStorageCryptoStore(t);await r.startup();const o=a(Object.assign(Object.assign({},e),{sessionStore:n,cryptoStore:r,useAuthorizationHeader:!0,cryptoCallbacks:{},timelineSupport:!0,unstableClientRelationAggregation:!0}));return new i.MatrixFiles(o)}function p(t,e){localStorage.setItem("mx_f_"+t,JSON.stringify(e))}function d(t,e){const n=localStorage.getItem("mx_f_"+t);return null==n?e:JSON.parse(n)}var u=n(75537),m=n(17187),g=n.n(m);class y extends(g()){constructor(t){super(),this.client=t,t.on("crypto.keyBackupStatus",this.onKeyBackupStatus)}async init(){await this.client.initCrypto(),this.client.setCryptoTrustCrossSignedDevices(!0),await this.client.downloadKeys([this.client.getUserId()]),this.client.setGlobalErrorOnUnknownDevices(!1)}async isKeyBackupAvailable(){return!!await this.client.getKeyBackupVersion()}async getKeyBackupInfo(){return this.client.getKeyBackupVersion()}async connectToExistingKeyBackup(t){const e=await this.client.getKeyBackupVersion();if(!e)throw new Error("No key backup available");if(!this.client.crypto.sessionStore.getLocalTrustedBackupPubKey()&&e.algorithm===u.Curve25519.algorithmName){const n=await this.client.keyBackupKeyFromPassword(t,e),[,r]=await u.Curve25519.prepare(n);await this.client.crypto.setTrustedBackupPubKey(r.public_key),(await this.client.isKeyBackupTrusted(e)).usable||await this.client.crypto.setTrustedBackupPubKey("")}return{restoreResult:await this.client.restoreKeyBackupWithPassword(t,void 0,void 0,e,{}),trustInfo:await this.client.isKeyBackupTrusted(e)}}isConnectedToKeyBackup(){return this.client.getKeyBackupEnabled()}async createNewKeyBackup(t){const e=await this.client.prepareKeyBackupVersion(t);return await this.client.createKeyBackupVersion(e),e.recovery_key}onKeyBackupStatus(t){this.emit("keyBackupStatus",this,t)}}class v{constructor(t){this.listeners=[],this.value=t}onUpdate(t){this.listeners.push(t)}update(t){this.value=t;for(const e of this.listeners)e(t)}close(){this.listeners=[]}}var h=n(25108);const w="http://localhost:8080";class x{constructor(){this.authedState=new v(!1),this.homeserverUrl=d("homeserverUrl",w),this.accessToken=d("accessToken",""),this.deviceId=d("deviceId",""),this.userId=d("userId",""),this.password="",this.keyBackupPassphrase=""}get files(){if(!this._files)throw new Error("No MatrixFiles connected");return this._files}get client(){if(!this._files)throw new Error("No MatrixFiles connected");return this._files.getClient()}get crypto(){if(!this._crypto)throw new Error("No MatrixFiles connected");return this._crypto}get hasAuthData(){return!!(this.homeserverUrl&&this.accessToken&&this.deviceId&&this.userId)}async rehydrate(){this._files=await f(localStorage,this.homeserverUrl,this.accessToken,this.userId,this.deviceId),await this.bootstrap()}storeValues(){p("homeserverUrl",this.homeserverUrl),p("accessToken",this.accessToken),p("deviceId",this.deviceId),p("userId",this.userId)}async login(){var t;this._files=await async function(t,e,n,r){var o,$;const c=a({baseUrl:e}),s=await c.loginWithPassword(n,r),{access_token:i,user_id:f,well_known:p,device_id:d}=s;return l(t,{baseUrl:null!==($=null===(o=null==p?void 0:p["m.homeserver"])||void 0===o?void 0:o.base_url)&&void 0!==$?$:e,accessToken:i,userId:f,deviceId:d})}(localStorage,this.homeserverUrl,this.userId,this.password),this.homeserverUrl=this.client.getHomeserverUrl(),this.accessToken=this.client.getAccessToken(),this.deviceId=null!==(t=this.client.deviceId)&&void 0!==t?t:"",this.userId=this.client.getUserId(),this.storeValues(),await this.bootstrap()}async register(){var t;this._files=await async function(t,e,n,r){var o,$;const c=a({baseUrl:e}),s=await c.register(n,r,null,{type:"m.login.dummy"}),{access_token:i,user_id:l,well_known:p,device_id:d}=s;return f(t,null!==($=null===(o=null==p?void 0:p["m.homeserver"])||void 0===o?void 0:o.base_url)&&void 0!==$?$:e,i,l,d)}(localStorage,this.homeserverUrl,this.userId,this.password),this.homeserverUrl=this.client.getHomeserverUrl(),this.accessToken=this.client.getAccessToken(),this.deviceId=null!==(t=this.client.deviceId)&&void 0!==t?t:"",this.userId=this.client.getUserId(),this.storeValues(),await this.bootstrap()}async bootstrap(){if(!this._files)throw new Error("Not logged in");this.client.on("Session.logged_out",(()=>{h.log("Session.logged_out"),this._logout()})),this._crypto=new y(this._files.client),await this._crypto.init(),await this._files.sync(),this.authedState.update(!0)}_logout(){this.homeserverUrl=w,this.userId="",this.keyBackupPassphrase="",this.password="",this.deviceId="",this.accessToken="",this.storeValues(),this.authedState.update(!1)}async logout(){this._files&&(await this._files.logout(),this._files=void 0),this._logout()}on(t,e){this._files&&this._files.on(t,e)}off(t,e){this._files&&this._files.off(t,e)}}function L(t){let e;return{c(){e=(0,r.bGB)("h1"),e.textContent="Oh no, page not found.",(0,r.Ljt)(e,"class","svelte-oqiykx")},m(t,n){(0,r.$Tr)(t,e,n)},p:r.ZTd,i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function I(t,e,n){let{clientManager:r}=e;return t.$$set=t=>{"clientManager"in t&&n(0,r=t.clientManager)},[r]}class T extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,I,L,r.N8,{clientManager:0})}}const U=T;var C=n(2934),b=n(68568),Y=n(27484),E=n.n(Y),D=n(78392);function k(t,e,n){const r=t.slice();return r[9]=e[n],r}function X(t){let e,n=t[6][t[9].device_id].crossSigningVerified||t[7]().getDeviceId()===t[9].device_id?"gpp_good":"gpp_maybe";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){96&o&&n!==(n=t[6][t[9].device_id].crossSigningVerified||t[7]().getDeviceId()===t[9].device_id?"gpp_good":"gpp_maybe")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function W(t){let e,n,o,$,c,s,i,a,f,l,p=(t[9].display_name||t[9].device_id)+"",d=(t[9].last_seen_ip??"unknown")+"",u=(t[9].last_seen_ts?E()(t[9].last_seen_ts).format("LT"):"unknown")+"",m=t[7]().getDeviceId()===t[9].device_id?" this session":"";return n=new D.JO({props:{class:"material-icons-round",style:t[6][t[9].device_id].crossSigningVerified||t[7]().getDeviceId()===t[9].device_id?"color: var(--mdc-theme-primary)":"color: var(--mdc-theme-error)",$$slots:{default:[X]},$$scope:{ctx:t}}}),{c(){e=(0,r.bGB)("li"),(0,r.YCL)(n.$$.fragment),o=(0,r.fLW)(p),$=(0,r.fLW)(" from "),c=(0,r.fLW)(d),s=(0,r.fLW)(" at "),i=(0,r.fLW)(u),a=(0,r.fLW)(m),(0,r.Ljt)(e,"title",f=t[9].device_id)},m(t,f){(0,r.$Tr)(t,e,f),(0,r.yef)(n,e,null),(0,r.R3I)(e,o),(0,r.R3I)(e,$),(0,r.R3I)(e,c),(0,r.R3I)(e,s),(0,r.R3I)(e,i),(0,r.R3I)(e,a),l=!0},p(t,$){const s={};96&$&&(s.style=t[6][t[9].device_id].crossSigningVerified||t[7]().getDeviceId()===t[9].device_id?"color: var(--mdc-theme-primary)":"color: var(--mdc-theme-error)"),4192&$&&(s.$$scope={dirty:$,ctx:t}),n.$set(s),(!l||32&$)&&p!==(p=(t[9].display_name||t[9].device_id)+"")&&(0,r.rTO)(o,p),(!l||32&$)&&d!==(d=(t[9].last_seen_ip??"unknown")+"")&&(0,r.rTO)(c,d),(!l||32&$)&&u!==(u=(t[9].last_seen_ts?E()(t[9].last_seen_ts).format("LT"):"unknown")+"")&&(0,r.rTO)(i,u),(!l||32&$)&&m!==(m=t[7]().getDeviceId()===t[9].device_id?" this session":"")&&(0,r.rTO)(a,m),(!l||32&$&&f!==(f=t[9].device_id))&&(0,r.Ljt)(e,"title",f)},i(t){l||((0,r.Ui)(n.$$.fragment,t),l=!0)},o(t){(0,r.etI)(n.$$.fragment,t),l=!1},d(t){t&&(0,r.ogt)(e),(0,r.vpE)(n)}}}function B(t){let e,n,o,$,c,s,i,a,f,l,p,d,u,m,g,y,v,h,w,x,L,I,T,U,b,Y,E,D,X,B,R,_,Z,S,M,O,G,j,z,N,P=(void 0===t[1]?"checking":t[1])+"",F=(void 0===t[2]?"checking":t[2])+"",V=(void 0===t[3]?"checking":t[3])+"",K=t[0].crypto.isConnectedToKeyBackup()+"",q=t[5],A=[];for(let e=0;e<q.length;e+=1)A[e]=W(k(t,q,e));const H=t=>(0,r.etI)(A[t],1,1,(()=>{A[t]=null}));return z=new C.g({props:{json:t[4]}}),{c(){e=(0,r.bGB)("h3"),e.textContent="General",n=(0,r.DhX)(),o=(0,r.bGB)("p"),o.textContent=`Homeserver: ${t[7]().getHomeserverUrl()}`,$=(0,r.DhX)(),c=(0,r.bGB)("p"),c.textContent=`User ID: ${t[7]().getUserId()}`,s=(0,r.DhX)(),i=(0,r.bGB)("p"),i.textContent=`Device ID: ${t[7]().getDeviceId()}`,a=(0,r.DhX)(),f=(0,r.bGB)("p"),l=(0,r.fLW)("MatrixClient.isCrossSigningReady: "),p=(0,r.fLW)(P),d=(0,r.DhX)(),u=(0,r.bGB)("p"),m=(0,r.fLW)("MatrixClient.isSecretStorageReady: "),g=(0,r.fLW)(F),y=(0,r.DhX)(),v=(0,r.bGB)("hr"),h=(0,r.DhX)(),w=(0,r.bGB)("h3"),w.textContent="Sessions",x=(0,r.DhX)(),L=(0,r.bGB)("ul");for(let t=0;t<A.length;t+=1)A[t].c();I=(0,r.DhX)(),T=(0,r.bGB)("hr"),U=(0,r.DhX)(),b=(0,r.bGB)("h3"),b.textContent="Key backup",Y=(0,r.DhX)(),E=(0,r.bGB)("p"),D=(0,r.fLW)("MatrixCrypto.isKeyBackupAvailable: "),X=(0,r.fLW)(V),B=(0,r.DhX)(),R=(0,r.bGB)("p"),_=(0,r.fLW)("MatrixCrypto.isConnectedToKeyBackup: "),Z=(0,r.fLW)(K),S=(0,r.DhX)(),M=(0,r.bGB)("p"),O=(0,r.fLW)("MatrixCrypto.getKeyBackupInfo():"),G=(0,r.bGB)("br"),j=(0,r.DhX)(),(0,r.YCL)(z.$$.fragment)},m(t,C){(0,r.$Tr)(t,e,C),(0,r.$Tr)(t,n,C),(0,r.$Tr)(t,o,C),(0,r.$Tr)(t,$,C),(0,r.$Tr)(t,c,C),(0,r.$Tr)(t,s,C),(0,r.$Tr)(t,i,C),(0,r.$Tr)(t,a,C),(0,r.$Tr)(t,f,C),(0,r.R3I)(f,l),(0,r.R3I)(f,p),(0,r.$Tr)(t,d,C),(0,r.$Tr)(t,u,C),(0,r.R3I)(u,m),(0,r.R3I)(u,g),(0,r.$Tr)(t,y,C),(0,r.$Tr)(t,v,C),(0,r.$Tr)(t,h,C),(0,r.$Tr)(t,w,C),(0,r.$Tr)(t,x,C),(0,r.$Tr)(t,L,C);for(let t=0;t<A.length;t+=1)A[t].m(L,null);(0,r.$Tr)(t,I,C),(0,r.$Tr)(t,T,C),(0,r.$Tr)(t,U,C),(0,r.$Tr)(t,b,C),(0,r.$Tr)(t,Y,C),(0,r.$Tr)(t,E,C),(0,r.R3I)(E,D),(0,r.R3I)(E,X),(0,r.$Tr)(t,B,C),(0,r.$Tr)(t,R,C),(0,r.R3I)(R,_),(0,r.R3I)(R,Z),(0,r.$Tr)(t,S,C),(0,r.$Tr)(t,M,C),(0,r.R3I)(M,O),(0,r.R3I)(M,G),(0,r.R3I)(M,j),(0,r.yef)(z,M,null),N=!0},p(t,[e]){if((!N||2&e)&&P!==(P=(void 0===t[1]?"checking":t[1])+"")&&(0,r.rTO)(p,P),(!N||4&e)&&F!==(F=(void 0===t[2]?"checking":t[2])+"")&&(0,r.rTO)(g,F),224&e){let n;for(q=t[5],n=0;n<q.length;n+=1){const o=k(t,q,n);A[n]?(A[n].p(o,e),(0,r.Ui)(A[n],1)):(A[n]=W(o),A[n].c(),(0,r.Ui)(A[n],1),A[n].m(L,null))}for((0,r.dvw)(),n=q.length;n<A.length;n+=1)H(n);(0,r.gbL)()}(!N||8&e)&&V!==(V=(void 0===t[3]?"checking":t[3])+"")&&(0,r.rTO)(X,V),(!N||1&e)&&K!==(K=t[0].crypto.isConnectedToKeyBackup()+"")&&(0,r.rTO)(Z,K);const n={};16&e&&(n.json=t[4]),z.$set(n)},i(t){if(!N){for(let t=0;t<q.length;t+=1)(0,r.Ui)(A[t]);(0,r.Ui)(z.$$.fragment,t),N=!0}},o(t){A=A.filter(Boolean);for(let t=0;t<A.length;t+=1)(0,r.etI)(A[t]);(0,r.etI)(z.$$.fragment,t),N=!1},d(t){t&&(0,r.ogt)(e),t&&(0,r.ogt)(n),t&&(0,r.ogt)(o),t&&(0,r.ogt)($),t&&(0,r.ogt)(c),t&&(0,r.ogt)(s),t&&(0,r.ogt)(i),t&&(0,r.ogt)(a),t&&(0,r.ogt)(f),t&&(0,r.ogt)(d),t&&(0,r.ogt)(u),t&&(0,r.ogt)(y),t&&(0,r.ogt)(v),t&&(0,r.ogt)(h),t&&(0,r.ogt)(w),t&&(0,r.ogt)(x),t&&(0,r.ogt)(L),(0,r.RMB)(A,t),t&&(0,r.ogt)(I),t&&(0,r.ogt)(T),t&&(0,r.ogt)(U),t&&(0,r.ogt)(b),t&&(0,r.ogt)(Y),t&&(0,r.ogt)(E),t&&(0,r.ogt)(B),t&&(0,r.ogt)(R),t&&(0,r.ogt)(S),t&&(0,r.ogt)(M),(0,r.vpE)(z)}}}function R(t,e,n){let r,o,$,c,{clientManager:s}=e;function i(){return s.client}let a=[],f={};return(0,b.H3)((async function(){var t;n(1,r=await i().isCrossSigningReady()),n(2,o=await i().isSecretStorageReady()),n(3,$=await s.crypto.isKeyBackupAvailable()),n(4,c=null!==(t=await s.crypto.getKeyBackupInfo())&&void 0!==t?t:void 0),n(5,a=(await i().getDevices()).devices),n(6,f=a.reduce(((t,e)=>(t[e.device_id]=s.client.checkDeviceTrust(s.client.getUserId(),e.device_id),t)),{}))})),t.$$set=t=>{"clientManager"in t&&n(0,s=t.clientManager)},[s,r,o,$,c,a,f,i]}class _ extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,R,B,r.N8,{clientManager:0})}}const Z=_;var S=n(8830),M=n(66715),O=n(25108);function G(t){return t.sort(((t,e)=>t.name.localeCompare(e.name)))}function j(t){return t.match(/\.(png|jpg|jpeg|tiff|tif|gif)$/)?"image":t.match(/\.(pdf)$/)?"picture_as_pdf":"article"}async function z(t,e){let n=!1;try{await t()}catch(t){t.message.match(/Failed to find event/)&&(n=!0),O.error(t),M.Vy.error(`${e}: ${t.message}`)}return n}function N(t,e,n){return r=>{const o=F(t,e.map((t=>t.name)),"folder")(r);return!0!==o?o:F(t,n.map((t=>t.name)),"file")(r)}}function P(t,e){return F(t,e.map((t=>t.name)),"workspace")}function F(t,e,n){return r=>"string"==typeof t&&r===t||(""===r?"You must enter a name":!e.find((t=>t===r))||`A ${n} called ${r} already exists`)}function V(t){document.querySelectorAll(".mdc-menu-surface").forEach((e=>e.setAttribute("style",`left: ${t.clientX}px; top: ${t.clientY}px; position: fixed;`)))}function K(t){V(t),setTimeout((()=>V(t)),10),setTimeout((()=>V(t)),100)}function q(t,e,n){const r=t.slice();return r[7]=e[n],r}function A(t){let e;return{c(){e=(0,r.fLW)("Shared with me")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function H(t){let e;return{c(){e=(0,r.fLW)("Name")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function J(t){let e;return{c(){e=(0,r.fLW)("Shared by")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Q(t){let e;return{c(){e=(0,r.fLW)("Accepted")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function tt(t){let e,n,o,$,c,s,i,a;return e=new S.bL({}),o=new S.bL({props:{$$slots:{default:[H]},$$scope:{ctx:t}}}),c=new S.bL({props:{$$slots:{default:[J]},$$scope:{ctx:t}}}),i=new S.bL({props:{$$slots:{default:[Q]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment)},m(t,f){(0,r.yef)(e,t,f),(0,r.$Tr)(t,n,f),(0,r.yef)(o,t,f),(0,r.$Tr)(t,$,f),(0,r.yef)(c,t,f),(0,r.$Tr)(t,s,f),(0,r.yef)(i,t,f),a=!0},p(t,e){const n={};1024&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);const r={};1024&e&&(r.$$scope={dirty:e,ctx:t}),c.$set(r);const $={};1024&e&&($.$$scope={dirty:e,ctx:t}),i.$set($)},i(t){a||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),a=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),a=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t),t&&(0,r.ogt)(s),(0,r.vpE)(i,t)}}}function et(t){let e,n;return e=new S.X2({props:{$$slots:{default:[tt]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};1024&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function nt(t){let e;return{c(){e=(0,r.bGB)("span"),e.textContent="work",(0,r.Ljt)(e,"class","material-icons-round solo-icon svelte-1mth730")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function rt(t){let e,n=t[7].name+"";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){1&o&&n!==(n=t[7].name+"")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function ot(t){let e,n=t[7].sharedBy+"";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){1&o&&n!==(n=t[7].sharedBy+"")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function $t(t){let e,n;return e=new D.ZP({props:{$$slots:{default:[it]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[4](t[7])})),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(n,r){t=n;const o={};1024&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function ct(t){return{c:r.ZTd,m:r.ZTd,p:r.ZTd,i:r.ZTd,o:r.ZTd,d:r.ZTd}}function st(t){let e;return{c(){e=(0,r.fLW)("Accept")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function it(t){let e,n;return e=new D.__({props:{$$slots:{default:[st]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};1024&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function at(t){let e,n,o,$;const c=[ct,$t],s=[];function i(t,e){return t[7].accepted?0:1}return e=i(t),n=s[e]=c[e](t),{c(){n.c(),o=(0,r.cSb)()},m(t,n){s[e].m(t,n),(0,r.$Tr)(t,o,n),$=!0},p(t,$){let a=e;e=i(t),e===a?s[e].p(t,$):((0,r.dvw)(),(0,r.etI)(s[a],1,1,(()=>{s[a]=null})),(0,r.gbL)(),n=s[e],n?n.p(t,$):(n=s[e]=c[e](t),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))},i(t){$||((0,r.Ui)(n),$=!0)},o(t){(0,r.etI)(n),$=!1},d(t){s[e].d(t),t&&(0,r.ogt)(o)}}}function ft(t){let e,n,o,$,c,s,i,a,f;return e=new S.bL({props:{$$slots:{default:[nt]},$$scope:{ctx:t}}}),o=new S.bL({props:{$$slots:{default:[rt]},$$scope:{ctx:t}}}),c=new S.bL({props:{$$slots:{default:[ot]},$$scope:{ctx:t}}}),i=new S.bL({props:{$$slots:{default:[at]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment),a=(0,r.DhX)()},m(t,l){(0,r.yef)(e,t,l),(0,r.$Tr)(t,n,l),(0,r.yef)(o,t,l),(0,r.$Tr)(t,$,l),(0,r.yef)(c,t,l),(0,r.$Tr)(t,s,l),(0,r.yef)(i,t,l),(0,r.$Tr)(t,a,l),f=!0},p(t,n){const r={};1024&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};1025&n&&($.$$scope={dirty:n,ctx:t}),o.$set($);const s={};1025&n&&(s.$$scope={dirty:n,ctx:t}),c.$set(s);const a={};1025&n&&(a.$$scope={dirty:n,ctx:t}),i.$set(a)},i(t){f||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),f=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),f=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t),t&&(0,r.ogt)(s),(0,r.vpE)(i,t),t&&(0,r.ogt)(a)}}}function lt(t){let e,n;return e=new S.X2({props:{class:"cursor-pointer",$$slots:{default:[ft]},$$scope:{ctx:t}}}),e.$on("dblclick:preventDefault",(function(){return t[5](t[7])})),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(n,r){t=n;const o={};1025&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function pt(t){let e,n,o=t[0],$=[];for(let e=0;e<o.length;e+=1)$[e]=lt(q(t,o,e));const c=t=>(0,r.etI)($[t],1,1,(()=>{$[t]=null}));return{c(){for(let t=0;t<$.length;t+=1)$[t].c();e=(0,r.cSb)()},m(t,o){for(let e=0;e<$.length;e+=1)$[e].m(t,o);(0,r.$Tr)(t,e,o),n=!0},p(t,n){if(3&n){let s;for(o=t[0],s=0;s<o.length;s+=1){const c=q(t,o,s);$[s]?($[s].p(c,n),(0,r.Ui)($[s],1)):($[s]=lt(c),$[s].c(),(0,r.Ui)($[s],1),$[s].m(e.parentNode,e))}for((0,r.dvw)(),s=o.length;s<$.length;s+=1)c(s);(0,r.gbL)()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)(0,r.Ui)($[t]);n=!0}},o(t){$=$.filter(Boolean);for(let t=0;t<$.length;t+=1)(0,r.etI)($[t]);n=!1},d(t){(0,r.RMB)($,t),t&&(0,r.ogt)(e)}}}function dt(t){let e,n,o,$;return e=new S.Fb({props:{$$slots:{default:[et]},$$scope:{ctx:t}}}),o=new S.uT({props:{$$slots:{default:[pt]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};1024&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};1025&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function ut(t){let e,n,o,$,c;return n=new D.ZP({props:{href:"#",variant:"text",$$slots:{default:[A]},$$scope:{ctx:t}}}),n.$on("click:preventDefault",t[3]),$=new S.ZP({props:{style:"width: 100%; border: none;",$$slots:{default:[dt]},$$scope:{ctx:t}}}),{c(){e=(0,r.bGB)("div"),(0,r.YCL)(n.$$.fragment),o=(0,r.DhX)(),(0,r.YCL)($.$$.fragment),(0,r.Ljt)(e,"class","svelte-1mth730")},m(t,s){(0,r.$Tr)(t,e,s),(0,r.yef)(n,e,null),(0,r.$Tr)(t,o,s),(0,r.yef)($,t,s),c=!0},p(t,[e]){const r={};1024&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r);const o={};1025&e&&(o.$$scope={dirty:e,ctx:t}),$.$set(o)},i(t){c||((0,r.Ui)(n.$$.fragment,t),(0,r.Ui)($.$$.fragment,t),c=!0)},o(t){(0,r.etI)(n.$$.fragment,t),(0,r.etI)($.$$.fragment,t),c=!1},d(t){t&&(0,r.ogt)(e),(0,r.vpE)(n),t&&(0,r.ogt)(o),(0,r.vpE)($,t)}}}function mt(t,e,n){let{clientManager:r}=e,o=[];async function c(){const t=[],e=await r.files.getPendingInvites();for(const n of e)t.push({sharedBy:"",accepted:!1,id:n.roomId,name:n.name,room:n});const $=r.client.getUserId(),c=await r.files.getChildren();for(const e of c){const n=await e.getCreatedByUserId();n&&n!==$&&t.push({accepted:!0,name:e.name,id:e.id,sharedBy:n})}n(0,o=t)}async function s(t){await z((async()=>{t.room&&await r.files.acceptInvite(t.room)}),`Failed to accept invite to ${t.name}`)}return(0,b.H3)((()=>{c(),r.on("modified",c)})),(0,b.ev)((()=>{r.off("modified",c)})),t.$$set=t=>{"clientManager"in t&&n(2,r=t.clientManager)},[o,s,r,()=>$().show("/shared"),t=>s(t),t=>t.accepted&&$().show(`/directory/${t.id}`)]}class gt extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,mt,ut,r.N8,{clientManager:2})}}const yt=gt;var vt=n(26901),ht=n(24307),wt=n(47028),xt=n(3663),Lt=n(25108);function It(t){let e;return{c(){e=(0,r.fLW)("Sign in")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Tt(t){let e,n;return{c(){e=(0,r.bGB)("p"),n=(0,r.fLW)(t[1]),(0,r.czc)(e,"color","red"),(0,r.czc)(e,"text-align","center"),(0,r.czc)(e,"font-weight","bold")},m(t,o){(0,r.$Tr)(t,e,o),(0,r.R3I)(e,n)},p(t,e){2&e&&(0,r.rTO)(n,t[1])},d(t){t&&(0,r.ogt)(e)}}}function Ut(t){let e;return{c(){e=(0,r.fLW)("e.g. https://matrix.org")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Ct(t){let e,n;return e=new ht.Z({props:{slot:"helper",$$slots:{default:[Ut]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};512&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function bt(t){let e;return{c(){e=(0,r.fLW)("Your matrix username")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Yt(t){let e,n;return e=new ht.Z({props:{slot:"helper",$$slots:{default:[bt]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};512&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Et(t){let e;return{c(){e=(0,r.fLW)("Your matrix password")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Dt(t){let e,n;return e=new ht.Z({props:{slot:"helper",$$slots:{default:[Et]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};512&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function kt(t){let e,n;return e=new xt.Z({props:{indeterminate:!0,style:"height: 24px; width: 24px; margin-left: 8px;"}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Xt(t){let e,n,o,$=t[2]&&kt();return{c(){e=(0,r.fLW)("Sign in\n            "),$&&$.c(),n=(0,r.cSb)()},m(t,c){(0,r.$Tr)(t,e,c),$&&$.m(t,c),(0,r.$Tr)(t,n,c),o=!0},p(t,e){t[2]?$?4&e&&(0,r.Ui)($,1):($=kt(),$.c(),(0,r.Ui)($,1),$.m(n.parentNode,n)):$&&((0,r.dvw)(),(0,r.etI)($,1,1,(()=>{$=null})),(0,r.gbL)())},i(t){o||((0,r.Ui)($),o=!0)},o(t){(0,r.etI)($),o=!1},d(t){t&&(0,r.ogt)(e),$&&$.d(t),t&&(0,r.ogt)(n)}}}function Wt(t){let e;return{c(){e=(0,r.fLW)("Create account")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Bt(t){let e,n;return e=new D.__({props:{$$slots:{default:[Wt]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};512&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Rt(t){let e,n,o,$,c,s,i,a,f,l,p,d,u,m,g,y,v,h,w,x,L,I,T,U,C,b;n=new wt.Dx({props:{style:"font-size: 24px; font-weight: 600; ",$$slots:{default:[It]},$$scope:{ctx:t}}});let Y=t[1]&&Tt(t);function E(e){t[4](e)}let k={variant:"outlined",label:"Homeserver",type:"text",required:!0,style:"margin-top: 16px;",$$slots:{helper:[Ct]},$$scope:{ctx:t}};function X(e){t[5](e)}void 0!==t[0].homeserverUrl&&(k.value=t[0].homeserverUrl),a=new vt.ZP({props:k}),r.VnY.push((()=>(0,r.akz)(a,"value",E)));let W={variant:"outlined",label:"Username",type:"text",required:!0,style:"margin-top: 16px;",$$slots:{helper:[Yt]},$$scope:{ctx:t}};function B(e){t[6](e)}void 0!==t[0].userId&&(W.value=t[0].userId),p=new vt.ZP({props:W}),r.VnY.push((()=>(0,r.akz)(p,"value",X)));let R={variant:"outlined",label:"Password",type:"password",required:!0,style:"margin-top: 16px;",$$slots:{helper:[Dt]},$$scope:{ctx:t}};return void 0!==t[0].password&&(R.value=t[0].password),m=new vt.ZP({props:R}),r.VnY.push((()=>(0,r.akz)(m,"value",B))),v=new D.ZP({props:{type:"submit",variant:"unelevated",disabled:t[2],$$slots:{default:[Xt]},$$scope:{ctx:t}}}),L=new D.ZP({props:{href:"#",$$slots:{default:[Bt]},$$scope:{ctx:t}}}),L.$on("click:preventDefault",t[7]),{c(){e=(0,r.bGB)("div"),(0,r.YCL)(n.$$.fragment),o=(0,r.DhX)(),$=(0,r.bGB)("p"),$.innerHTML="<strong>Please use a dedicated test account. The homeserver also needs to allow high request rates.</strong>",c=(0,r.DhX)(),Y&&Y.c(),s=(0,r.DhX)(),i=(0,r.bGB)("form"),(0,r.YCL)(a.$$.fragment),l=(0,r.DhX)(),(0,r.YCL)(p.$$.fragment),u=(0,r.DhX)(),(0,r.YCL)(m.$$.fragment),y=(0,r.DhX)(),(0,r.YCL)(v.$$.fragment),h=(0,r.DhX)(),w=(0,r.bGB)("p"),x=(0,r.fLW)("New?\n            "),(0,r.YCL)(L.$$.fragment),I=(0,r.DhX)(),T=(0,r.bGB)("p"),T.innerHTML="<i>It is recommended to use a dedicated test account as the E2E encryption settings used in this beta version may clash with your existing account and your keys get lost.</i>"},m(f,d){(0,r.$Tr)(f,e,d),(0,r.yef)(n,e,null),(0,r.R3I)(e,o),(0,r.R3I)(e,$),(0,r.R3I)(e,c),Y&&Y.m(e,null),(0,r.R3I)(e,s),(0,r.R3I)(e,i),(0,r.yef)(a,i,null),(0,r.R3I)(i,l),(0,r.yef)(p,i,null),(0,r.R3I)(i,u),(0,r.yef)(m,i,null),(0,r.R3I)(i,y),(0,r.yef)(v,i,null),(0,r.R3I)(i,h),(0,r.R3I)(i,w),(0,r.R3I)(w,x),(0,r.yef)(L,w,null),(0,r.R3I)(i,I),(0,r.R3I)(i,T),U=!0,C||(b=(0,r.oLt)(i,"submit",(0,r.AT7)(t[8])),C=!0)},p(t,[o]){const $={};512&o&&($.$$scope={dirty:o,ctx:t}),n.$set($),t[1]?Y?Y.p(t,o):(Y=Tt(t),Y.c(),Y.m(e,s)):Y&&(Y.d(1),Y=null);const c={};512&o&&(c.$$scope={dirty:o,ctx:t}),!f&&1&o&&(f=!0,c.value=t[0].homeserverUrl,(0,r.hjT)((()=>f=!1))),a.$set(c);const i={};512&o&&(i.$$scope={dirty:o,ctx:t}),!d&&1&o&&(d=!0,i.value=t[0].userId,(0,r.hjT)((()=>d=!1))),p.$set(i);const l={};512&o&&(l.$$scope={dirty:o,ctx:t}),!g&&1&o&&(g=!0,l.value=t[0].password,(0,r.hjT)((()=>g=!1))),m.$set(l);const u={};4&o&&(u.disabled=t[2]),516&o&&(u.$$scope={dirty:o,ctx:t}),v.$set(u);const y={};512&o&&(y.$$scope={dirty:o,ctx:t}),L.$set(y)},i(t){U||((0,r.Ui)(n.$$.fragment,t),(0,r.Ui)(a.$$.fragment,t),(0,r.Ui)(p.$$.fragment,t),(0,r.Ui)(m.$$.fragment,t),(0,r.Ui)(v.$$.fragment,t),(0,r.Ui)(L.$$.fragment,t),U=!0)},o(t){(0,r.etI)(n.$$.fragment,t),(0,r.etI)(a.$$.fragment,t),(0,r.etI)(p.$$.fragment,t),(0,r.etI)(m.$$.fragment,t),(0,r.etI)(v.$$.fragment,t),(0,r.etI)(L.$$.fragment,t),U=!1},d(t){t&&(0,r.ogt)(e),(0,r.vpE)(n),Y&&Y.d(),(0,r.vpE)(a),(0,r.vpE)(p),(0,r.vpE)(m),(0,r.vpE)(v),(0,r.vpE)(L),C=!1,b()}}}function _t(t,e,n){let{clientManager:r}=e,o="",c=!1;async function s(){var t,e;try{n(1,o=""),n(2,c=!0),await r.login()}catch(r){Lt.error(r),n(1,o=[r.errcode,null!==(e=null===(t=r.cause)||void 0===t?void 0:t.message)&&void 0!==e?e:r.message].filter((t=>!!t)).join(": "))}finally{n(2,c=!1)}}return t.$$set=t=>{"clientManager"in t&&n(0,r=t.clientManager)},[r,o,c,s,function(e){t.$$.not_equal(r.homeserverUrl,e)&&(r.homeserverUrl=e,n(0,r))},function(e){t.$$.not_equal(r.userId,e)&&(r.userId=e,n(0,r))},function(e){t.$$.not_equal(r.password,e)&&(r.password=e,n(0,r))},()=>$().show("/register"),()=>s()]}class Zt extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,_t,Rt,r.N8,{clientManager:0})}}const St=Zt;var Mt=n(8743),Ot=n(25108);function Gt(t){let e;return{c(){e=(0,r.fLW)("Reconnect")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function jt(t){let e,n;return{c(){e=(0,r.bGB)("p"),n=(0,r.fLW)(t[1]),(0,r.czc)(e,"color","red"),(0,r.czc)(e,"text-align","center"),(0,r.czc)(e,"font-weight","bold")},m(t,o){(0,r.$Tr)(t,e,o),(0,r.R3I)(e,n)},p(t,e){2&e&&(0,r.rTO)(n,t[1])},d(t){t&&(0,r.ogt)(e)}}}function zt(t){let e;return{c(){e=(0,r.fLW)("Try again now")},m(t,n){(0,r.$Tr)(t,e,n)},i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function Nt(t){let e,n,o;return e=new xt.Z({props:{indeterminate:!0,style:"height: 24px; width: 24px; margin-left: 8px;"}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.fLW)("\n                Connecting...")},m(t,$){(0,r.yef)(e,t,$),(0,r.$Tr)(t,n,$),o=!0},i(t){o||((0,r.Ui)(e.$$.fragment,t),o=!0)},o(t){(0,r.etI)(e.$$.fragment,t),o=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n)}}}function Pt(t){let e,n,o,$;const c=[Nt,zt],s=[];function i(t,e){return t[2]?0:1}return e=i(t),n=s[e]=c[e](t),{c(){n.c(),o=(0,r.cSb)()},m(t,n){s[e].m(t,n),(0,r.$Tr)(t,o,n),$=!0},p(t,$){let a=e;e=i(t),e!==a&&((0,r.dvw)(),(0,r.etI)(s[a],1,1,(()=>{s[a]=null})),(0,r.gbL)(),n=s[e],n||(n=s[e]=c[e](t),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))},i(t){$||((0,r.Ui)(n),$=!0)},o(t){(0,r.etI)(n),$=!1},d(t){s[e].d(t),t&&(0,r.ogt)(o)}}}function Ft(t){let e;return{c(){e=(0,r.fLW)("Sign out")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Vt(t){let e,n;return e=new D.__({props:{$$slots:{default:[Ft]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};512&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Kt(t){let e,n,o,$,c,s,i,a,f,l,p,d,u,m,g,y,v,h;n=new wt.Dx({props:{style:"font-size: 24px; font-weight: 600; ",$$slots:{default:[Gt]},$$scope:{ctx:t}}});let w=t[1]&&jt(t);function x(e){t[5](e)}let L={variant:"outlined",label:"Homeserver",type:"text",style:"margin-top: 16px;",disabled:!0};function I(e){t[6](e)}void 0!==t[0].homeserverUrl&&(L.value=t[0].homeserverUrl),s=new vt.ZP({props:L}),r.VnY.push((()=>(0,r.akz)(s,"value",x)));let T={variant:"outlined",label:"Username",type:"text",style:"margin-top: 16px;",disabled:!0};return void 0!==t[0].userId&&(T.value=t[0].userId),f=new vt.ZP({props:T}),r.VnY.push((()=>(0,r.akz)(f,"value",I))),d=new D.ZP({props:{type:"submit",variant:"unelevated",disabled:t[2],$$slots:{default:[Pt]},$$scope:{ctx:t}}}),g=new D.ZP({props:{href:"#",$$slots:{default:[Vt]},$$scope:{ctx:t}}}),g.$on("click:preventDefault",t[7]),{c(){e=(0,r.bGB)("div"),(0,r.YCL)(n.$$.fragment),o=(0,r.DhX)(),w&&w.c(),$=(0,r.DhX)(),c=(0,r.bGB)("form"),(0,r.YCL)(s.$$.fragment),a=(0,r.DhX)(),(0,r.YCL)(f.$$.fragment),p=(0,r.DhX)(),(0,r.YCL)(d.$$.fragment),u=(0,r.DhX)(),m=(0,r.bGB)("p"),(0,r.YCL)(g.$$.fragment)},m(i,l){(0,r.$Tr)(i,e,l),(0,r.yef)(n,e,null),(0,r.R3I)(e,o),w&&w.m(e,null),(0,r.R3I)(e,$),(0,r.R3I)(e,c),(0,r.yef)(s,c,null),(0,r.R3I)(c,a),(0,r.yef)(f,c,null),(0,r.R3I)(c,p),(0,r.yef)(d,c,null),(0,r.R3I)(c,u),(0,r.R3I)(c,m),(0,r.yef)(g,m,null),y=!0,v||(h=(0,r.oLt)(c,"submit",(0,r.AT7)(t[8])),v=!0)},p(t,[o]){const c={};512&o&&(c.$$scope={dirty:o,ctx:t}),n.$set(c),t[1]?w?w.p(t,o):(w=jt(t),w.c(),w.m(e,$)):w&&(w.d(1),w=null);const a={};!i&&1&o&&(i=!0,a.value=t[0].homeserverUrl,(0,r.hjT)((()=>i=!1))),s.$set(a);const p={};!l&&1&o&&(l=!0,p.value=t[0].userId,(0,r.hjT)((()=>l=!1))),f.$set(p);const u={};4&o&&(u.disabled=t[2]),516&o&&(u.$$scope={dirty:o,ctx:t}),d.$set(u);const m={};512&o&&(m.$$scope={dirty:o,ctx:t}),g.$set(m)},i(t){y||((0,r.Ui)(n.$$.fragment,t),(0,r.Ui)(s.$$.fragment,t),(0,r.Ui)(f.$$.fragment,t),(0,r.Ui)(d.$$.fragment,t),(0,r.Ui)(g.$$.fragment,t),y=!0)},o(t){(0,r.etI)(n.$$.fragment,t),(0,r.etI)(s.$$.fragment,t),(0,r.etI)(f.$$.fragment,t),(0,r.etI)(d.$$.fragment,t),(0,r.etI)(g.$$.fragment,t),y=!1},d(t){t&&(0,r.ogt)(e),(0,r.vpE)(n),w&&w.d(),(0,r.vpE)(s),(0,r.vpE)(f),(0,r.vpE)(d),(0,r.vpE)(g),v=!1,h()}}}function qt(t,e,n){let{clientManager:r}=e,o="",c=!1;async function s(){var t,e,s;try{n(1,o=""),n(2,c=!0),await r.rehydrate(),$().redirect(null!==(t=r.nextRoute)&&void 0!==t?t:"/home"),n(0,r.nextRoute=void 0,r)}catch(t){Ot.error(t),n(1,o=[t.errcode,null!==(s=null===(e=t.cause)||void 0===e?void 0:e.message)&&void 0!==s?s:t.message].filter((t=>!!t)).join(": ")),t instanceof Mt.ConnectionError&&n(1,o+=". Is the homeserver up?")}finally{n(2,c=!1)}}async function i(){await r.logout(),$().redirect("/signin")}return s().then().catch(Ot.error),t.$$set=t=>{"clientManager"in t&&n(0,r=t.clientManager)},[r,o,c,s,i,function(e){t.$$.not_equal(r.homeserverUrl,e)&&(r.homeserverUrl=e,n(0,r))},function(e){t.$$.not_equal(r.userId,e)&&(r.userId=e,n(0,r))},()=>i(),()=>s()]}class At extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,qt,Kt,r.N8,{clientManager:0})}}const Ht=At;var Jt=n(40214),Qt=n(14868),te=n(48261);const ee="undefined"!=typeof window,ne=(0,te.fZ)(ee?window.location.href:"blank://"),re=ee?window.URL:n(8575).URL;if(ee){const t=history.pushState,e=history.replaceState,n=()=>ne.set(window.location.href);history.pushState=function(...e){t.apply(this,e),n()},history.replaceState=function(...t){e.apply(this,t),n()},window.addEventListener("popstate",n),window.addEventListener("hashchange",n)}const oe={subscribe:(0,te.nK)(ne,(t=>new re(t))).subscribe,ssrSet:t=>ne.set(t)};function $e(t,e,n){const r=t.slice();return r[9]=e[n],r}function ce(t){let e,n;return e=new Qt.ZP({props:{class:"sidebar",$$slots:{default:[we]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};4102&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function se(t){let e;return{c(){e=(0,r.fLW)("home")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function ie(t){let e;return{c(){e=(0,r.fLW)("Home")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function ae(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[se]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[ie]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};4096&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};4096&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function fe(t){let e;return{c(){e=(0,r.fLW)("work")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function le(t){let e,n=t[9].name+"";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){2&o&&n!==(n=t[9].name+"")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function pe(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[fe]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[le]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};4096&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};4098&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function de(t){let e,n;return e=new Qt.ck({props:{href:"#",selected:t[2].startsWith(`#!/directory/${t[9].id}`),$$slots:{default:[pe]},$$scope:{ctx:t}}}),e.$on("click:preventDefault",(function(){return t[6](t[9])})),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(n,r){t=n;const o={};6&r&&(o.selected=t[2].startsWith(`#!/directory/${t[9].id}`)),4098&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function ue(t){let e;return{c(){e=(0,r.fLW)("people_outline")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function me(t){let e;return{c(){e=(0,r.fLW)("Shared with me")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function ge(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[ue]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[me]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};4096&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};4096&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function ye(t){let e;return{c(){e=(0,r.fLW)("delete")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function ve(t){let e;return{c(){e=(0,r.fLW)("Trash")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function he(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[ye]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[ve]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};4096&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};4096&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function we(t){let e,n,o,$,c,s,i,a,f;e=new Qt.ck({props:{href:"#",selected:"#!/home"===t[2],$$slots:{default:[ae]},$$scope:{ctx:t}}}),e.$on("click:preventDefault",t[5]);let l=t[1],p=[];for(let e=0;e<l.length;e+=1)p[e]=de($e(t,l,e));const d=t=>(0,r.etI)(p[t],1,1,(()=>{p[t]=null}));return $=new Qt.Z0({}),s=new Qt.ck({props:{href:"#",selected:t[2].startsWith("#!/shared"),$$slots:{default:[ge]},$$scope:{ctx:t}}}),s.$on("click:preventDefault",t[7]),a=new Qt.ck({props:{disabled:!0,$$slots:{default:[he]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)();for(let t=0;t<p.length;t+=1)p[t].c();o=(0,r.DhX)(),(0,r.YCL)($.$$.fragment),c=(0,r.DhX)(),(0,r.YCL)(s.$$.fragment),i=(0,r.DhX)(),(0,r.YCL)(a.$$.fragment)},m(t,l){(0,r.yef)(e,t,l),(0,r.$Tr)(t,n,l);for(let e=0;e<p.length;e+=1)p[e].m(t,l);(0,r.$Tr)(t,o,l),(0,r.yef)($,t,l),(0,r.$Tr)(t,c,l),(0,r.yef)(s,t,l),(0,r.$Tr)(t,i,l),(0,r.yef)(a,t,l),f=!0},p(t,n){const $={};if(4&n&&($.selected="#!/home"===t[2]),4096&n&&($.$$scope={dirty:n,ctx:t}),e.$set($),6&n){let e;for(l=t[1],e=0;e<l.length;e+=1){const $=$e(t,l,e);p[e]?(p[e].p($,n),(0,r.Ui)(p[e],1)):(p[e]=de($),p[e].c(),(0,r.Ui)(p[e],1),p[e].m(o.parentNode,o))}for((0,r.dvw)(),e=l.length;e<p.length;e+=1)d(e);(0,r.gbL)()}const c={};4&n&&(c.selected=t[2].startsWith("#!/shared")),4096&n&&(c.$$scope={dirty:n,ctx:t}),s.$set(c);const i={};4096&n&&(i.$$scope={dirty:n,ctx:t}),a.$set(i)},i(t){if(!f){(0,r.Ui)(e.$$.fragment,t);for(let t=0;t<l.length;t+=1)(0,r.Ui)(p[t]);(0,r.Ui)($.$$.fragment,t),(0,r.Ui)(s.$$.fragment,t),(0,r.Ui)(a.$$.fragment,t),f=!0}},o(t){(0,r.etI)(e.$$.fragment,t),p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)(0,r.etI)(p[t]);(0,r.etI)($.$$.fragment,t),(0,r.etI)(s.$$.fragment,t),(0,r.etI)(a.$$.fragment,t),f=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.RMB)(p,t),t&&(0,r.ogt)(o),(0,r.vpE)($,t),t&&(0,r.ogt)(c),(0,r.vpE)(s,t),t&&(0,r.ogt)(i),(0,r.vpE)(a,t)}}}function xe(t){let e,n,o=t[0]&&ce(t);return{c(){o&&o.c(),e=(0,r.cSb)()},m(t,$){o&&o.m(t,$),(0,r.$Tr)(t,e,$),n=!0},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&(0,r.Ui)(o,1)):(o=ce(t),o.c(),(0,r.Ui)(o,1),o.m(e.parentNode,e)):o&&((0,r.dvw)(),(0,r.etI)(o,1,1,(()=>{o=null})),(0,r.gbL)())},i(t){n||((0,r.Ui)(o),n=!0)},o(t){(0,r.etI)(o),n=!1},d(t){o&&o.d(t),t&&(0,r.ogt)(e)}}}function Le(t,e,n){let o;(0,r.FIv)(t,oe,(t=>n(4,o=t)));let{clientManager:c}=e,s=c.authedState.value;c.authedState.onUpdate((t=>{n(0,s=t)}));let i=[];async function a(){n(1,i=G(await c.files.getChildren()))}c.on("modified",a),(0,b.ev)((()=>c.off("modified",a))),(0,b.H3)(a);let f=o.hash;return t.$$set=t=>{"clientManager"in t&&n(3,c=t.clientManager)},t.$$.update=()=>{16&t.$$.dirty&&n(2,f=o.hash)},[s,i,f,c,o,()=>$().show("/home"),t=>$().show(`/directory/${t.id}`),()=>$().show("/shared")]}class Ie extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,Le,xe,r.N8,{clientManager:3})}}const Te=Ie;var Ue=n(41139),Ce=n(30330),be=n(28245);function Ye(t){let e,n;return e=new Ce.Dx({props:{style:"font-size: 24px; font-weight: 600;",$$slots:{default:[Ee]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};131080&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Ee(t){let e;return{c(){e=(0,r.fLW)(t[3])},m(t,n){(0,r.$Tr)(t,e,n)},p(t,n){8&n&&(0,r.rTO)(e,t[3])},d(t){t&&(0,r.ogt)(e)}}}function De(t){let e;return{c(){e=(0,r.fLW)(t[5])},m(t,n){(0,r.$Tr)(t,e,n)},p(t,n){32&n&&(0,r.rTO)(e,t[5])},d(t){t&&(0,r.ogt)(e)}}}function ke(t){let e,n;return e=new ht.Z({props:{slot:"helper",$$slots:{default:[De]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};131104&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Xe(t){let e,n,o;function $(e){t[12](e)}let c={use:[Ce.$Y],variant:"outlined",type:"text",required:!0,label:t[6],invalid:t[1],style:"width: 100%;",$$slots:{helper:[ke]},$$scope:{ctx:t}};return void 0!==t[0]&&(c.value=t[0]),e=new vt.ZP({props:c}),r.VnY.push((()=>(0,r.akz)(e,"value",$))),t[13](e),e.$on("keyup",t[8]),{c(){(0,r.YCL)(e.$$.fragment)},m(t,n){(0,r.yef)(e,t,n),o=!0},p(t,o){const $={};64&o&&($.label=t[6]),2&o&&($.invalid=t[1]),131104&o&&($.$$scope={dirty:o,ctx:t}),!n&&1&o&&(n=!0,$.value=t[0],(0,r.hjT)((()=>n=!1))),e.$set($)},i(t){o||((0,r.Ui)(e.$$.fragment,t),o=!0)},o(t){(0,r.etI)(e.$$.fragment,t),o=!1},d(n){t[13](null),(0,r.vpE)(e,n)}}}function We(t){let e;return{c(){e=(0,r.fLW)("Cancel")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Be(t){let e,n;return e=new D.__({props:{$$slots:{default:[We]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};131072&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Re(t){let e;return{c(){e=(0,r.fLW)(t[7])},m(t,n){(0,r.$Tr)(t,e,n)},p(t,n){128&n&&(0,r.rTO)(e,t[7])},d(t){t&&(0,r.ogt)(e)}}}function _e(t){let e,n;return e=new D.__({props:{$$slots:{default:[Re]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};131200&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Ze(t){let e,n,o,$;return e=new D.ZP({props:{variant:"outlined",$$slots:{default:[Be]},$$scope:{ctx:t}}}),o=new D.ZP({props:{action:"ok",variant:"unelevated",disabled:t[1],$$slots:{default:[_e]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};131072&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};2&n&&($.disabled=t[1]),131200&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function Se(t){let e,n,o,$,c,s=t[3]&&Ye(t);return n=new Ce.VY({props:{$$slots:{default:[Xe]},$$scope:{ctx:t}}}),$=new Ce.eX({props:{$$slots:{default:[Ze]},$$scope:{ctx:t}}}),{c(){s&&s.c(),e=(0,r.DhX)(),(0,r.YCL)(n.$$.fragment),o=(0,r.DhX)(),(0,r.YCL)($.$$.fragment)},m(t,i){s&&s.m(t,i),(0,r.$Tr)(t,e,i),(0,r.yef)(n,t,i),(0,r.$Tr)(t,o,i),(0,r.yef)($,t,i),c=!0},p(t,o){t[3]?s?(s.p(t,o),8&o&&(0,r.Ui)(s,1)):(s=Ye(t),s.c(),(0,r.Ui)(s,1),s.m(e.parentNode,e)):s&&((0,r.dvw)(),(0,r.etI)(s,1,1,(()=>{s=null})),(0,r.gbL)());const c={};131175&o&&(c.$$scope={dirty:o,ctx:t}),n.$set(c);const i={};131202&o&&(i.$$scope={dirty:o,ctx:t}),$.$set(i)},i(t){c||((0,r.Ui)(s),(0,r.Ui)(n.$$.fragment,t),(0,r.Ui)($.$$.fragment,t),c=!0)},o(t){(0,r.etI)(s),(0,r.etI)(n.$$.fragment,t),(0,r.etI)($.$$.fragment,t),c=!1},d(t){s&&s.d(t),t&&(0,r.ogt)(e),(0,r.vpE)(n,t),t&&(0,r.ogt)(o),(0,r.vpE)($,t)}}}function Me(t){let e,n,o;function $(e){t[14](e)}let c={class:"textfield-dialog",$$slots:{default:[Se]},$$scope:{ctx:t}};return void 0!==t[4]&&(c.open=t[4]),e=new Ce.ZP({props:c}),r.VnY.push((()=>(0,r.akz)(e,"open",$))),e.$on("MDCDialog:closed",t[9]),{c(){(0,r.YCL)(e.$$.fragment)},m(t,n){(0,r.yef)(e,t,n),o=!0},p(t,[o]){const $={};131311&o&&($.$$scope={dirty:o,ctx:t}),!n&&16&o&&(n=!0,$.open=t[4],(0,r.hjT)((()=>n=!1))),e.$set($)},i(t){o||((0,r.Ui)(e.$$.fragment,t),o=!0)},o(t){(0,r.etI)(e.$$.fragment,t),o=!1},d(t){(0,r.vpE)(e,t)}}}function Oe(t,e,n){let o,$,c,s,i="",a=!1,f=!1,l="",p="",d="";return t.$$.update=()=>{if(2051&t.$$.dirty&&c){const t=c(i);n(1,f=!0!==t),n(5,l=f&&"string"==typeof t?t:"")}},[i,f,o,$,a,l,p,d,function(t){f||"Enter"!==t.key||(s(i),n(4,a=!1))},function(t){"ok"===t.detail.action?s(i):s(void 0),n(4,a=!1)},async function(t,e,r,f,l){return n(3,$=t),n(0,i=e),n(4,a=!0),n(6,p=r),n(7,d=f),n(11,c=l),setTimeout((()=>{var t;return null===(t=o.getElement().getElementsByTagName("input").item(0))||void 0===t?void 0:t.select()}),100),new Promise((t=>{s=t}))},c,function(t){i=t,n(0,i)},function(t){r.VnY[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},function(t){a=t,n(4,a)}]}class Ge extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,Oe,Me,r.N8,{open:10})}get open(){return this.$$.ctx[10]}}const je=Ge;function ze(t){let e;return{c(){e=(0,r.bGB)("span"),e.textContent="-"},m(t,n){(0,r.$Tr)(t,e,n)},p:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function Ne(t){let e,n,o;function $(t,e){return 1&e&&(n=null),null==n&&(n=!!(E()().diff(t[0],"hours")<24)),n?Fe:Pe}let c=$(t,-1),s=c(t);return{c(){e=(0,r.bGB)("span"),s.c(),(0,r.Ljt)(e,"title",o=t[0].format("LLLL"))},m(t,n){(0,r.$Tr)(t,e,n),s.m(e,null)},p(t,n){c===(c=$(t,n))&&s?s.p(t,n):(s.d(1),s=c(t),s&&(s.c(),s.m(e,null))),1&n&&o!==(o=t[0].format("LLLL"))&&(0,r.Ljt)(e,"title",o)},d(t){t&&(0,r.ogt)(e),s.d()}}}function Pe(t){let e,n=t[0].format("L")+"";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){1&o&&n!==(n=t[0].format("L")+"")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function Fe(t){let e,n=t[0].format("LT")+"";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){1&o&&n!==(n=t[0].format("LT")+"")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function Ve(t){let e;function n(t,e){return t[0]?Ne:ze}let o=n(t),$=o(t);return{c(){$.c(),e=(0,r.cSb)()},m(t,n){$.m(t,n),(0,r.$Tr)(t,e,n)},p(t,[r]){o===(o=n(t))&&$?$.p(t,r):($.d(1),$=o(t),$&&($.c(),$.m(e.parentNode,e)))},i:r.ZTd,o:r.ZTd,d(t){$.d(t),t&&(0,r.ogt)(e)}}}function Ke(t,e,n){let r,{date:o}=e;return t.$$set=t=>{"date"in t&&n(1,o=t.date)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=o?E()(o):null)},[r,o]}class qe extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,Ke,Ve,r.N8,{date:1})}}const Ae=qe;function He(t){let e,n;return e=new Ae({props:{date:t[0]}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,[n]){const r={};1&n&&(r.date=t[0]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Je(t,e,n){let{entry:r}=e,{lastModified:o=!1}=e,$=null;return t.$$set=t=>{"entry"in t&&n(1,r=t.entry),"lastModified"in t&&n(2,o=t.lastModified)},t.$$.update=()=>{6&t.$$.dirty&&(async()=>{var t,e;n(0,$=o?null!==(t=await r.getLastModifiedDate())&&void 0!==t?t:null:null!==(e=await r.getCreationDate())&&void 0!==e?e:null)})()},[$,r,o]}class Qe extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,Je,He,r.N8,{entry:1,lastModified:2})}}const tn=Qe;var en=n(49413);function nn(t){let e,n=t[0].encryptionStatus+"";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){1&o&&n!==(n=t[0].encryptionStatus+"")&&(0,r.rTO)(e,n)},i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function rn(t){let e,n;return e=new en.O({}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p:r.ZTd,i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function on(t){let e;return{c(){e=(0,r.fLW)("Unable to decrypt")},m(t,n){(0,r.$Tr)(t,e,n)},p:r.ZTd,i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function $n(t){let e,n;return{c(){e=(0,r.bGB)("span"),n=(0,r.fLW)(t[1])},m(t,o){(0,r.$Tr)(t,e,o),(0,r.R3I)(e,n)},p(t,e){2&e&&(0,r.rTO)(n,t[1])},i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function cn(t){let e,n,o,$;const c=[$n,on,rn,nn],s=[];function i(t,e){return t[1]?0:"decryptionFailed"===t[0].encryptionStatus?1:"decryptionPending"===t[0].encryptionStatus?2:3}return e=i(t),n=s[e]=c[e](t),{c(){n.c(),o=(0,r.cSb)()},m(t,n){s[e].m(t,n),(0,r.$Tr)(t,o,n),$=!0},p(t,[$]){let a=e;e=i(t),e===a?s[e].p(t,$):((0,r.dvw)(),(0,r.etI)(s[a],1,1,(()=>{s[a]=null})),(0,r.gbL)(),n=s[e],n?n.p(t,$):(n=s[e]=c[e](t),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))},i(t){$||((0,r.Ui)(n),$=!0)},o(t){(0,r.etI)(n),$=!1},d(t){s[e].d(t),t&&(0,r.ogt)(o)}}}function sn(t,e,n){let{entry:r}=e,o=null;return t.$$set=t=>{"entry"in t&&n(0,r=t.entry)},t.$$.update=()=>{1&t.$$.dirty&&(async()=>{const t=await r.getSize();n(1,o="number"==typeof t?t>=0?function(t){const e=["B","kB","MB","GB","TB"];let n=0;for(;t>1e3&&n<e.length;)n++,t/=1e3;return`${t.toFixed(0)} ${e[n]}`}(t):"-":null)})()},[r,o]}class an extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,sn,cn,r.N8,{entry:0})}}const fn=an;function ln(t){let e,n;return e=new en.O({}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p:r.ZTd,i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function pn(t){let e,n;return{c(){e=(0,r.bGB)("span"),n=(0,r.fLW)(t[0])},m(t,o){(0,r.$Tr)(t,e,o),(0,r.R3I)(e,n)},p(t,e){1&e&&(0,r.rTO)(n,t[0])},i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function dn(t){let e,n,o,$;const c=[pn,ln],s=[];function i(t,e){return t[1]?0:1}return e=i(t),n=s[e]=c[e](t),{c(){n.c(),o=(0,r.cSb)()},m(t,n){s[e].m(t,n),(0,r.$Tr)(t,o,n),$=!0},p(t,[$]){let a=e;e=i(t),e===a?s[e].p(t,$):((0,r.dvw)(),(0,r.etI)(s[a],1,1,(()=>{s[a]=null})),(0,r.gbL)(),n=s[e],n?n.p(t,$):(n=s[e]=c[e](t),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))},i(t){$||((0,r.Ui)(n),$=!0)},o(t){(0,r.etI)(n),$=!1},d(t){s[e].d(t),t&&(0,r.ogt)(o)}}}function un(t,e,n){let r,{entry:o}=e,$=!1;return t.$$set=t=>{"entry"in t&&n(2,o=t.entry)},t.$$.update=()=>{4&t.$$.dirty&&(async()=>{var t;n(0,r=null!==(t=await o.getCreatedByUserId())&&void 0!==t?t:"-"),n(1,$=!0)})()},[r,$,o]}class mn extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,un,dn,r.N8,{entry:2})}}const gn=mn;var yn=n(44594),vn=n(31668),hn=n(25108);function wn(t){let e;return{c(){e=(0,r.fLW)("Get missing encryption keys")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function xn(t){let e,n,o,$,c,s,i,a,f,l,p=t[8].imported+"",d=t[8].total+"",u=1===t[8].total?"":"s";function m(t,e){return t[9]&&t[9].usable?Un:Tn}let g=m(t),y=g(t);return{c(){e=(0,r.bGB)("p"),n=(0,r.fLW)("Restored "),o=(0,r.fLW)(p),$=(0,r.fLW)(" of "),c=(0,r.fLW)(d),s=(0,r.fLW)(" key"),i=(0,r.fLW)(u),a=(0,r.fLW)(" from the backup."),f=(0,r.DhX)(),y.c(),l=(0,r.cSb)()},m(t,p){(0,r.$Tr)(t,e,p),(0,r.R3I)(e,n),(0,r.R3I)(e,o),(0,r.R3I)(e,$),(0,r.R3I)(e,c),(0,r.R3I)(e,s),(0,r.R3I)(e,i),(0,r.R3I)(e,a),(0,r.$Tr)(t,f,p),y.m(t,p),(0,r.$Tr)(t,l,p)},p(t,e){256&e&&p!==(p=t[8].imported+"")&&(0,r.rTO)(o,p),256&e&&d!==(d=t[8].total+"")&&(0,r.rTO)(c,d),256&e&&u!==(u=1===t[8].total?"":"s")&&(0,r.rTO)(i,u),g!==(g=m(t))&&(y.d(1),y=g(t),y&&(y.c(),y.m(l.parentNode,l)))},i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e),t&&(0,r.ogt)(f),y.d(t),t&&(0,r.ogt)(l)}}}function Ln(t){let e,n,o,$,c,s,i,a,f=t[10]&&Cn(t);function l(e){t[15](e)}let p={use:[Ce.$Y],variant:"outlined",type:"password",required:!0,label:"Passphrase",style:"width: 100%;",$$slots:{helper:[Yn]},$$scope:{ctx:t}};return void 0!==t[6]&&(p.value=t[6]),$=new vt.ZP({props:p}),r.VnY.push((()=>(0,r.akz)($,"value",l))),$.$on("keyup",t[16]),i=new D.ZP({props:{variant:"unelevated",disabled:t[11]||void 0,$$slots:{default:[Dn]},$$scope:{ctx:t}}}),i.$on("click",t[17]),{c(){e=(0,r.bGB)("p"),e.textContent="Please enter your online key backup passphrase:",n=(0,r.DhX)(),f&&f.c(),o=(0,r.DhX)(),(0,r.YCL)($.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment)},m(t,c){(0,r.$Tr)(t,e,c),(0,r.$Tr)(t,n,c),f&&f.m(t,c),(0,r.$Tr)(t,o,c),(0,r.yef)($,t,c),(0,r.$Tr)(t,s,c),(0,r.yef)(i,t,c),a=!0},p(t,e){t[10]?f?f.p(t,e):(f=Cn(t),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null);const n={};524288&e&&(n.$$scope={dirty:e,ctx:t}),!c&&64&e&&(c=!0,n.value=t[6],(0,r.hjT)((()=>c=!1))),$.$set(n);const s={};2048&e&&(s.disabled=t[11]||void 0),526336&e&&(s.$$scope={dirty:e,ctx:t}),i.$set(s)},i(t){a||((0,r.Ui)($.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),a=!0)},o(t){(0,r.etI)($.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),a=!1},d(t){t&&(0,r.ogt)(e),t&&(0,r.ogt)(n),f&&f.d(t),t&&(0,r.ogt)(o),(0,r.vpE)($,t),t&&(0,r.ogt)(s),(0,r.vpE)(i,t)}}}function In(t){let e,n,o,$,c,s,i,a,f,l,p,d,u,m,g,y,v,h,w,x,L,I,T;function U(t,e){return t[3]?Bn:t[2]?Wn:Xn}i=new D.JO({props:{class:"material-icons-round foo",$$slots:{default:[kn]},$$scope:{ctx:t}}});let C=U(t),b=C(t);function Y(t,e){return 1===t[4]?Sn:Zn}y=new D.JO({props:{class:"material-icons-round foo",$$slots:{default:[_n]},$$scope:{ctx:t}}});let E=Y(t),k=E(t);return{c(){e=(0,r.bGB)("p"),e.textContent="You are missing encryption keys for one or more files. To get access to these files you will need to share the keys with this session:",n=(0,r.DhX)(),o=(0,r.bGB)("div"),$=(0,r.bGB)("div"),c=(0,r.bGB)("p"),c.textContent="Use online key backup",s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment),a=(0,r.DhX)(),f=(0,r.bGB)("p"),f.textContent="You can restore your keys from your online key backup if available",l=(0,r.DhX)(),b.c(),d=(0,r.DhX)(),u=(0,r.bGB)("div"),m=(0,r.bGB)("p"),m.textContent="Verify this session",g=(0,r.DhX)(),(0,r.YCL)(y.$$.fragment),v=(0,r.DhX)(),h=(0,r.bGB)("p"),h.textContent="You can verify this session from another of your sessions",w=(0,r.DhX)(),k.c(),(0,r.Ljt)($,"disabled",p=t[7]||void 0),(0,r.Ljt)($,"class","svelte-ikz9j4"),(0,r.Ljt)(u,"disabled",x=Pn||void 0),(0,r.Ljt)(u,"class","svelte-ikz9j4"),(0,r.Ljt)(o,"class","options svelte-ikz9j4")},m(p,x){(0,r.$Tr)(p,e,x),(0,r.$Tr)(p,n,x),(0,r.$Tr)(p,o,x),(0,r.R3I)(o,$),(0,r.R3I)($,c),(0,r.R3I)($,s),(0,r.yef)(i,$,null),(0,r.R3I)($,a),(0,r.R3I)($,f),(0,r.R3I)($,l),b.m($,null),(0,r.R3I)(o,d),(0,r.R3I)(o,u),(0,r.R3I)(u,m),(0,r.R3I)(u,g),(0,r.yef)(y,u,null),(0,r.R3I)(u,v),(0,r.R3I)(u,h),(0,r.R3I)(u,w),k.m(u,null),L=!0,I||(T=(0,r.oLt)($,"click",t[14]),I=!0)},p(t,e){const n={};524288&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n),C===(C=U(t))&&b?b.p(t,e):(b.d(1),b=C(t),b&&(b.c(),b.m($,null))),(!L||128&e&&p!==(p=t[7]||void 0))&&(0,r.Ljt)($,"disabled",p);const o={};524288&e&&(o.$$scope={dirty:e,ctx:t}),y.$set(o),E!==(E=Y(t))&&(k.d(1),k=E(t),k&&(k.c(),k.m(u,null)))},i(t){L||((0,r.Ui)(i.$$.fragment,t),(0,r.Ui)(y.$$.fragment,t),L=!0)},o(t){(0,r.etI)(i.$$.fragment,t),(0,r.etI)(y.$$.fragment,t),L=!1},d(t){t&&(0,r.ogt)(e),t&&(0,r.ogt)(n),t&&(0,r.ogt)(o),(0,r.vpE)(i),b.d(),(0,r.vpE)(y),k.d(),I=!1,T()}}}function Tn(t){let e;return{c(){e=(0,r.bGB)("p"),e.textContent="However, your session is unable to add keys to the backup because it isn't trusted."},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Un(t){let e;return{c(){e=(0,r.bGB)("p"),e.textContent="Your session will add encryption keys to the backup."},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Cn(t){let e,n;return{c(){e=(0,r.bGB)("p"),n=(0,r.fLW)(t[10]),(0,r.czc)(e,"color","red"),(0,r.czc)(e,"text-align","center"),(0,r.czc)(e,"font-weight","bold")},m(t,o){(0,r.$Tr)(t,e,o),(0,r.R3I)(e,n)},p(t,e){1024&e&&(0,r.rTO)(n,t[10])},d(t){t&&(0,r.ogt)(e)}}}function bn(t){let e;return{c(){e=(0,r.fLW)("The is the passphrase that you chose when you setup the backup")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Yn(t){let e,n;return e=new vt.uw({props:{slot:"helper",$$slots:{default:[bn]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};524288&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function En(t){let e,n;return e=new xt.Z({props:{indeterminate:!0,style:"height: 24px; width: 24px; margin-left: 8px;"}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Dn(t){let e,n,o,$=t[11]&&En();return{c(){e=(0,r.fLW)("Connect to backup\n                "),$&&$.c(),n=(0,r.cSb)()},m(t,c){(0,r.$Tr)(t,e,c),$&&$.m(t,c),(0,r.$Tr)(t,n,c),o=!0},p(t,e){t[11]?$?2048&e&&(0,r.Ui)($,1):($=En(),$.c(),(0,r.Ui)($,1),$.m(n.parentNode,n)):$&&((0,r.dvw)(),(0,r.etI)($,1,1,(()=>{$=null})),(0,r.gbL)())},i(t){o||((0,r.Ui)($),o=!0)},o(t){(0,r.etI)($),o=!1},d(t){t&&(0,r.ogt)(e),$&&$.d(t),t&&(0,r.ogt)(n)}}}function kn(t){let e;return{c(){e=(0,r.fLW)("cloud_download")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Xn(t){let e;return{c(){e=(0,r.bGB)("p"),e.textContent="You don't have a key backup available",(0,r.czc)(e,"color","var(--mdc-theme-error)")},m(t,n){(0,r.$Tr)(t,e,n)},p:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function Wn(t){let e,n,o=t[2].count&&Rn(t);return{c(){e=(0,r.bGB)("p"),n=(0,r.fLW)("Backup available "),o&&o.c(),(0,r.czc)(e,"color","var(--mdc-theme-primary)")},m(t,$){(0,r.$Tr)(t,e,$),(0,r.R3I)(e,n),o&&o.m(e,null)},p(t,n){t[2].count?o?o.p(t,n):(o=Rn(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(t){t&&(0,r.ogt)(e),o&&o.d()}}}function Bn(t){let e;return{c(){e=(0,r.bGB)("p"),e.textContent="You are already connected to online key backup",(0,r.czc)(e,"color","var(--mdc-theme-primary)")},m(t,n){(0,r.$Tr)(t,e,n)},p:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function Rn(t){let e,n,o,$=t[2].count+"";return{c(){e=(0,r.fLW)("containing "),n=(0,r.fLW)($),o=(0,r.fLW)(" keys")},m(t,$){(0,r.$Tr)(t,e,$),(0,r.$Tr)(t,n,$),(0,r.$Tr)(t,o,$)},p(t,e){4&e&&$!==($=t[2].count+"")&&(0,r.rTO)(n,$)},d(t){t&&(0,r.ogt)(e),t&&(0,r.ogt)(n),t&&(0,r.ogt)(o)}}}function _n(t){let e;return{c(){e=(0,r.fLW)("verified_user")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Zn(t){let e;return{c(){e=(0,r.bGB)("p"),e.textContent="Session verification is not yet implemented",(0,r.czc)(e,"color","var(--mdc-theme-error)")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Sn(t){let e;return{c(){e=(0,r.bGB)("p"),e.textContent="You don't have any other sessions that you can verify with",(0,r.czc)(e,"color","var(--mdc-theme-error)")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Mn(t){let e,n,o,$;const c=[In,Ln,xn],s=[];function i(t,e){return t[5]?t[8]?2:1:0}return e=i(t),n=s[e]=c[e](t),{c(){n.c(),o=(0,r.cSb)()},m(t,n){s[e].m(t,n),(0,r.$Tr)(t,o,n),$=!0},p(t,$){let a=e;e=i(t),e===a?s[e].p(t,$):((0,r.dvw)(),(0,r.etI)(s[a],1,1,(()=>{s[a]=null})),(0,r.gbL)(),n=s[e],n?n.p(t,$):(n=s[e]=c[e](t),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))},i(t){$||((0,r.Ui)(n),$=!0)},o(t){(0,r.etI)(n),$=!1},d(t){s[e].d(t),t&&(0,r.ogt)(o)}}}function On(t){let e,n=t[8]?"Done":"Cancel";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){256&o&&n!==(n=t[8]?"Done":"Cancel")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function Gn(t){let e,n;return e=new D.__({props:{$$slots:{default:[On]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};524544&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function jn(t){let e,n;return e=new D.ZP({props:{variant:"unelevated",$$slots:{default:[Gn]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};524544&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function zn(t){let e,n,o,$,c,s;return e=new Ce.Dx({props:{style:"font-size: 24px; font-weight: 600;",$$slots:{default:[wn]},$$scope:{ctx:t}}}),o=new Ce.VY({props:{$$slots:{default:[Mn]},$$scope:{ctx:t}}}),c=new Ce.eX({props:{$$slots:{default:[jn]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment)},m(t,i){(0,r.yef)(e,t,i),(0,r.$Tr)(t,n,i),(0,r.yef)(o,t,i),(0,r.$Tr)(t,$,i),(0,r.yef)(c,t,i),s=!0},p(t,n){const r={};524288&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};528380&n&&($.$$scope={dirty:n,ctx:t}),o.$set($);const s={};524544&n&&(s.$$scope={dirty:n,ctx:t}),c.$set(s)},i(t){s||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),s=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),s=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t)}}}function Nn(t){let e,n;return e=new Ce.ZP({props:{open:t[0],surface$style:"width: fit-content; max-width: calc(100vw - 32px);",$$slots:{default:[zn]},$$scope:{ctx:t}}}),e.$on("MDCDialog:closed",(function(){(0,r.sBU)(t[1])&&t[1].apply(this,arguments)})),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(n,[r]){t=n;const o={};1&r&&(o.open=t[0]),528380&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}let Pn=!0;function Fn(t,e,n){let r,o,{clientManager:$}=e,{open:c}=e,{closed:s}=e,i=null,a=1,f=!1,l="",p=!0,d=!1;async function u(t,e){n(3,d=e)}(0,b.H3)((()=>{$.on("keyBackupStatus",u),u($.files,$.crypto.isConnectedToKeyBackup())})),(0,b.ev)((()=>$.off("keyBackupStatus",u)));let m="",g=!1;async function y(){if(i){n(11,g=!0);try{n(10,m=""),n(8,r=void 0),n(9,o=void 0);const t=await $.crypto.connectToExistingKeyBackup(l);n(8,r=t.restoreResult),n(9,o=t.trustInfo)}catch(t){hn.error(t),n(10,m=[t.errcode,t.message].filter((t=>!!t)).join(": "))}finally{n(11,g=!1)}}}return t.$$set=t=>{"clientManager"in t&&n(13,$=t.clientManager),"open"in t&&n(0,c=t.open),"closed"in t&&n(1,s=t.closed)},t.$$.update=()=>{8192&t.$$.dirty&&(async()=>{n(2,i=await $.crypto.getKeyBackupInfo())})(),8192&t.$$.dirty&&(async()=>{n(4,a=(await $.files.client.getDevices()).devices.length)})(),1&t.$$.dirty&&c&&(n(5,f=!1),n(6,l=""),n(8,r=void 0),n(9,o=void 0),n(10,m="")),12&t.$$.dirty&&n(7,p=!i||d)},[c,s,i,d,a,f,l,p,r,o,m,g,y,$,()=>{p||n(5,f=!0)},function(t){l=t,n(6,l),n(0,c)},t=>"Enter"===t.detail.key&&y(),()=>y()]}class Vn extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,Fn,Nn,r.N8,{clientManager:13,open:0,closed:1})}}const Kn=Vn;var qn=n(25108);function An(t){let e;return{c(){e=(0,r.fLW)("Setup online key backup")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Hn(t){let e,n,o,$;return{c(){e=(0,r.bGB)("p"),e.textContent="Online backup has been setup. Your recovery key is:",n=(0,r.DhX)(),o=(0,r.bGB)("div"),$=(0,r.fLW)(t[5]),(0,r.czc)(o,"white-space","pre-wrap"),(0,r.czc)(o,"font-family","monospace")},m(t,c){(0,r.$Tr)(t,e,c),(0,r.$Tr)(t,n,c),(0,r.$Tr)(t,o,c),(0,r.R3I)(o,$)},p(t,e){32&e&&(0,r.rTO)($,t[5])},i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e),t&&(0,r.ogt)(n),t&&(0,r.ogt)(o)}}}function Jn(t){let e,n,o,$,c,s,i,a,f,l,p=t[3]&&Qn(t);function d(e){t[8](e)}let u={use:[Ce.$Y],variant:"outlined",type:"password",required:!0,label:"Passphrase",style:"width: 100%;",$$slots:{helper:[er]},$$scope:{ctx:t}};return void 0!==t[2]&&(u.value=t[2]),s=new vt.ZP({props:u}),r.VnY.push((()=>(0,r.akz)(s,"value",d))),s.$on("keyup",t[9]),f=new D.ZP({props:{variant:"unelevated",disabled:t[4],$$slots:{default:[rr]},$$scope:{ctx:t}}}),f.$on("click",t[10]),{c(){e=(0,r.bGB)("p"),e.textContent="Securely backup your encryption keys online so that you can use them in other sessions.",n=(0,r.DhX)(),o=(0,r.bGB)("p"),o.textContent="Please enter your online key backup passphrase:",$=(0,r.DhX)(),p&&p.c(),c=(0,r.DhX)(),(0,r.YCL)(s.$$.fragment),a=(0,r.DhX)(),(0,r.YCL)(f.$$.fragment)},m(t,i){(0,r.$Tr)(t,e,i),(0,r.$Tr)(t,n,i),(0,r.$Tr)(t,o,i),(0,r.$Tr)(t,$,i),p&&p.m(t,i),(0,r.$Tr)(t,c,i),(0,r.yef)(s,t,i),(0,r.$Tr)(t,a,i),(0,r.yef)(f,t,i),l=!0},p(t,e){t[3]?p?p.p(t,e):(p=Qn(t),p.c(),p.m(c.parentNode,c)):p&&(p.d(1),p=null);const n={};2048&e&&(n.$$scope={dirty:e,ctx:t}),!i&&4&e&&(i=!0,n.value=t[2],(0,r.hjT)((()=>i=!1))),s.$set(n);const o={};16&e&&(o.disabled=t[4]),2064&e&&(o.$$scope={dirty:e,ctx:t}),f.$set(o)},i(t){l||((0,r.Ui)(s.$$.fragment,t),(0,r.Ui)(f.$$.fragment,t),l=!0)},o(t){(0,r.etI)(s.$$.fragment,t),(0,r.etI)(f.$$.fragment,t),l=!1},d(t){t&&(0,r.ogt)(e),t&&(0,r.ogt)(n),t&&(0,r.ogt)(o),t&&(0,r.ogt)($),p&&p.d(t),t&&(0,r.ogt)(c),(0,r.vpE)(s,t),t&&(0,r.ogt)(a),(0,r.vpE)(f,t)}}}function Qn(t){let e,n;return{c(){e=(0,r.bGB)("p"),n=(0,r.fLW)(t[3]),(0,r.czc)(e,"color","red"),(0,r.czc)(e,"text-align","center"),(0,r.czc)(e,"font-weight","bold")},m(t,o){(0,r.$Tr)(t,e,o),(0,r.R3I)(e,n)},p(t,e){8&e&&(0,r.rTO)(n,t[3])},d(t){t&&(0,r.ogt)(e)}}}function tr(t){let e;return{c(){e=(0,r.fLW)("You will use this passphrase to access this backup in future")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function er(t){let e,n;return e=new vt.uw({props:{slot:"helper",$$slots:{default:[tr]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};2048&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function nr(t){let e,n;return e=new xt.Z({props:{indeterminate:!0,style:"height: 24px; width: 24px; margin-left: 8px;"}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function rr(t){let e,n,o,$=t[4]&&nr();return{c(){e=(0,r.fLW)("Create backup\n                "),$&&$.c(),n=(0,r.cSb)()},m(t,c){(0,r.$Tr)(t,e,c),$&&$.m(t,c),(0,r.$Tr)(t,n,c),o=!0},p(t,e){t[4]?$?16&e&&(0,r.Ui)($,1):($=nr(),$.c(),(0,r.Ui)($,1),$.m(n.parentNode,n)):$&&((0,r.dvw)(),(0,r.etI)($,1,1,(()=>{$=null})),(0,r.gbL)())},i(t){o||((0,r.Ui)($),o=!0)},o(t){(0,r.etI)($),o=!1},d(t){t&&(0,r.ogt)(e),$&&$.d(t),t&&(0,r.ogt)(n)}}}function or(t){let e,n,o,$;const c=[Jn,Hn],s=[];function i(t,e){return t[5]?1:0}return e=i(t),n=s[e]=c[e](t),{c(){n.c(),o=(0,r.cSb)()},m(t,n){s[e].m(t,n),(0,r.$Tr)(t,o,n),$=!0},p(t,$){let a=e;e=i(t),e===a?s[e].p(t,$):((0,r.dvw)(),(0,r.etI)(s[a],1,1,(()=>{s[a]=null})),(0,r.gbL)(),n=s[e],n?n.p(t,$):(n=s[e]=c[e](t),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))},i(t){$||((0,r.Ui)(n),$=!0)},o(t){(0,r.etI)(n),$=!1},d(t){s[e].d(t),t&&(0,r.ogt)(o)}}}function $r(t){let e,n=t[5]?"Done":"Cancel";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){32&o&&n!==(n=t[5]?"Done":"Cancel")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function cr(t){let e,n;return e=new D.__({props:{$$slots:{default:[$r]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};2080&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function sr(t){let e,n;return e=new D.ZP({props:{variant:"unelevated",$$slots:{default:[cr]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};2080&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function ir(t){let e,n,o,$,c,s;return e=new Ce.Dx({props:{style:"font-size: 24px; font-weight: 600;",$$slots:{default:[An]},$$scope:{ctx:t}}}),o=new Ce.VY({props:{$$slots:{default:[or]},$$scope:{ctx:t}}}),c=new Ce.eX({props:{$$slots:{default:[sr]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment)},m(t,i){(0,r.yef)(e,t,i),(0,r.$Tr)(t,n,i),(0,r.yef)(o,t,i),(0,r.$Tr)(t,$,i),(0,r.yef)(c,t,i),s=!0},p(t,n){const r={};2048&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};2108&n&&($.$$scope={dirty:n,ctx:t}),o.$set($);const s={};2080&n&&(s.$$scope={dirty:n,ctx:t}),c.$set(s)},i(t){s||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),s=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),s=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t)}}}function ar(t){let e,n;return e=new Ce.ZP({props:{open:t[0],surface$style:"width: fit-content; max-width: calc(100vw - 32px);",$$slots:{default:[ir]},$$scope:{ctx:t}}}),e.$on("MDCDialog:closed",(function(){(0,r.sBU)(t[1])&&t[1].apply(this,arguments)})),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(n,[r]){t=n;const o={};1&r&&(o.open=t[0]),2108&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function fr(t,e,n){let{clientManager:r}=e,{open:o}=e,{closed:$}=e,c="",s="",i=!1,a="";async function f(){n(4,i=!0);try{n(3,s=""),n(5,a=await r.crypto.createNewKeyBackup(c))}catch(t){qn.error(t),n(3,s=[t.errcode,t.message].filter((t=>!!t)).join(": "))}finally{n(4,i=!1)}}return t.$$set=t=>{"clientManager"in t&&n(7,r=t.clientManager),"open"in t&&n(0,o=t.open),"closed"in t&&n(1,$=t.closed)},t.$$.update=()=>{1&t.$$.dirty&&o&&(n(2,c=""),n(3,s=""),n(5,a=""))},[o,$,c,s,i,a,f,r,function(t){c=t,n(2,c),n(0,o)},t=>"Enter"===t.detail.key&&f(),()=>f()]}class lr extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,fr,ar,r.N8,{clientManager:7,open:0,closed:1})}}const pr=lr;n(45213),n(31037);var dr=n(30454),ur=n(53314),mr=n(97482);const gr=["image/jpeg","image/gif","image/png","video/mp4","video/webm","video/ogg","audio/mp4","audio/webm","audio/aac","audio/mpeg","audio/ogg","audio/wave","audio/wav","audio/x-wav","audio/x-pn-wav","audio/flac","audio/x-flac"];function yr(t){return URL.createObjectURL(new Blob([t.data],{type:(e=t.mimetype,gr.includes(e)?e:"application/octet-stream")}));var e}function vr(t){let e,n,o,$;return e=new Ce.Dx({props:{style:"font-size: 24px; font-weight: 600;",$$slots:{default:[hr]},$$scope:{ctx:t}}}),o=new Ce.VY({props:{$$slots:{default:[Dr]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};4194306&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};4194750&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function hr(t){let e,n=t[1].name+"";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){2&o&&n!==(n=t[1].name+"")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function wr(t){let e,n;return e=new en.O({}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p:r.ZTd,i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function xr(t){let e,n;return{c(){e=(0,r.bGB)("p"),n=(0,r.fLW)(t[5])},m(t,o){(0,r.$Tr)(t,e,o),(0,r.R3I)(e,n)},p(t,e){32&e&&(0,r.rTO)(n,t[5])},i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function Lr(t){let e,n,o,$,c;const s=[br,Cr,Ur,Tr,Ir],i=[];function a(t,n){return 12&n&&(e=null),null==e&&(e=!(!t[3].mimetype.startsWith("image")&&!["png","svg","jpg","jpeg","gif"].includes(t[2]))),e?0:"application/pdf"===t[3].mimetype||"pdf"===t[2]?1:"text/markdown"===t[3].mimetype||"md"===t[2]?2:"text/plain"===t[3].mimetype||"txt"===t[2]?3:4}return n=a(t,-1),o=i[n]=s[n](t),{c(){o.c(),$=(0,r.cSb)()},m(t,e){i[n].m(t,e),(0,r.$Tr)(t,$,e),c=!0},p(t,e){let c=n;n=a(t,e),n===c?i[n].p(t,e):((0,r.dvw)(),(0,r.etI)(i[c],1,1,(()=>{i[c]=null})),(0,r.gbL)(),o=i[n],o?o.p(t,e):(o=i[n]=s[n](t),o.c()),(0,r.Ui)(o,1),o.m($.parentNode,$))},i(t){c||((0,r.Ui)(o),c=!0)},o(t){(0,r.etI)(o),c=!1},d(t){i[n].d(t),t&&(0,r.ogt)($)}}}function Ir(t){let e,n,o,$,c=t[3].mimetype+"";return{c(){e=(0,r.fLW)("Unable to preview/open files of this type: "),n=(0,r.bGB)("pre"),o=(0,r.fLW)(c),$=(0,r.fLW)(".")},m(t,c){(0,r.$Tr)(t,e,c),(0,r.$Tr)(t,n,c),(0,r.R3I)(n,o),(0,r.$Tr)(t,$,c)},p(t,e){8&e&&c!==(c=t[3].mimetype+"")&&(0,r.rTO)(o,c)},i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e),t&&(0,r.ogt)(n),t&&(0,r.ogt)($)}}}function Tr(t){let e,n,o=Pr(t[3].data)+"";return{c(){e=(0,r.bGB)("pre"),n=(0,r.fLW)(o)},m(t,o){(0,r.$Tr)(t,e,o),(0,r.R3I)(e,n)},p(t,e){8&e&&o!==(o=Pr(t[3].data)+"")&&(0,r.rTO)(n,o)},i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function Ur(t){let e,n,o,$;const c=[Er,Yr],s=[];function i(t,e){return t[7]?0:1}return e=i(t),n=s[e]=c[e](t),{c(){n.c(),o=(0,r.cSb)()},m(t,n){s[e].m(t,n),(0,r.$Tr)(t,o,n),$=!0},p(t,$){let a=e;e=i(t),e===a?s[e].p(t,$):((0,r.dvw)(),(0,r.etI)(s[a],1,1,(()=>{s[a]=null})),(0,r.gbL)(),n=s[e],n?n.p(t,$):(n=s[e]=c[e](t),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))},i(t){$||((0,r.Ui)(n),$=!0)},o(t){(0,r.etI)(n),$=!1},d(t){s[e].d(t),t&&(0,r.ogt)(o)}}}function Cr(t){let e,n,o;return{c(){e=(0,r.bGB)("iframe"),(0,r.Jn4)(e.src,n=t[4])||(0,r.Ljt)(e,"src",n),(0,r.Ljt)(e,"height","100%"),(0,r.Ljt)(e,"width","100%"),(0,r.Ljt)(e,"title",o=t[1].name)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,$){16&$&&!(0,r.Jn4)(e.src,n=t[4])&&(0,r.Ljt)(e,"src",n),2&$&&o!==(o=t[1].name)&&(0,r.Ljt)(e,"title",o)},i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function br(t){let e,n,o;return{c(){e=(0,r.bGB)("img"),(0,r.Jn4)(e.src,n=t[4])||(0,r.Ljt)(e,"src",n),(0,r.Ljt)(e,"alt",o=t[1].name),(0,r.czc)(e,"max-width","100%"),(0,r.czc)(e,"max-height","100%")},m(t,n){(0,r.$Tr)(t,e,n)},p(t,$){16&$&&!(0,r.Jn4)(e.src,n=t[4])&&(0,r.Ljt)(e,"src",n),2&$&&o!==(o=t[1].name)&&(0,r.Ljt)(e,"alt",o)},i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function Yr(t){let e,n;return e=new dr.AE({props:{value:t[8],plugins:t[10],sanitize:Fr}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};256&n&&(r.value=t[8]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Er(t){let e,n;return e=new dr.ML({props:{value:t[8],plugins:t[10],sanitize:Fr,placeholder:"",editorConfig:{},locale:"en",overridePreview:void 0,uploadImages:void 0}}),e.$on("change",t[12]),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};256&n&&(r.value=t[8]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Dr(t){let e,n,o,$;const c=[Lr,xr,wr],s=[];function i(t,e){return t[3]?0:t[5]?1:2}return e=i(t),n=s[e]=c[e](t),{c(){n.c(),o=(0,r.cSb)()},m(t,n){s[e].m(t,n),(0,r.$Tr)(t,o,n),$=!0},p(t,$){let a=e;e=i(t),e===a?s[e].p(t,$):((0,r.dvw)(),(0,r.etI)(s[a],1,1,(()=>{s[a]=null})),(0,r.gbL)(),n=s[e],n?n.p(t,$):(n=s[e]=c[e](t),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))},i(t){$||((0,r.Ui)(n),$=!0)},o(t){(0,r.etI)(n),$=!1},d(t){s[e].d(t),t&&(0,r.ogt)(o)}}}function kr(t){let e,n,o,$=t[6]&&Wr(t);return n=new D.ZP({props:{action:"download",variant:"unelevated",$$slots:{default:[Zr]},$$scope:{ctx:t}}}),{c(){$&&$.c(),e=(0,r.DhX)(),(0,r.YCL)(n.$$.fragment)},m(t,c){$&&$.m(t,c),(0,r.$Tr)(t,e,c),(0,r.yef)(n,t,c),o=!0},p(t,o){t[6]?$?($.p(t,o),64&o&&(0,r.Ui)($,1)):($=Wr(t),$.c(),(0,r.Ui)($,1),$.m(e.parentNode,e)):$&&((0,r.dvw)(),(0,r.etI)($,1,1,(()=>{$=null})),(0,r.gbL)());const c={};4194304&o&&(c.$$scope={dirty:o,ctx:t}),n.$set(c)},i(t){o||((0,r.Ui)($),(0,r.Ui)(n.$$.fragment,t),o=!0)},o(t){(0,r.etI)($),(0,r.etI)(n.$$.fragment,t),o=!1},d(t){$&&$.d(t),t&&(0,r.ogt)(e),(0,r.vpE)(n,t)}}}function Xr(t){let e,n,o,$;return e=new D.ZP({props:{variant:"outlined",$$slots:{default:[Mr]},$$scope:{ctx:t}}}),e.$on("click",t[16]),o=new D.ZP({props:{action:"save",variant:"unelevated",disabled:!t[9],$$slots:{default:[Gr]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};512&n&&($.disabled=!t[9]),4194304&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function Wr(t){let e,n;return e=new D.ZP({props:{variant:"outlined",$$slots:{default:[Rr]},$$scope:{ctx:t}}}),e.$on("click",t[17]),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Br(t){let e;return{c(){e=(0,r.fLW)("Edit")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Rr(t){let e,n;return e=new D.__({props:{$$slots:{default:[Br]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function _r(t){let e;return{c(){e=(0,r.fLW)("Download")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Zr(t){let e,n;return e=new D.__({props:{$$slots:{default:[_r]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Sr(t){let e;return{c(){e=(0,r.fLW)("Cancel")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Mr(t){let e,n;return e=new D.__({props:{$$slots:{default:[Sr]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Or(t){let e;return{c(){e=(0,r.fLW)("Save")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Gr(t){let e,n;return e=new D.__({props:{$$slots:{default:[Or]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function jr(t){let e,n,o,$;const c=[Xr,kr],s=[];function i(t,e){return t[7]?0:1}return e=i(t),n=s[e]=c[e](t),{c(){n.c(),o=(0,r.cSb)()},m(t,n){s[e].m(t,n),(0,r.$Tr)(t,o,n),$=!0},p(t,$){let a=e;e=i(t),e===a?s[e].p(t,$):((0,r.dvw)(),(0,r.etI)(s[a],1,1,(()=>{s[a]=null})),(0,r.gbL)(),n=s[e],n?n.p(t,$):(n=s[e]=c[e](t),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))},i(t){$||((0,r.Ui)(n),$=!0)},o(t){(0,r.etI)(n),$=!1},d(t){s[e].d(t),t&&(0,r.ogt)(o)}}}function zr(t){let e,n,o,$=t[1]&&vr(t);return n=new Ce.eX({props:{$$slots:{default:[jr]},$$scope:{ctx:t}}}),{c(){$&&$.c(),e=(0,r.DhX)(),(0,r.YCL)(n.$$.fragment)},m(t,c){$&&$.m(t,c),(0,r.$Tr)(t,e,c),(0,r.yef)(n,t,c),o=!0},p(t,o){t[1]?$?($.p(t,o),2&o&&(0,r.Ui)($,1)):($=vr(t),$.c(),(0,r.Ui)($,1),$.m(e.parentNode,e)):$&&((0,r.dvw)(),(0,r.etI)($,1,1,(()=>{$=null})),(0,r.gbL)());const c={};4195008&o&&(c.$$scope={dirty:o,ctx:t}),n.$set(c)},i(t){o||((0,r.Ui)($),(0,r.Ui)(n.$$.fragment,t),o=!0)},o(t){(0,r.etI)($),(0,r.etI)(n.$$.fragment,t),o=!1},d(t){$&&$.d(t),t&&(0,r.ogt)(e),(0,r.vpE)(n,t)}}}function Nr(t){let e,n,o;function $(e){t[18](e)}let c={surface$style:"width: calc(100vw - 100px); max-width: calc(100vw - 32px); height: calc(100vh - 100px);",$$slots:{default:[zr]},$$scope:{ctx:t}};return void 0!==t[0]&&(c.open=t[0]),e=new Ce.ZP({props:c}),r.VnY.push((()=>(0,r.akz)(e,"open",$))),e.$on("MDCDialog:closed",t[11]),{c(){(0,r.YCL)(e.$$.fragment)},m(t,n){(0,r.yef)(e,t,n),o=!0},p(t,[o]){const $={};4195326&o&&($.$$scope={dirty:o,ctx:t}),!n&&1&o&&(n=!0,$.open=t[0],(0,r.hjT)((()=>n=!1))),e.$set($)},i(t){o||((0,r.Ui)(e.$$.fragment,t),o=!0)},o(t){(0,r.etI)(e.$$.fragment,t),o=!1},d(t){(0,r.vpE)(e,t)}}}function Pr(t){return(new TextDecoder).decode(t)}function Fr(t){return t}function Vr(t,e,n){const r=[(0,ur.Z)(),(0,mr.Z)({test:()=>!0})];let o,$,c,s,i,a,f=!1,l="",p=!1,d=!1,u="",m=!1;function g(){!c||"text/markdown"!==c.mimetype&&"md"!==$||n(8,u=Pr(c.data)),n(7,d=!0)}function y(){!c||"text/markdown"!==c.mimetype&&"md"!==$||n(8,u=Pr(c.data)),n(7,d=!1)}return[f,o,$,c,i,l,p,d,u,m,r,async function(t){var e;if("save"===t.detail.action){const t=(new TextEncoder).encode(u);return await o.addVersion({data:t,size:t.length,mimetype:"text/markdown"}),a(!0)}if("download"===t.detail.action){const t=document.createElement("a");t.href=null!==(!s&&c&&(s=yr(c)),e=s)&&void 0!==e?e:"",t.download=o.name,t.click()}a(!1)},function(t){u!==t.detail.value&&n(9,m=!0),n(8,u=t.detail.value)},g,y,async function(t){return n(0,f=!0),n(1,o=t),n(5,l=""),s=void 0,n(4,i=void 0),n(6,p=!1),n(7,d=!1),n(9,m=!1),n(8,u=""),n(3,c=void 0),n(2,$=o.name.split(".").pop().toLowerCase()),await z((async()=>{let t;try{t=M.Vy.info(`Downloading ${o.name} for preview...`),n(3,c=await o.getBlob()),t.remove(),M.Vy.success(`Downloaded ${o.name} for preview`,{duration:4e3,showProgress:!0}),c&&(n(4,i=await function(t){return new Promise(((e,n)=>{const r=new FileReader;r.readAsDataURL(new Blob([t.data],{type:t.mimetype})),r.onload=()=>{var t;return e((null===(t=r.result)||void 0===t?void 0:t.toString())||"")},r.onerror=t=>n(t)}))}(c)),"text/markdown"!==c.mimetype&&"md"!==$||(n(8,u=Pr(c.data)),n(6,p=!0)))}catch(e){throw n(5,l=`Failed to download file: ${e.message}`),t&&t.remove(),e}}),`Failed to download ${o.name} for preview`),new Promise((t=>{a=t}))},()=>y(),()=>g(),function(t){f=t,n(0,f)}]}class Kr extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,Vr,Nr,r.N8,{open:15})}get open(){return this.$$.ctx[15]}}const qr=Kr;var Ar=n(34296);function Hr(t,e,n){const r=t.slice();return r[81]=e[n],r}function Jr(t,e,n){const r=t.slice();return r[81]=e[n],r}function Qr(t,e,n){const r=t.slice();return r[86]=e[n],r}function to(t){let e,n,o,$,c,s,i,a,f,l;return n=new D.JO({props:{class:"material-icons-round",$$slots:{default:[eo]},$$scope:{ctx:t}}}),i=new D.ZP({props:{$$slots:{default:[no]},$$scope:{ctx:t}}}),i.$on("click",t[42]),f=new D.ZP({props:{secondary:!0,$$slots:{default:[ro]},$$scope:{ctx:t}}}),f.$on("click",t[43]),{c(){e=(0,r.bGB)("div"),(0,r.YCL)(n.$$.fragment),o=(0,r.DhX)(),$=(0,r.bGB)("div"),$.textContent="You are missing encryption keys for some of your files",c=(0,r.DhX)(),s=(0,r.bGB)("div"),(0,r.YCL)(i.$$.fragment),a=(0,r.DhX)(),(0,r.YCL)(f.$$.fragment),(0,r.Ljt)(e,"class","alert-banner svelte-1dyruly")},m(t,p){(0,r.$Tr)(t,e,p),(0,r.yef)(n,e,null),(0,r.R3I)(e,o),(0,r.R3I)(e,$),(0,r.R3I)(e,c),(0,r.R3I)(e,s),(0,r.yef)(i,s,null),(0,r.R3I)(s,a),(0,r.yef)(f,s,null),l=!0},p(t,e){const r={};134217728&e[2]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r);const o={};134217728&e[2]&&(o.$$scope={dirty:e,ctx:t}),i.$set(o);const $={};134217728&e[2]&&($.$$scope={dirty:e,ctx:t}),f.$set($)},i(t){l||((0,r.Ui)(n.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),(0,r.Ui)(f.$$.fragment,t),l=!0)},o(t){(0,r.etI)(n.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),(0,r.etI)(f.$$.fragment,t),l=!1},d(t){t&&(0,r.ogt)(e),(0,r.vpE)(n),(0,r.vpE)(i),(0,r.vpE)(f)}}}function eo(t){let e;return{c(){e=(0,r.fLW)("warning")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function no(t){let e;return{c(){e=(0,r.fLW)("Help me fix this")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function ro(t){let e;return{c(){e=(0,r.fLW)("Dismiss")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function oo(t){let e,n,o,$,c,s,i,a,f,l,p;n=new D.JO({props:{class:"material-icons-round",$$slots:{default:[$o]},$$scope:{ctx:t}}});let d=1===t[22]&&co();return a=new D.ZP({props:{$$slots:{default:[so]},$$scope:{ctx:t}}}),a.$on("click",t[45]),l=new D.ZP({props:{secondary:!0,$$slots:{default:[io]},$$scope:{ctx:t}}}),l.$on("click",t[46]),{c(){e=(0,r.bGB)("div"),(0,r.YCL)(n.$$.fragment),o=(0,r.DhX)(),$=(0,r.bGB)("div"),c=(0,r.fLW)("Your encryption keys are not being backed up"),d&&d.c(),s=(0,r.DhX)(),i=(0,r.bGB)("div"),(0,r.YCL)(a.$$.fragment),f=(0,r.DhX)(),(0,r.YCL)(l.$$.fragment),(0,r.Ljt)(e,"class","alert-banner svelte-1dyruly")},m(t,u){(0,r.$Tr)(t,e,u),(0,r.yef)(n,e,null),(0,r.R3I)(e,o),(0,r.R3I)(e,$),(0,r.R3I)($,c),d&&d.m($,null),(0,r.R3I)(e,s),(0,r.R3I)(e,i),(0,r.yef)(a,i,null),(0,r.R3I)(i,f),(0,r.yef)(l,i,null),p=!0},p(t,e){const r={};134217728&e[2]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),1===t[22]?d||(d=co(),d.c(),d.m($,null)):d&&(d.d(1),d=null);const o={};134217728&e[2]&&(o.$$scope={dirty:e,ctx:t}),a.$set(o);const c={};134217728&e[2]&&(c.$$scope={dirty:e,ctx:t}),l.$set(c)},i(t){p||((0,r.Ui)(n.$$.fragment,t),(0,r.Ui)(a.$$.fragment,t),(0,r.Ui)(l.$$.fragment,t),p=!0)},o(t){(0,r.etI)(n.$$.fragment,t),(0,r.etI)(a.$$.fragment,t),(0,r.etI)(l.$$.fragment,t),p=!1},d(t){t&&(0,r.ogt)(e),(0,r.vpE)(n),d&&d.d(),(0,r.vpE)(a),(0,r.vpE)(l)}}}function $o(t){let e;return{c(){e=(0,r.fLW)("warning")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function co(t){let e;return{c(){e=(0,r.fLW)(". As you don't have any other sessions the keys will be lost when you sign out or close the browser.")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function so(t){let e;return{c(){e=(0,r.fLW)("Setup now")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function io(t){let e;return{c(){e=(0,r.fLW)("Dismiss")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function ao(t){let e,n;return e=new Qt.ZP({props:{dense:!0,$$slots:{default:[Ro]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};1024&n[0]|134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function fo(t){let e;return{c(){e=(0,r.fLW)("file_open")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function lo(t){let e;return{c(){e=(0,r.fLW)("Preview")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function po(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[fo]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[lo]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function uo(t){let e;return{c(){e=(0,r.fLW)("file_download")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function mo(t){let e;return{c(){e=(0,r.fLW)("Download")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function go(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[uo]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[mo]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function yo(t){let e;return{c(){e=(0,r.fLW)("history")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function vo(t){let e;return{c(){e=(0,r.fLW)("Version history")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function ho(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[yo]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[vo]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function wo(t){let e;return{c(){e=(0,r.fLW)("drive_file_rename_outline")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function xo(t){let e;return{c(){e=(0,r.fLW)("Rename")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Lo(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[wo]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[xo]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function Io(t){let e;return{c(){e=(0,r.fLW)("file_copy")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function To(t){let e;return{c(){e=(0,r.fLW)("Make a copy")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Uo(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[Io]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[To]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function Co(t){let e,n=t[10].locked?"lock_open":"lock";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){1024&o[0]&&n!==(n=t[10].locked?"lock_open":"lock")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function bo(t){let e,n=t[10].locked?"Unlock":"Lock";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){1024&o[0]&&n!==(n=t[10].locked?"Unlock":"Lock")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function Yo(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[Co]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[bo]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};1024&n[0]|134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};1024&n[0]|134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function Eo(t){let e;return{c(){e=(0,r.fLW)("delete")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Do(t){let e;return{c(){e=(0,r.fLW)("Delete")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function ko(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[Eo]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[Do]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function Xo(t){let e;return{c(){e=(0,r.fLW)("code_off")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Wo(t){let e;return{c(){e=(0,r.fLW)("View source")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Bo(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[Xo]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[Wo]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function Ro(t){let e,n,o,$,c,s,i,a,f,l,p,d,u,m,g,y,v,h,w,x,L,I;return e=new Qt.ck({props:{$$slots:{default:[po]},$$scope:{ctx:t}}}),e.$on("SMUI:action",t[50]),o=new Qt.ck({props:{$$slots:{default:[go]},$$scope:{ctx:t}}}),o.$on("SMUI:action",t[51]),c=new Qt.ck({props:{$$slots:{default:[ho]},$$scope:{ctx:t}}}),c.$on("SMUI:action",t[52]),i=new Qt.Z0({}),f=new Qt.ck({props:{$$slots:{default:[Lo]},$$scope:{ctx:t}}}),f.$on("SMUI:action",t[53]),p=new Qt.ck({props:{$$slots:{default:[Uo]},$$scope:{ctx:t}}}),p.$on("SMUI:action",t[54]),u=new Qt.ck({props:{$$slots:{default:[Yo]},$$scope:{ctx:t}}}),u.$on("SMUI:action",t[55]),g=new Qt.Z0({}),v=new Qt.ck({props:{$$slots:{default:[ko]},$$scope:{ctx:t}}}),v.$on("SMUI:action",t[56]),w=new Qt.Z0({}),L=new Qt.ck({props:{$$slots:{default:[Bo]},$$scope:{ctx:t}}}),L.$on("SMUI:action",t[57]),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment),a=(0,r.DhX)(),(0,r.YCL)(f.$$.fragment),l=(0,r.DhX)(),(0,r.YCL)(p.$$.fragment),d=(0,r.DhX)(),(0,r.YCL)(u.$$.fragment),m=(0,r.DhX)(),(0,r.YCL)(g.$$.fragment),y=(0,r.DhX)(),(0,r.YCL)(v.$$.fragment),h=(0,r.DhX)(),(0,r.YCL)(w.$$.fragment),x=(0,r.DhX)(),(0,r.YCL)(L.$$.fragment)},m(t,T){(0,r.yef)(e,t,T),(0,r.$Tr)(t,n,T),(0,r.yef)(o,t,T),(0,r.$Tr)(t,$,T),(0,r.yef)(c,t,T),(0,r.$Tr)(t,s,T),(0,r.yef)(i,t,T),(0,r.$Tr)(t,a,T),(0,r.yef)(f,t,T),(0,r.$Tr)(t,l,T),(0,r.yef)(p,t,T),(0,r.$Tr)(t,d,T),(0,r.yef)(u,t,T),(0,r.$Tr)(t,m,T),(0,r.yef)(g,t,T),(0,r.$Tr)(t,y,T),(0,r.yef)(v,t,T),(0,r.$Tr)(t,h,T),(0,r.yef)(w,t,T),(0,r.$Tr)(t,x,T),(0,r.yef)(L,t,T),I=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($);const s={};134217728&n[2]&&(s.$$scope={dirty:n,ctx:t}),c.$set(s);const i={};134217728&n[2]&&(i.$$scope={dirty:n,ctx:t}),f.$set(i);const a={};134217728&n[2]&&(a.$$scope={dirty:n,ctx:t}),p.$set(a);const l={};1024&n[0]|134217728&n[2]&&(l.$$scope={dirty:n,ctx:t}),u.$set(l);const d={};134217728&n[2]&&(d.$$scope={dirty:n,ctx:t}),v.$set(d);const m={};134217728&n[2]&&(m.$$scope={dirty:n,ctx:t}),L.$set(m)},i(t){I||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),(0,r.Ui)(f.$$.fragment,t),(0,r.Ui)(p.$$.fragment,t),(0,r.Ui)(u.$$.fragment,t),(0,r.Ui)(g.$$.fragment,t),(0,r.Ui)(v.$$.fragment,t),(0,r.Ui)(w.$$.fragment,t),(0,r.Ui)(L.$$.fragment,t),I=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),(0,r.etI)(f.$$.fragment,t),(0,r.etI)(p.$$.fragment,t),(0,r.etI)(u.$$.fragment,t),(0,r.etI)(g.$$.fragment,t),(0,r.etI)(v.$$.fragment,t),(0,r.etI)(w.$$.fragment,t),(0,r.etI)(L.$$.fragment,t),I=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t),t&&(0,r.ogt)(s),(0,r.vpE)(i,t),t&&(0,r.ogt)(a),(0,r.vpE)(f,t),t&&(0,r.ogt)(l),(0,r.vpE)(p,t),t&&(0,r.ogt)(d),(0,r.vpE)(u,t),t&&(0,r.ogt)(m),(0,r.vpE)(g,t),t&&(0,r.ogt)(y),(0,r.vpE)(v,t),t&&(0,r.ogt)(h),(0,r.vpE)(w,t),t&&(0,r.ogt)(x),(0,r.vpE)(L,t)}}}function _o(t){let e,n,o=t[10]&&ao(t);return{c(){o&&o.c(),e=(0,r.cSb)()},m(t,$){o&&o.m(t,$),(0,r.$Tr)(t,e,$),n=!0},p(t,n){t[10]?o?(o.p(t,n),1024&n[0]&&(0,r.Ui)(o,1)):(o=ao(t),o.c(),(0,r.Ui)(o,1),o.m(e.parentNode,e)):o&&((0,r.dvw)(),(0,r.etI)(o,1,1,(()=>{o=null})),(0,r.gbL)())},i(t){n||((0,r.Ui)(o),n=!0)},o(t){(0,r.etI)(o),n=!1},d(t){o&&o.d(t),t&&(0,r.ogt)(e)}}}function Zo(t){let e,n;return e=new Qt.ZP({props:{dense:!0,$$slots:{default:[Vo]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};4096&n[0]|134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function So(t){let e;return{c(){e=(0,r.fLW)("drive_file_rename_outline")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Mo(t){let e;return{c(){e=(0,r.fLW)("Rename")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Oo(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[So]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[Mo]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function Go(t){let e;return{c(){e=(0,r.fLW)("content_copy")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function jo(t){let e;return{c(){e=(0,r.fLW)("Make a copy")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function zo(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[Go]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[jo]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function No(t){let e;return{c(){e=(0,r.fLW)("delete")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Po(t){let e;return{c(){e=(0,r.fLW)("Delete")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Fo(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[No]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[Po]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function Vo(t){let e,n,o,$,c,s,i,a;return e=new Qt.ck({props:{$$slots:{default:[Oo]},$$scope:{ctx:t}}}),e.$on("SMUI:action",t[59]),o=new Qt.ck({props:{$$slots:{default:[zo]},$$scope:{ctx:t}}}),o.$on("SMUI:action",t[60]),c=new Qt.Z0({}),i=new Qt.ck({props:{$$slots:{default:[Fo]},$$scope:{ctx:t}}}),i.$on("SMUI:action",t[61]),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment)},m(t,f){(0,r.yef)(e,t,f),(0,r.$Tr)(t,n,f),(0,r.yef)(o,t,f),(0,r.$Tr)(t,$,f),(0,r.yef)(c,t,f),(0,r.$Tr)(t,s,f),(0,r.yef)(i,t,f),a=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($);const c={};134217728&n[2]&&(c.$$scope={dirty:n,ctx:t}),i.$set(c)},i(t){a||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),a=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),a=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t),t&&(0,r.ogt)(s),(0,r.vpE)(i,t)}}}function Ko(t){let e,n,o=t[12]&&Zo(t);return{c(){o&&o.c(),e=(0,r.cSb)()},m(t,$){o&&o.m(t,$),(0,r.$Tr)(t,e,$),n=!0},p(t,n){t[12]?o?(o.p(t,n),4096&n[0]&&(0,r.Ui)(o,1)):(o=Zo(t),o.c(),(0,r.Ui)(o,1),o.m(e.parentNode,e)):o&&((0,r.dvw)(),(0,r.etI)(o,1,1,(()=>{o=null})),(0,r.gbL)())},i(t){n||((0,r.Ui)(o),n=!0)},o(t){(0,r.etI)(o),n=!1},d(t){o&&o.d(t),t&&(0,r.ogt)(e)}}}function qo(t){let e,n;return e=new be.Z({}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Ao(t){let e;return{c(){e=(0,r.fLW)("Name")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Ho(t){let e;return{c(){e=(0,r.fLW)("Last modified")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Jo(t){let e;return{c(){e=(0,r.fLW)("File size")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Qo(t){let e,n,o,$,c,s,i,a;return e=new S.bL({props:{checkbox:!0,$$slots:{default:[qo]},$$scope:{ctx:t}}}),o=new S.bL({props:{$$slots:{default:[Ao]},$$scope:{ctx:t}}}),c=new S.bL({props:{$$slots:{default:[Ho]},$$scope:{ctx:t}}}),i=new S.bL({props:{$$slots:{default:[Jo]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment)},m(t,f){(0,r.yef)(e,t,f),(0,r.$Tr)(t,n,f),(0,r.yef)(o,t,f),(0,r.$Tr)(t,$,f),(0,r.yef)(c,t,f),(0,r.$Tr)(t,s,f),(0,r.yef)(i,t,f),a=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($);const s={};134217728&n[2]&&(s.$$scope={dirty:n,ctx:t}),c.$set(s);const a={};134217728&n[2]&&(a.$$scope={dirty:n,ctx:t}),i.$set(a)},i(t){a||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),a=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),a=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t),t&&(0,r.ogt)(s),(0,r.vpE)(i,t)}}}function t$(t){let e,n;return e=new S.X2({props:{class:"header",$$slots:{default:[Qo]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function e$(t){let e;return{c(){e=(0,r.fLW)("Loading...")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function n$(t){let e,n,o;function $(e){t[63](e)}let c={value:t[86],valueKey:t[86].id};return void 0!==t[4]&&(c.group=t[4]),e=new be.Z({props:c}),r.VnY.push((()=>(0,r.akz)(e,"group",$))),{c(){(0,r.YCL)(e.$$.fragment)},m(t,n){(0,r.yef)(e,t,n),o=!0},p(t,o){const $={};4&o[0]&&($.value=t[86]),4&o[0]&&($.valueKey=t[86].id),!n&&16&o[0]&&(n=!0,$.group=t[4],(0,r.hjT)((()=>n=!1))),e.$set($)},i(t){o||((0,r.Ui)(e.$$.fragment,t),o=!0)},o(t){(0,r.etI)(e.$$.fragment,t),o=!1},d(t){(0,r.vpE)(e,t)}}}function r$(t){let e,n,o,$,c,s=t[86].name+"";return{c(){e=(0,r.bGB)("div"),n=(0,r.bGB)("div"),n.innerHTML='<span class="material-icons-round svelte-1dyruly">folder_outline</span>',o=(0,r.DhX)(),$=(0,r.bGB)("div"),c=(0,r.fLW)(s),(0,r.Ljt)(n,"class","svelte-1dyruly"),(0,r.Ljt)($,"class","svelte-1dyruly"),(0,r.Ljt)(e,"class","name-col svelte-1dyruly")},m(t,s){(0,r.$Tr)(t,e,s),(0,r.R3I)(e,n),(0,r.R3I)(e,o),(0,r.R3I)(e,$),(0,r.R3I)($,c)},p(t,e){4&e[0]&&s!==(s=t[86].name+"")&&(0,r.rTO)(c,s)},d(t){t&&(0,r.ogt)(e)}}}function o$(t){let e,n;return e=new tn({props:{entry:t[86]}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};4&n[0]&&(r.entry=t[86]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function $$(t){let e;return{c(){e=(0,r.fLW)("-")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function c$(t){let e,n,o,$,c,s,i,a;return e=new S.bL({props:{checkbox:!0,$$slots:{default:[n$]},$$scope:{ctx:t}}}),o=new S.bL({props:{$$slots:{default:[r$]},$$scope:{ctx:t}}}),c=new S.bL({props:{$$slots:{default:[o$]},$$scope:{ctx:t}}}),i=new S.bL({props:{$$slots:{default:[$$]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment)},m(t,f){(0,r.yef)(e,t,f),(0,r.$Tr)(t,n,f),(0,r.yef)(o,t,f),(0,r.$Tr)(t,$,f),(0,r.yef)(c,t,f),(0,r.$Tr)(t,s,f),(0,r.yef)(i,t,f),a=!0},p(t,n){const r={};20&n[0]|134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};4&n[0]|134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($);const s={};4&n[0]|134217728&n[2]&&(s.$$scope={dirty:n,ctx:t}),c.$set(s);const a={};134217728&n[2]&&(a.$$scope={dirty:n,ctx:t}),i.$set(a)},i(t){a||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),a=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),a=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t),t&&(0,r.ogt)(s),(0,r.vpE)(i,t)}}}function s$(t){let e,n;return e=new S.X2({props:{class:"cursor-pointer",$$slots:{default:[c$]},$$scope:{ctx:t}}}),e.$on("dblclick:preventDefault",(function(){return t[64](t[86])})),e.$on("contextmenu:preventDefault",(function(...e){return t[65](t[86],...e)})),e.$on("mousedown:preventDefault",ic),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(n,r){t=n;const o={};20&r[0]|134217728&r[2]&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function i$(t){let e,n,o;function $(e){t[66](e)}let c={value:t[81],valueKey:t[81].id};return void 0!==t[4]&&(c.group=t[4]),e=new be.Z({props:c}),r.VnY.push((()=>(0,r.akz)(e,"group",$))),{c(){(0,r.YCL)(e.$$.fragment)},m(t,n){(0,r.yef)(e,t,n),o=!0},p(t,o){const $={};8&o[0]&&($.value=t[81]),8&o[0]&&($.valueKey=t[81].id),!n&&16&o[0]&&(n=!0,$.group=t[4],(0,r.hjT)((()=>n=!1))),e.$set($)},i(t){o||((0,r.Ui)(e.$$.fragment,t),o=!0)},o(t){(0,r.etI)(e.$$.fragment,t),o=!1},d(t){(0,r.vpE)(e,t)}}}function a$(t){let e;return{c(){e=(0,r.bGB)("div"),e.innerHTML='<span class="material-icons-round svelte-1dyruly">lock</span>',(0,r.Ljt)(e,"class","icon svelte-1dyruly")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function f$(t){let e,n,o,$,c,s,i,a,f=j(t[81].name)+"",l=t[81].name+"",p=t[81].locked&&a$();return{c(){e=(0,r.bGB)("div"),n=(0,r.bGB)("div"),o=(0,r.bGB)("span"),$=(0,r.fLW)(f),c=(0,r.DhX)(),s=(0,r.bGB)("div"),i=(0,r.fLW)(l),a=(0,r.DhX)(),p&&p.c(),(0,r.Ljt)(o,"class","material-icons-round svelte-1dyruly"),(0,r.Ljt)(n,"class","svelte-1dyruly"),(0,r.Ljt)(s,"class","svelte-1dyruly"),(0,r.Ljt)(e,"class","name-col svelte-1dyruly")},m(t,f){(0,r.$Tr)(t,e,f),(0,r.R3I)(e,n),(0,r.R3I)(n,o),(0,r.R3I)(o,$),(0,r.R3I)(e,c),(0,r.R3I)(e,s),(0,r.R3I)(s,i),(0,r.R3I)(e,a),p&&p.m(e,null)},p(t,n){8&n[0]&&f!==(f=j(t[81].name)+"")&&(0,r.rTO)($,f),8&n[0]&&l!==(l=t[81].name+"")&&(0,r.rTO)(i,l),t[81].locked?p||(p=a$(),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(t){t&&(0,r.ogt)(e),p&&p.d()}}}function l$(t){let e,n;return e=new tn({props:{entry:t[81],lastModified:!0}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};8&n[0]&&(r.entry=t[81]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function p$(t){let e,n;return e=new fn({props:{entry:t[81]}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};8&n[0]&&(r.entry=t[81]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function d$(t){let e,n,o,$,c,s,i,a,f;return e=new S.bL({props:{checkbox:!0,$$slots:{default:[i$]},$$scope:{ctx:t}}}),o=new S.bL({props:{$$slots:{default:[f$]},$$scope:{ctx:t}}}),o.$on("click:preventDefault",(function(...e){return t[67](t[81],...e)})),c=new S.bL({props:{$$slots:{default:[l$]},$$scope:{ctx:t}}}),i=new S.bL({props:{$$slots:{default:[p$]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment),a=(0,r.DhX)()},m(t,l){(0,r.yef)(e,t,l),(0,r.$Tr)(t,n,l),(0,r.yef)(o,t,l),(0,r.$Tr)(t,$,l),(0,r.yef)(c,t,l),(0,r.$Tr)(t,s,l),(0,r.yef)(i,t,l),(0,r.$Tr)(t,a,l),f=!0},p(n,r){t=n;const $={};24&r[0]|134217728&r[2]&&($.$$scope={dirty:r,ctx:t}),e.$set($);const s={};8&r[0]|134217728&r[2]&&(s.$$scope={dirty:r,ctx:t}),o.$set(s);const a={};8&r[0]|134217728&r[2]&&(a.$$scope={dirty:r,ctx:t}),c.$set(a);const f={};8&r[0]|134217728&r[2]&&(f.$$scope={dirty:r,ctx:t}),i.$set(f)},i(t){f||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),f=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),f=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t),t&&(0,r.ogt)(s),(0,r.vpE)(i,t),t&&(0,r.ogt)(a)}}}function u$(t){let e,n;return e=new S.X2({props:{class:"cursor-pointer",$$slots:{default:[d$]},$$scope:{ctx:t}}}),e.$on("dblclick:preventDefault",(function(){return t[68](t[81])})),e.$on("contextmenu:preventDefault",(function(...e){return t[69](t[81],...e)})),e.$on("mousedown:preventDefault",ac),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(n,r){t=n;const o={};24&r[0]|134217728&r[2]&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function m$(t){let e,n,o,$,c=!t[1]&&e$(),s=t[2],i=[];for(let e=0;e<s.length;e+=1)i[e]=s$(Qr(t,s,e));const a=t=>(0,r.etI)(i[t],1,1,(()=>{i[t]=null}));let f=t[3],l=[];for(let e=0;e<f.length;e+=1)l[e]=u$(Jr(t,f,e));const p=t=>(0,r.etI)(l[t],1,1,(()=>{l[t]=null}));return{c(){c&&c.c(),e=(0,r.DhX)();for(let t=0;t<i.length;t+=1)i[t].c();n=(0,r.DhX)();for(let t=0;t<l.length;t+=1)l[t].c();o=(0,r.cSb)()},m(t,s){c&&c.m(t,s),(0,r.$Tr)(t,e,s);for(let e=0;e<i.length;e+=1)i[e].m(t,s);(0,r.$Tr)(t,n,s);for(let e=0;e<l.length;e+=1)l[e].m(t,s);(0,r.$Tr)(t,o,s),$=!0},p(t,$){if(t[1]?c&&(c.d(1),c=null):c||(c=e$(),c.c(),c.m(e.parentNode,e)),20&$[0]|2&$[1]){let e;for(s=t[2],e=0;e<s.length;e+=1){const o=Qr(t,s,e);i[e]?(i[e].p(o,$),(0,r.Ui)(i[e],1)):(i[e]=s$(o),i[e].c(),(0,r.Ui)(i[e],1),i[e].m(n.parentNode,n))}for((0,r.dvw)(),e=s.length;e<i.length;e+=1)a(e);(0,r.gbL)()}if(637534232&$[0]){let e;for(f=t[3],e=0;e<f.length;e+=1){const n=Jr(t,f,e);l[e]?(l[e].p(n,$),(0,r.Ui)(l[e],1)):(l[e]=u$(n),l[e].c(),(0,r.Ui)(l[e],1),l[e].m(o.parentNode,o))}for((0,r.dvw)(),e=f.length;e<l.length;e+=1)p(e);(0,r.gbL)()}},i(t){if(!$){for(let t=0;t<s.length;t+=1)(0,r.Ui)(i[t]);for(let t=0;t<f.length;t+=1)(0,r.Ui)(l[t]);$=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)(0,r.etI)(i[t]);l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)(0,r.etI)(l[t]);$=!1},d(t){c&&c.d(t),t&&(0,r.ogt)(e),(0,r.RMB)(i,t),t&&(0,r.ogt)(n),(0,r.RMB)(l,t),t&&(0,r.ogt)(o)}}}function g$(t){let e,n,o,$;return e=new S.Fb({props:{$$slots:{default:[t$]},$$scope:{ctx:t}}}),o=new S.uT({props:{$$slots:{default:[m$]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};30&n[0]|134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function y$(t){let e,n,o,$,c;return n=new D.JO({props:{class:"material-icons-round",style:"font-size: 64px",$$slots:{default:[v$]},$$scope:{ctx:t}}}),{c(){e=(0,r.bGB)("div"),(0,r.YCL)(n.$$.fragment),o=(0,r.DhX)(),$=(0,r.bGB)("div"),$.textContent="You can drop a file here to upload",(0,r.Ljt)(e,"class","uploadarea svelte-1dyruly")},m(t,s){(0,r.$Tr)(t,e,s),(0,r.yef)(n,e,null),(0,r.R3I)(e,o),(0,r.R3I)(e,$),c=!0},i(t){c||((0,r.Ui)(n.$$.fragment,t),c=!0)},o(t){(0,r.etI)(n.$$.fragment,t),c=!1},d(t){t&&(0,r.ogt)(e),(0,r.vpE)(n)}}}function v$(t){let e;return{c(){e=(0,r.fLW)("drive_folder_upload")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function h$(t){let e;return{c(){e=(0,r.fLW)("Version history")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function w$(t){let e,n;return e=new Ce.VY({props:{$$slots:{default:[M$]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};32&n[0]|134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function x$(t){let e;return{c(){e=(0,r.fLW)("Version")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function L$(t){let e;return{c(){e=(0,r.fLW)("Name")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function I$(t){let e;return{c(){e=(0,r.fLW)("File size")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function T$(t){let e;return{c(){e=(0,r.fLW)("Created at")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function U$(t){let e;return{c(){e=(0,r.fLW)("By")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function C$(t){let e,n,o,$,c,s,i,a,f,l,p,d;return e=new S.bL({props:{$$slots:{default:[x$]},$$scope:{ctx:t}}}),o=new S.bL({props:{$$slots:{default:[L$]},$$scope:{ctx:t}}}),c=new S.bL({props:{$$slots:{default:[I$]},$$scope:{ctx:t}}}),i=new S.bL({props:{$$slots:{default:[T$]},$$scope:{ctx:t}}}),f=new S.bL({props:{$$slots:{default:[U$]},$$scope:{ctx:t}}}),p=new S.bL({}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment),a=(0,r.DhX)(),(0,r.YCL)(f.$$.fragment),l=(0,r.DhX)(),(0,r.YCL)(p.$$.fragment)},m(t,u){(0,r.yef)(e,t,u),(0,r.$Tr)(t,n,u),(0,r.yef)(o,t,u),(0,r.$Tr)(t,$,u),(0,r.yef)(c,t,u),(0,r.$Tr)(t,s,u),(0,r.yef)(i,t,u),(0,r.$Tr)(t,a,u),(0,r.yef)(f,t,u),(0,r.$Tr)(t,l,u),(0,r.yef)(p,t,u),d=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($);const s={};134217728&n[2]&&(s.$$scope={dirty:n,ctx:t}),c.$set(s);const a={};134217728&n[2]&&(a.$$scope={dirty:n,ctx:t}),i.$set(a);const l={};134217728&n[2]&&(l.$$scope={dirty:n,ctx:t}),f.$set(l)},i(t){d||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),(0,r.Ui)(f.$$.fragment,t),(0,r.Ui)(p.$$.fragment,t),d=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),(0,r.etI)(f.$$.fragment,t),(0,r.etI)(p.$$.fragment,t),d=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t),t&&(0,r.ogt)(s),(0,r.vpE)(i,t),t&&(0,r.ogt)(a),(0,r.vpE)(f,t),t&&(0,r.ogt)(l),(0,r.vpE)(p,t)}}}function b$(t){let e,n;return e=new S.X2({props:{class:"header",$$slots:{default:[C$]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Y$(t){let e,n=t[81].version+"";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){32&o[0]&&n!==(n=t[81].version+"")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function E$(t){let e,n=t[81].name+"";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){32&o[0]&&n!==(n=t[81].name+"")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function D$(t){let e,n;return e=new fn({props:{entry:t[81]}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};32&n[0]&&(r.entry=t[81]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function k$(t){let e,n;return e=new tn({props:{entry:t[81],lastModified:!0}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};32&n[0]&&(r.entry=t[81]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function X$(t){let e,n;return e=new gn({props:{entry:t[81]}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};32&n[0]&&(r.entry=t[81]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function W$(t){let e;return{c(){e=(0,r.fLW)("download")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function B$(t){let e,n;return e=new yn.Z({props:{class:"material-icons-round",variant:"unelevated",$$slots:{default:[W$]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[70](t[81])})),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(n,r){t=n;const o={};134217728&r[2]&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function R$(t){let e,n,o,$,c,s,i,a,f,l,p,d,u;return e=new S.bL({props:{title:t[81].id,$$slots:{default:[Y$]},$$scope:{ctx:t}}}),o=new S.bL({props:{$$slots:{default:[E$]},$$scope:{ctx:t}}}),c=new S.bL({props:{$$slots:{default:[D$]},$$scope:{ctx:t}}}),i=new S.bL({props:{$$slots:{default:[k$]},$$scope:{ctx:t}}}),f=new S.bL({props:{$$slots:{default:[X$]},$$scope:{ctx:t}}}),p=new S.bL({props:{$$slots:{default:[B$]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment),a=(0,r.DhX)(),(0,r.YCL)(f.$$.fragment),l=(0,r.DhX)(),(0,r.YCL)(p.$$.fragment),d=(0,r.DhX)()},m(t,m){(0,r.yef)(e,t,m),(0,r.$Tr)(t,n,m),(0,r.yef)(o,t,m),(0,r.$Tr)(t,$,m),(0,r.yef)(c,t,m),(0,r.$Tr)(t,s,m),(0,r.yef)(i,t,m),(0,r.$Tr)(t,a,m),(0,r.yef)(f,t,m),(0,r.$Tr)(t,l,m),(0,r.yef)(p,t,m),(0,r.$Tr)(t,d,m),u=!0},p(t,n){const r={};32&n[0]&&(r.title=t[81].id),32&n[0]|134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};32&n[0]|134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($);const s={};32&n[0]|134217728&n[2]&&(s.$$scope={dirty:n,ctx:t}),c.$set(s);const a={};32&n[0]|134217728&n[2]&&(a.$$scope={dirty:n,ctx:t}),i.$set(a);const l={};32&n[0]|134217728&n[2]&&(l.$$scope={dirty:n,ctx:t}),f.$set(l);const d={};32&n[0]|134217728&n[2]&&(d.$$scope={dirty:n,ctx:t}),p.$set(d)},i(t){u||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),(0,r.Ui)(f.$$.fragment,t),(0,r.Ui)(p.$$.fragment,t),u=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),(0,r.etI)(f.$$.fragment,t),(0,r.etI)(p.$$.fragment,t),u=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t),t&&(0,r.ogt)(s),(0,r.vpE)(i,t),t&&(0,r.ogt)(a),(0,r.vpE)(f,t),t&&(0,r.ogt)(l),(0,r.vpE)(p,t),t&&(0,r.ogt)(d)}}}function _$(t){let e,n;return e=new S.X2({props:{class:"cursor-pointer",$$slots:{default:[R$]},$$scope:{ctx:t}}}),e.$on("dblclick:preventDefault",(function(){return t[71](t[81])})),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(n,r){t=n;const o={};32&r[0]|134217728&r[2]&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Z$(t){let e,n,o=t[5],$=[];for(let e=0;e<o.length;e+=1)$[e]=_$(Hr(t,o,e));const c=t=>(0,r.etI)($[t],1,1,(()=>{$[t]=null}));return{c(){for(let t=0;t<$.length;t+=1)$[t].c();e=(0,r.cSb)()},m(t,o){for(let e=0;e<$.length;e+=1)$[e].m(t,o);(0,r.$Tr)(t,e,o),n=!0},p(t,n){if(67108896&n[0]){let s;for(o=t[5],s=0;s<o.length;s+=1){const c=Hr(t,o,s);$[s]?($[s].p(c,n),(0,r.Ui)($[s],1)):($[s]=_$(c),$[s].c(),(0,r.Ui)($[s],1),$[s].m(e.parentNode,e))}for((0,r.dvw)(),s=o.length;s<$.length;s+=1)c(s);(0,r.gbL)()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)(0,r.Ui)($[t]);n=!0}},o(t){$=$.filter(Boolean);for(let t=0;t<$.length;t+=1)(0,r.etI)($[t]);n=!1},d(t){(0,r.RMB)($,t),t&&(0,r.ogt)(e)}}}function S$(t){let e,n,o,$;return e=new S.Fb({props:{$$slots:{default:[b$]},$$scope:{ctx:t}}}),o=new S.uT({props:{$$slots:{default:[Z$]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};32&n[0]|134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function M$(t){let e,n;return e=new S.ZP({props:{style:"width: 100%; border: none;",$$slots:{default:[S$]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};32&n[0]|134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function O$(t){let e;return{c(){e=(0,r.fLW)("Close")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function G$(t){let e,n;return e=new D.__({props:{$$slots:{default:[O$]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function j$(t){let e,n;return e=new D.ZP({props:{variant:"unelevated",$$slots:{default:[G$]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function z$(t){let e,n,o,$,c;e=new Ce.Dx({props:{style:"font-size: 24px; font-weight: 600;",$$slots:{default:[h$]},$$scope:{ctx:t}}});let s=t[5]&&w$(t);return $=new Ce.eX({props:{$$slots:{default:[j$]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),s&&s.c(),o=(0,r.DhX)(),(0,r.YCL)($.$$.fragment)},m(t,i){(0,r.yef)(e,t,i),(0,r.$Tr)(t,n,i),s&&s.m(t,i),(0,r.$Tr)(t,o,i),(0,r.yef)($,t,i),c=!0},p(t,n){const c={};134217728&n[2]&&(c.$$scope={dirty:n,ctx:t}),e.$set(c),t[5]?s?(s.p(t,n),32&n[0]&&(0,r.Ui)(s,1)):(s=w$(t),s.c(),(0,r.Ui)(s,1),s.m(o.parentNode,o)):s&&((0,r.dvw)(),(0,r.etI)(s,1,1,(()=>{s=null})),(0,r.gbL)());const i={};134217728&n[2]&&(i.$$scope={dirty:n,ctx:t}),$.$set(i)},i(t){c||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(s),(0,r.Ui)($.$$.fragment,t),c=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(s),(0,r.etI)($.$$.fragment,t),c=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),s&&s.d(t),t&&(0,r.ogt)(o),(0,r.vpE)($,t)}}}function N$(t){let e;return{c(){e=(0,r.fLW)("View source")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function P$(t){let e,n;return e=new Ce.VY({props:{$$slots:{default:[nc]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};49152&n[0]|134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function F$(t){let e;return{c(){e=(0,r.fLW)("Not found")},m(t,n){(0,r.$Tr)(t,e,n)},p:r.ZTd,i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function V$(t){let e,n;return e=new C.g({props:{class:"monospace",json:t[14].branch.indexEvent.event}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};16384&n[0]&&(r.json=t[14].branch.indexEvent.event),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function K$(t){let e,n,o,$;const c=[V$,F$],s=[];function i(t,e){return t[14].branch.indexEvent?0:1}return e=i(t),n=s[e]=c[e](t),{c(){n.c(),o=(0,r.cSb)()},m(t,n){s[e].m(t,n),(0,r.$Tr)(t,o,n),$=!0},p(t,$){let a=e;e=i(t),e===a?s[e].p(t,$):((0,r.dvw)(),(0,r.etI)(s[a],1,1,(()=>{s[a]=null})),(0,r.gbL)(),n=s[e],n?n.p(t,$):(n=s[e]=c[e](t),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))},i(t){$||((0,r.Ui)(n),$=!0)},o(t){(0,r.etI)(n),$=!1},d(t){s[e].d(t),t&&(0,r.ogt)(o)}}}function q$(t){let e;return{c(){e=(0,r.fLW)("Not found")},m(t,n){(0,r.$Tr)(t,e,n)},p:r.ZTd,i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function A$(t){let e,n;return e=new C.g({props:{class:"monospace",json:t[15].getClearContent()}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};32768&n[0]&&(r.json=t[15].getClearContent()),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function H$(t){let e,n,o,$;const c=[A$,q$],s=[];function i(t,e){return t[15]?0:1}return e=i(t),n=s[e]=c[e](t),{c(){n.c(),o=(0,r.cSb)()},m(t,n){s[e].m(t,n),(0,r.$Tr)(t,o,n),$=!0},p(t,$){let a=e;e=i(t),e===a?s[e].p(t,$):((0,r.dvw)(),(0,r.etI)(s[a],1,1,(()=>{s[a]=null})),(0,r.gbL)(),n=s[e],n?n.p(t,$):(n=s[e]=c[e](t),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))},i(t){$||((0,r.Ui)(n),$=!0)},o(t){(0,r.etI)(n),$=!1},d(t){s[e].d(t),t&&(0,r.ogt)(o)}}}function J$(t){let e;return{c(){e=(0,r.fLW)("Not found")},m(t,n){(0,r.$Tr)(t,e,n)},p:r.ZTd,i:r.ZTd,o:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function Q$(t){let e,n;return e=new C.g({props:{class:"monospace",json:t[15].event}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};32768&n[0]&&(r.json=t[15].event),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function tc(t){let e,n,o,$;const c=[Q$,J$],s=[];function i(t,e){return t[15]?0:1}return e=i(t),n=s[e]=c[e](t),{c(){n.c(),o=(0,r.cSb)()},m(t,n){s[e].m(t,n),(0,r.$Tr)(t,o,n),$=!0},p(t,$){let a=e;e=i(t),e===a?s[e].p(t,$):((0,r.dvw)(),(0,r.etI)(s[a],1,1,(()=>{s[a]=null})),(0,r.gbL)(),n=s[e],n?n.p(t,$):(n=s[e]=c[e](t),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))},i(t){$||((0,r.Ui)(n),$=!0)},o(t){(0,r.etI)(n),$=!1},d(t){s[e].d(t),t&&(0,r.ogt)(o)}}}function ec(t){let e,n,o,$,c,s;return e=new vn.Z.Section({props:{title:"Index event source",$$slots:{default:[K$]},$$scope:{ctx:t}}}),o=new vn.Z.Section({props:{title:"Decrypted file event source",$$slots:{default:[H$]},$$scope:{ctx:t}}}),c=new vn.Z.Section({props:{title:"Original file event source",$$slots:{default:[tc]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment)},m(t,i){(0,r.yef)(e,t,i),(0,r.$Tr)(t,n,i),(0,r.yef)(o,t,i),(0,r.$Tr)(t,$,i),(0,r.yef)(c,t,i),s=!0},p(t,n){const r={};16384&n[0]|134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};32768&n[0]|134217728&n[2]&&($.$$scope={dirty:n,ctx:t}),o.$set($);const s={};32768&n[0]|134217728&n[2]&&(s.$$scope={dirty:n,ctx:t}),c.$set(s)},i(t){s||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),s=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),s=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t)}}}function nc(t){let e,n,o,$,c,s,i,a,f,l,p,d,u,m,g=t[14].parent.id+"",y=t[14].id+"",v=t[14].encryptionStatus+"";return u=new vn.Z({props:{$$slots:{default:[ec]},$$scope:{ctx:t}}}),{c(){e=(0,r.bGB)("p"),n=(0,r.fLW)("Room ID: "),o=(0,r.fLW)(g),$=(0,r.bGB)("br"),c=(0,r.fLW)("\n                Event ID: "),s=(0,r.fLW)(y),i=(0,r.bGB)("br"),a=(0,r.fLW)("\n                Encryption status: "),f=(0,r.fLW)(v),l=(0,r.DhX)(),p=(0,r.bGB)("hr"),d=(0,r.DhX)(),(0,r.YCL)(u.$$.fragment)},m(t,g){(0,r.$Tr)(t,e,g),(0,r.R3I)(e,n),(0,r.R3I)(e,o),(0,r.R3I)(e,$),(0,r.R3I)(e,c),(0,r.R3I)(e,s),(0,r.R3I)(e,i),(0,r.R3I)(e,a),(0,r.R3I)(e,f),(0,r.$Tr)(t,l,g),(0,r.$Tr)(t,p,g),(0,r.$Tr)(t,d,g),(0,r.yef)(u,t,g),m=!0},p(t,e){(!m||16384&e[0])&&g!==(g=t[14].parent.id+"")&&(0,r.rTO)(o,g),(!m||16384&e[0])&&y!==(y=t[14].id+"")&&(0,r.rTO)(s,y),(!m||16384&e[0])&&v!==(v=t[14].encryptionStatus+"")&&(0,r.rTO)(f,v);const n={};49152&e[0]|134217728&e[2]&&(n.$$scope={dirty:e,ctx:t}),u.$set(n)},i(t){m||((0,r.Ui)(u.$$.fragment,t),m=!0)},o(t){(0,r.etI)(u.$$.fragment,t),m=!1},d(t){t&&(0,r.ogt)(e),t&&(0,r.ogt)(l),t&&(0,r.ogt)(p),t&&(0,r.ogt)(d),(0,r.vpE)(u,t)}}}function rc(t){let e;return{c(){e=(0,r.fLW)("Close")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function oc(t){let e,n;return e=new D.__({props:{$$slots:{default:[rc]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function $c(t){let e,n;return e=new D.ZP({props:{variant:"unelevated",$$slots:{default:[oc]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};134217728&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function cc(t){let e,n,o,$,c;e=new Ce.Dx({props:{style:"font-size: 24px; font-weight: 600;",$$slots:{default:[N$]},$$scope:{ctx:t}}});let s=t[14]&&P$(t);return $=new Ce.eX({props:{$$slots:{default:[$c]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),s&&s.c(),o=(0,r.DhX)(),(0,r.YCL)($.$$.fragment)},m(t,i){(0,r.yef)(e,t,i),(0,r.$Tr)(t,n,i),s&&s.m(t,i),(0,r.$Tr)(t,o,i),(0,r.yef)($,t,i),c=!0},p(t,n){const c={};134217728&n[2]&&(c.$$scope={dirty:n,ctx:t}),e.$set(c),t[14]?s?(s.p(t,n),16384&n[0]&&(0,r.Ui)(s,1)):(s=P$(t),s.c(),(0,r.Ui)(s,1),s.m(o.parentNode,o)):s&&((0,r.dvw)(),(0,r.etI)(s,1,1,(()=>{s=null})),(0,r.gbL)());const i={};134217728&n[2]&&(i.$$scope={dirty:n,ctx:t}),$.$set(i)},i(t){c||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(s),(0,r.Ui)($.$$.fragment,t),c=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(s),(0,r.etI)($.$$.fragment,t),c=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),s&&s.d(t),t&&(0,r.ogt)(o),(0,r.vpE)($,t)}}}function sc(t){let e,n,o,$,c,s,i,a,f,l,p,d,u,m,g,y,v,h,w,x,L,I,T,U=t[6]&&!t[7]&&to(t);n=new Kn({props:{clientManager:t[0],open:t[18],closed:t[44]}});let C=!t[19]&&!t[21]&&oo(t);c=new pr({props:{clientManager:t[0],open:t[20],closed:t[47]}}),i=new qr({props:{}}),t[48](i),f=new je({props:{}}),t[49](f);let b={anchor:!1,quickOpen:!0,$$slots:{default:[_o]},$$scope:{ctx:t}};p=new Ue.ZP({props:b}),t[58](p);let Y={anchor:!1,quickOpen:!0,$$slots:{default:[Ko]},$$scope:{ctx:t}};u=new Ue.ZP({props:Y}),t[62](u),g=new S.ZP({props:{style:"width: 100%; border: none;",$$slots:{default:[g$]},$$scope:{ctx:t}}});let E=0===t[2].length&&0===t[3].length&&y$(t);function D(e){t[72](e)}let k={surface$style:"width: fit-content; max-width: calc(100vw - 32px);",$$slots:{default:[z$]},$$scope:{ctx:t}};function X(e){t[74](e)}void 0!==t[17]&&(k.open=t[17]),h=new Ce.ZP({props:k}),r.VnY.push((()=>(0,r.akz)(h,"open",D))),h.$on("MDCDialog:closed",t[73]);let W={surface$style:"width: fit-content; max-width: calc(100vw - 32px);",$$slots:{default:[cc]},$$scope:{ctx:t}};return void 0!==t[16]&&(W.open=t[16]),L=new Ce.ZP({props:W}),r.VnY.push((()=>(0,r.akz)(L,"open",X))),L.$on("MDCDialog:closed",t[75]),{c(){U&&U.c(),e=(0,r.DhX)(),(0,r.YCL)(n.$$.fragment),o=(0,r.DhX)(),C&&C.c(),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment),a=(0,r.DhX)(),(0,r.YCL)(f.$$.fragment),l=(0,r.DhX)(),(0,r.YCL)(p.$$.fragment),d=(0,r.DhX)(),(0,r.YCL)(u.$$.fragment),m=(0,r.DhX)(),(0,r.YCL)(g.$$.fragment),y=(0,r.DhX)(),E&&E.c(),v=(0,r.DhX)(),(0,r.YCL)(h.$$.fragment),x=(0,r.DhX)(),(0,r.YCL)(L.$$.fragment)},m(t,w){U&&U.m(t,w),(0,r.$Tr)(t,e,w),(0,r.yef)(n,t,w),(0,r.$Tr)(t,o,w),C&&C.m(t,w),(0,r.$Tr)(t,$,w),(0,r.yef)(c,t,w),(0,r.$Tr)(t,s,w),(0,r.yef)(i,t,w),(0,r.$Tr)(t,a,w),(0,r.yef)(f,t,w),(0,r.$Tr)(t,l,w),(0,r.yef)(p,t,w),(0,r.$Tr)(t,d,w),(0,r.yef)(u,t,w),(0,r.$Tr)(t,m,w),(0,r.yef)(g,t,w),(0,r.$Tr)(t,y,w),E&&E.m(t,w),(0,r.$Tr)(t,v,w),(0,r.yef)(h,t,w),(0,r.$Tr)(t,x,w),(0,r.yef)(L,t,w),T=!0},p(t,o){t[6]&&!t[7]?U?(U.p(t,o),192&o[0]&&(0,r.Ui)(U,1)):(U=to(t),U.c(),(0,r.Ui)(U,1),U.m(e.parentNode,e)):U&&((0,r.dvw)(),(0,r.etI)(U,1,1,(()=>{U=null})),(0,r.gbL)());const s={};1&o[0]&&(s.clientManager=t[0]),262144&o[0]&&(s.open=t[18]),262144&o[0]&&(s.closed=t[44]),n.$set(s),t[19]||t[21]?C&&((0,r.dvw)(),(0,r.etI)(C,1,1,(()=>{C=null})),(0,r.gbL)()):C?(C.p(t,o),2621440&o[0]&&(0,r.Ui)(C,1)):(C=oo(t),C.c(),(0,r.Ui)(C,1),C.m($.parentNode,$));const a={};1&o[0]&&(a.clientManager=t[0]),1048576&o[0]&&(a.open=t[20]),c.$set(a),i.$set({}),f.$set({});const l={};1024&o[0]|134217728&o[2]&&(l.$$scope={dirty:o,ctx:t}),p.$set(l);const d={};4096&o[0]|134217728&o[2]&&(d.$$scope={dirty:o,ctx:t}),u.$set(d);const m={};30&o[0]|134217728&o[2]&&(m.$$scope={dirty:o,ctx:t}),g.$set(m),0===t[2].length&&0===t[3].length?E?12&o[0]&&(0,r.Ui)(E,1):(E=y$(t),E.c(),(0,r.Ui)(E,1),E.m(v.parentNode,v)):E&&((0,r.dvw)(),(0,r.etI)(E,1,1,(()=>{E=null})),(0,r.gbL)());const y={};32&o[0]|134217728&o[2]&&(y.$$scope={dirty:o,ctx:t}),!w&&131072&o[0]&&(w=!0,y.open=t[17],(0,r.hjT)((()=>w=!1))),h.$set(y);const x={};49152&o[0]|134217728&o[2]&&(x.$$scope={dirty:o,ctx:t}),!I&&65536&o[0]&&(I=!0,x.open=t[16],(0,r.hjT)((()=>I=!1))),L.$set(x)},i(t){T||((0,r.Ui)(U),(0,r.Ui)(n.$$.fragment,t),(0,r.Ui)(C),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),(0,r.Ui)(f.$$.fragment,t),(0,r.Ui)(p.$$.fragment,t),(0,r.Ui)(u.$$.fragment,t),(0,r.Ui)(g.$$.fragment,t),(0,r.Ui)(E),(0,r.Ui)(h.$$.fragment,t),(0,r.Ui)(L.$$.fragment,t),T=!0)},o(t){(0,r.etI)(U),(0,r.etI)(n.$$.fragment,t),(0,r.etI)(C),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),(0,r.etI)(f.$$.fragment,t),(0,r.etI)(p.$$.fragment,t),(0,r.etI)(u.$$.fragment,t),(0,r.etI)(g.$$.fragment,t),(0,r.etI)(E),(0,r.etI)(h.$$.fragment,t),(0,r.etI)(L.$$.fragment,t),T=!1},d(w){U&&U.d(w),w&&(0,r.ogt)(e),(0,r.vpE)(n,w),w&&(0,r.ogt)(o),C&&C.d(w),w&&(0,r.ogt)($),(0,r.vpE)(c,w),w&&(0,r.ogt)(s),t[48](null),(0,r.vpE)(i,w),w&&(0,r.ogt)(a),t[49](null),(0,r.vpE)(f,w),w&&(0,r.ogt)(l),t[58](null),(0,r.vpE)(p,w),w&&(0,r.ogt)(d),t[62](null),(0,r.vpE)(u,w),w&&(0,r.ogt)(m),(0,r.vpE)(g,w),w&&(0,r.ogt)(y),E&&E.d(w),w&&(0,r.ogt)(v),(0,r.vpE)(h,w),w&&(0,r.ogt)(x),(0,r.vpE)(L,w)}}}const ic=()=>{},ac=()=>{};function fc(t,e,n){let{clientManager:o}=e,{directory:c}=e;const s=(0,Ar.getLogger)("Listing"),i=[];let a,f=null,l=[],p=[],d=[];function u(){s.info("onModified"),n(1,f=null)}s.info("loaded");let m=c;(0,b.H3)((()=>{Q(),m.on("modified",u),o.on("keyBackupStatus",Q)})),(0,b.ev)((()=>{i.forEach((t=>URL.revokeObjectURL(t))),m.off("modified",u),o.off("keyBackupStatus",Q)}));let g,y,v,h,w,x,L,I,T,U=!1,C=!1;async function Y(t){L.setOpen(!1),await z((async()=>{await t.delete()}),`Failed to delete folder ${t.name}`)}async function E(t){w.setOpen(!1),await z((async()=>{await t.delete()}),`Failed to delete file ${t.name}`)}async function D(t,e){1===(null==t?void 0:t.detail)?y=setTimeout((async()=>{w.setOpen(!1),await g.open(e)}),200):t||(w.setOpen(!1),await g.open(e))}async function k(t){y&&clearTimeout(y),w.setOpen(!1),await z((async()=>{let e;try{e=M.Vy.info(`Downloading ${t.name}...`);const n=await t.getBlob(),r=document.createElement("a");r.href=yr(n),r.download=t.name,r.click(),e.remove(),M.Vy.success(`Downloaded ${t.name}`,{duration:4e3,showProgress:!0})}catch(t){throw e&&e.remove(),t}}),`Failed to download ${t.name}`)&&n(7,C=!1)}async function X(t,e){w.setOpen(!1),await z((async()=>{await t.setLocked(e)}),`Failed to ${e?"":"un"}lock file ${t.name}`),n(3,d),n(41,m),n(37,c),n(1,f),n(2,p)}async function W(t){w.setOpen(!1),await z((async()=>{n(5,a=await t.getVersionHistory()),n(17,P=!0)}),`Failed to get version history for ${t.name}`)&&n(7,C=!1)}function B(t,e){n(10,h=t),L.setOpen(!1),w.setOpen(!0),K(e)}async function R(t){w.setOpen(!1);const e=await v.open("Rename file",t.name,"File name","Rename",N(t.name,p,d));e&&await z((async()=>{await t.rename(e)}),`Failed to rename file ${t.name}`)}async function _(t){w.setOpen(!1);const e=await v.open("Copy file",`Copy of ${t.name}`,"File name","Copy",N(t.name,p,d));e&&await z((async()=>{await t.copyTo(t.parent,e)}),`Failed to copy file ${t.name}`)}function Z(t,e){n(12,x=t),w.setOpen(!1),L.setOpen(!0),K(e)}async function S(t){L.setOpen(!1);const e=await v.open("Rename folder",t.name,"Folder name","Rename",N(t.name,p,d));e&&await z((async()=>{await t.rename(e)}),`Failed to rename folder ${t.name}`)}async function O(t){L.setOpen(!1);const e=await v.open("Copy folder",`Copy of ${t.name}`,"Folder name","Copy",N(t.name,p,d));e&&await z((async()=>{await t.copyTo(t.parent,e)}),`Failed to copy folder ${t.name}`)}let G=!1;async function j(t){w.setOpen(!1),await z((async()=>{n(14,I=t),n(15,T=void 0);try{n(15,T=await I.branch.getFileEvent())}catch(t){}n(16,G=!0)}),`Failed to get version history for ${t.name}`)&&n(7,C=!1)}let P=!1,F=!1,V=!1,q=!1,A=!1,H=1;async function J(){n(20,q=!1),await Q()}async function Q(){n(19,V=await o.crypto.isKeyBackupAvailable()),n(22,H=(await o.client.getDevices()).devices.length)}return t.$$set=t=>{"clientManager"in t&&n(0,o=t.clientManager),"directory"in t&&n(37,c=t.directory)},t.$$.update=()=>{14&t.$$.dirty[0]|1088&t.$$.dirty[1]&&(async()=>{if(m&&(null==m?void 0:m.id)===c.id||(m&&m.off("modified",u),n(41,m=c),m.on("modified",u)),f===c.id)return;n(1,f=null);const t=await c.getChildren(),e=p.map((t=>Object.assign({},t)))||[],r=d.map((t=>Object.assign({},t)))||[];n(2,p=t.filter((t=>t.isFolder)).map((t=>t)).map((t=>{let n=e.find((e=>e.id===t.id));return n&&(n=Object.assign({},n)),t})).sort(((t,e)=>t.name.localeCompare(e.name)))),n(3,d=t.filter((t=>!t.isFolder)).map((t=>t)).map((t=>{let e=r.find((e=>e.id===t.id));return e&&(e=Object.assign({},e)),t})).sort(((t,e)=>t.name.localeCompare(e.name)))),n(1,f=c.id),n(6,U=d.some((t=>["encrypted","decryptionFailed"].includes(t.encryptionStatus))))})()},[o,f,p,d,l,a,U,C,g,v,h,w,x,L,I,T,G,P,F,V,q,A,H,Y,E,D,k,X,W,B,R,_,Z,S,O,j,J,c,async function(){const t=await v.open("New folder","Untitled folder","Folder name","Create",N(void 0,p,d));t&&await z((async()=>{await c.addFolder(t)}),`Failed to create folder ${t}`)},async function(){const t=await v.open("New file","Untitled.md","File name","Create",N(void 0,p,d));t&&await z((async()=>{await c.addFile(t,{data:new ArrayBuffer(0),size:0,mimetype:"text/plain"})}),`Failed to create file ${t}`)},async function(t){for(const e of t)await z((async()=>{const t=M.Vy.info(`Uploading ${e.name}...`);await c.addFile(e.name,{data:await e.arrayBuffer(),mimetype:e.type,size:e.size}),t.remove&&t.remove(),M.Vy.success(`Uploaded ${e.name}`,{duration:4e3,showProgress:!0})}),`Failed to upload ${e.name}`)},m,()=>n(18,F=!0),()=>n(7,C=!0),()=>n(18,F=!1),()=>n(20,q=!0),()=>n(21,A=!0),()=>J(),function(t){r.VnY[t?"unshift":"push"]((()=>{g=t,n(8,g)}))},function(t){r.VnY[t?"unshift":"push"]((()=>{v=t,n(9,v)}))},t=>D(void 0,h),()=>k(h),()=>W(h),()=>R(h),()=>_(h),()=>X(h,!h.locked),()=>E(h),()=>j(h),function(t){r.VnY[t?"unshift":"push"]((()=>{w=t,n(11,w)}))},()=>S(x),()=>O(x),()=>Y(x),function(t){r.VnY[t?"unshift":"push"]((()=>{L=t,n(13,L)}))},function(t){l=t,n(4,l)},t=>$().show(`/directory/${t.id}`),(t,e)=>Z(t,e),function(t){l=t,n(4,l)},(t,e)=>D(e,t),t=>k(t),(t,e)=>B(t,e),t=>k(t),t=>k(t),function(t){P=t,n(17,P)},()=>{n(17,P=!1)},function(t){G=t,n(16,G)},()=>{n(16,G=!1)}]}class lc extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,fc,sc,r.N8,{clientManager:0,directory:37,newFolder:38,newFile:39,uploadFiles:40},null,[-1,-1,-1])}get newFolder(){return this.$$.ctx[38]}get newFile(){return this.$$.ctx[39]}get uploadFiles(){return this.$$.ctx[40]}}const pc=lc;var dc=n(26564);function uc(t,e,n){const r=t.slice();return r[12]=e[n],r}function mc(t,e,n){const r=t.slice();return r[23]=e[n],r}function gc(t){let e;return{c(){e=(0,r.fLW)("User")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function yc(t){let e;return{c(){e=(0,r.fLW)("Role")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function vc(t){let e,n,o,$,c,s;return e=new S.bL({props:{$$slots:{default:[gc]},$$scope:{ctx:t}}}),o=new S.bL({props:{$$slots:{default:[yc]},$$scope:{ctx:t}}}),c=new S.bL({}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment)},m(t,i){(0,r.yef)(e,t,i),(0,r.$Tr)(t,n,i),(0,r.yef)(o,t,i),(0,r.$Tr)(t,$,i),(0,r.yef)(c,t,i),s=!0},p(t,n){const r={};67108864&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};67108864&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){s||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),s=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),s=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t)}}}function hc(t){let e,n;return e=new S.X2({props:{class:"header",$$slots:{default:[vc]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};67108864&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function wc(t){let e,n=t[12].userId+"";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){4&o&&n!==(n=t[12].userId+"")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function xc(t){let e,n,o,$,c=t[11](t[12].role)+"";return o=new yn.Z({props:{class:"material-icons-round",disabled:!!t[3]||t[12].role===i.FolderRole.Owner||!t[12].canManageRoles,variant:"unelevated",$$slots:{default:[Ic]},$$scope:{ctx:t}}}),o.$on("click",(function(){return t[17](t[12])})),{c(){e=(0,r.fLW)(c),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.$Tr)(t,e,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(n,s){t=n,(!$||4&s)&&c!==(c=t[11](t[12].role)+"")&&(0,r.rTO)(e,c);const a={};12&s&&(a.disabled=!!t[3]||t[12].role===i.FolderRole.Owner||!t[12].canManageRoles),67108864&s&&(a.$$scope={dirty:s,ctx:t}),o.$set(a)},i(t){$||((0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(o.$$.fragment,t),$=!1},d(t){t&&(0,r.ogt)(e),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function Lc(t){let e,n,o,$,c,s,i;function a(e){t[14](e)}let f={$$slots:{default:[Cc]},$$scope:{ctx:t}};return void 0!==t[4]&&(f.value=t[4]),e=new dc.ZP({props:f}),r.VnY.push((()=>(0,r.akz)(e,"value",a))),$=new yn.Z({props:{class:"material-icons-round",variant:"unelevated",$$slots:{default:[bc]},$$scope:{ctx:t}}}),$.$on("click",t[15]),s=new yn.Z({props:{class:"material-icons-round",variant:"unelevated",$$slots:{default:[Yc]},$$scope:{ctx:t}}}),s.$on("click",t[16]),{c(){(0,r.YCL)(e.$$.fragment),o=(0,r.DhX)(),(0,r.YCL)($.$$.fragment),c=(0,r.DhX)(),(0,r.YCL)(s.$$.fragment)},m(t,n){(0,r.yef)(e,t,n),(0,r.$Tr)(t,o,n),(0,r.yef)($,t,n),(0,r.$Tr)(t,c,n),(0,r.yef)(s,t,n),i=!0},p(t,o){const c={};67108864&o&&(c.$$scope={dirty:o,ctx:t}),!n&&16&o&&(n=!0,c.value=t[4],(0,r.hjT)((()=>n=!1))),e.$set(c);const i={};67108864&o&&(i.$$scope={dirty:o,ctx:t}),$.$set(i);const a={};67108864&o&&(a.$$scope={dirty:o,ctx:t}),s.$set(a)},i(t){i||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)($.$$.fragment,t),(0,r.Ui)(s.$$.fragment,t),i=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)($.$$.fragment,t),(0,r.etI)(s.$$.fragment,t),i=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(o),(0,r.vpE)($,t),t&&(0,r.ogt)(c),(0,r.vpE)(s,t)}}}function Ic(t){let e;return{c(){e=(0,r.fLW)("edit")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Tc(t){let e,n=t[11](t[23])+"";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p:r.ZTd,d(t){t&&(0,r.ogt)(e)}}}function Uc(t){let e,n;return e=new dc.Wx({props:{value:t[23],$$slots:{default:[Tc]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};67108864&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Cc(t){let e,n,o=t[10],$=[];for(let e=0;e<o.length;e+=1)$[e]=Uc(mc(t,o,e));const c=t=>(0,r.etI)($[t],1,1,(()=>{$[t]=null}));return{c(){for(let t=0;t<$.length;t+=1)$[t].c();e=(0,r.cSb)()},m(t,o){for(let e=0;e<$.length;e+=1)$[e].m(t,o);(0,r.$Tr)(t,e,o),n=!0},p(t,n){if(3072&n){let s;for(o=t[10],s=0;s<o.length;s+=1){const c=mc(t,o,s);$[s]?($[s].p(c,n),(0,r.Ui)($[s],1)):($[s]=Uc(c),$[s].c(),(0,r.Ui)($[s],1),$[s].m(e.parentNode,e))}for((0,r.dvw)(),s=o.length;s<$.length;s+=1)c(s);(0,r.gbL)()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)(0,r.Ui)($[t]);n=!0}},o(t){$=$.filter(Boolean);for(let t=0;t<$.length;t+=1)(0,r.etI)($[t]);n=!1},d(t){(0,r.RMB)($,t),t&&(0,r.ogt)(e)}}}function bc(t){let e;return{c(){e=(0,r.fLW)("save")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Yc(t){let e;return{c(){e=(0,r.fLW)("cancel")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Ec(t){let e,n,o,$;const c=[Lc,xc],s=[];function i(t,e){return t[3]?.userId===t[12].userId?0:1}return e=i(t),n=s[e]=c[e](t),{c(){n.c(),o=(0,r.cSb)()},m(t,n){s[e].m(t,n),(0,r.$Tr)(t,o,n),$=!0},p(t,$){let a=e;e=i(t),e===a?s[e].p(t,$):((0,r.dvw)(),(0,r.etI)(s[a],1,1,(()=>{s[a]=null})),(0,r.gbL)(),n=s[e],n?n.p(t,$):(n=s[e]=c[e](t),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))},i(t){$||((0,r.Ui)(n),$=!0)},o(t){(0,r.etI)(n),$=!1},d(t){s[e].d(t),t&&(0,r.ogt)(o)}}}function Dc(t){let e;return{c(){e=(0,r.fLW)("delete")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function kc(t){let e,n;return e=new yn.Z({props:{class:"material-icons-round",disabled:!!t[3]||t[12].role===i.FolderRole.Owner||!t[12].canRemove,variant:"unelevated",$$slots:{default:[Dc]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[18](t[12])})),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(n,r){t=n;const o={};12&r&&(o.disabled=!!t[3]||t[12].role===i.FolderRole.Owner||!t[12].canRemove),67108864&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Xc(t){let e,n,o,$,c,s,i;return e=new S.bL({props:{$$slots:{default:[wc]},$$scope:{ctx:t}}}),o=new S.bL({props:{$$slots:{default:[Ec]},$$scope:{ctx:t}}}),c=new S.bL({props:{$$slots:{default:[kc]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)()},m(t,a){(0,r.yef)(e,t,a),(0,r.$Tr)(t,n,a),(0,r.yef)(o,t,a),(0,r.$Tr)(t,$,a),(0,r.yef)(c,t,a),(0,r.$Tr)(t,s,a),i=!0},p(t,n){const r={};67108868&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};67108892&n&&($.$$scope={dirty:n,ctx:t}),o.$set($);const s={};67108876&n&&(s.$$scope={dirty:n,ctx:t}),c.$set(s)},i(t){i||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),i=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),i=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t),t&&(0,r.ogt)(s)}}}function Wc(t){let e,n;return e=new S.X2({props:{$$slots:{default:[Xc]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};67108892&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Bc(t){let e,n,o=t[2],$=[];for(let e=0;e<o.length;e+=1)$[e]=Wc(uc(t,o,e));const c=t=>(0,r.etI)($[t],1,1,(()=>{$[t]=null}));return{c(){for(let t=0;t<$.length;t+=1)$[t].c();e=(0,r.cSb)()},m(t,o){for(let e=0;e<$.length;e+=1)$[e].m(t,o);(0,r.$Tr)(t,e,o),n=!0},p(t,n){if(3580&n){let s;for(o=t[2],s=0;s<o.length;s+=1){const c=uc(t,o,s);$[s]?($[s].p(c,n),(0,r.Ui)($[s],1)):($[s]=Wc(c),$[s].c(),(0,r.Ui)($[s],1),$[s].m(e.parentNode,e))}for((0,r.dvw)(),s=o.length;s<$.length;s+=1)c(s);(0,r.gbL)()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)(0,r.Ui)($[t]);n=!0}},o(t){$=$.filter(Boolean);for(let t=0;t<$.length;t+=1)(0,r.etI)($[t]);n=!1},d(t){(0,r.RMB)($,t),t&&(0,r.ogt)(e)}}}function Rc(t){let e,n,o,$;return e=new S.Fb({props:{$$slots:{default:[hc]},$$scope:{ctx:t}}}),o=new S.uT({props:{$$slots:{default:[Bc]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};67108864&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};67108892&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function _c(t){let e;return{c(){e=(0,r.fLW)("Sent!")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Zc(t){let e,n,o,$,c,s,i,a,f,l,p,d,u,m;e=new S.ZP({props:{style:"width: 100%; border: none;",$$slots:{default:[Rc]},$$scope:{ctx:t}}});let g=t[1]&&_c();return{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),o=(0,r.bGB)("tr"),$=(0,r.bGB)("td"),c=(0,r.bGB)("form"),s=(0,r.bGB)("input"),i=(0,r.DhX)(),a=(0,r.bGB)("button"),f=(0,r.fLW)("Invite as viewer"),p=(0,r.DhX)(),g&&g.c(),(0,r.Ljt)(s,"type","text"),(0,r.Ljt)(s,"placeholder","@user:example.org"),(0,r.Ljt)(a,"type","submit"),a.disabled=l=!t[12].canInvite,(0,r.Ljt)($,"colspan","3")},m(l,y){(0,r.yef)(e,l,y),(0,r.$Tr)(l,n,y),(0,r.$Tr)(l,o,y),(0,r.R3I)(o,$),(0,r.R3I)($,c),(0,r.R3I)(c,s),(0,r.BmG)(s,t[0]),(0,r.R3I)(c,i),(0,r.R3I)(c,a),(0,r.R3I)(a,f),(0,r.R3I)(c,p),g&&g.m(c,null),d=!0,u||(m=[(0,r.oLt)(s,"input",t[19]),(0,r.oLt)(c,"submit",(0,r.AT7)(t[9]))],u=!0)},p(t,[n]){const o={};67108892&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o),1&n&&s.value!==t[0]&&(0,r.BmG)(s,t[0]),t[1]?g||(g=_c(),g.c(),g.m(c,null)):g&&(g.d(1),g=null)},i(t){d||((0,r.Ui)(e.$$.fragment,t),d=!0)},o(t){(0,r.etI)(e.$$.fragment,t),d=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),t&&(0,r.ogt)(o),g&&g.d(),u=!1,(0,r.j7q)(m)}}}function Sc(t,e,n){let r,{folder:o}=e,$=!1,c=o.members;const s=o.ownMembership;let a=null,f=null;function l(){n(2,c)}async function p(t){await z((async()=>{await o.removeMember(t.userId),n(2,c=o.members)}),`Failed to remove ${t.userId}`)}function d(t){n(3,a=t),n(4,f=t.role)}async function u(){if(!a)return;const t=a;await z((async()=>{await o.setMemberRole(t.userId,f),n(3,a=null),n(4,f=null),n(2,c=o.members)}),`Failed to set permissions for ${t.userId}`),n(2,c)}function m(){n(3,a=null),n(4,f=null)}o.on("modified",l),(0,b.ev)((()=>o.off("modified",l)));const g=[i.FolderRole.Owner,i.FolderRole.Editor,i.FolderRole.Viewer];return t.$$set=t=>{"folder"in t&&n(13,o=t.folder)},[r,$,c,a,f,p,d,u,m,async function(){n(1,$=!1),await z((async()=>{await o.inviteMember(r,i.FolderRole.Viewer),n(2,c=o.members),n(0,r=""),n(1,$=!0)}),`Failed to invite ${r}`)},g,function(t){switch(t){case i.FolderRole.Owner:return"Owner";case i.FolderRole.Editor:return"Editor";case i.FolderRole.Viewer:return"Viewer"}},s,o,function(t){f=t,n(4,f)},()=>u(),()=>m(),t=>d(t),t=>p(t),function(){r=this.value,n(0,r)}]}class Mc extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,Sc,Zc,r.N8,{folder:13})}}const Oc=Mc;function Gc(t,e,n){const r=t.slice();return r[19]=e[n],r}function jc(t){let e,n;return e=new Qt.ZP({props:{dense:!0,$$slots:{default:[Jc]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};4194308&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function zc(t){let e;return{c(){e=(0,r.fLW)("drive_file_rename_outline")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Nc(t){let e;return{c(){e=(0,r.fLW)("Rename")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Pc(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[zc]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[Nc]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};4194304&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function Fc(t){let e;return{c(){e=(0,r.fLW)("supervised_user_circle")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Vc(t){let e;return{c(){e=(0,r.fLW)("Permissions")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Kc(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[Fc]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[Vc]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};4194304&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function qc(t){let e;return{c(){e=(0,r.fLW)("delete")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Ac(t){let e;return{c(){e=(0,r.fLW)("Delete")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Hc(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[qc]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[Ac]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};4194304&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function Jc(t){let e,n,o,$,c,s,i,a,f,l;return e=new Qt.ck({props:{$$slots:{default:[Pc]},$$scope:{ctx:t}}}),e.$on("SMUI:action",t[11]),o=new Qt.Z0({}),c=new Qt.ck({props:{$$slots:{default:[Kc]},$$scope:{ctx:t}}}),c.$on("SMUI:action",t[12]),i=new Qt.Z0({}),f=new Qt.ck({props:{$$slots:{default:[Hc]},$$scope:{ctx:t}}}),f.$on("SMUI:action",t[13]),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment),a=(0,r.DhX)(),(0,r.YCL)(f.$$.fragment)},m(t,p){(0,r.yef)(e,t,p),(0,r.$Tr)(t,n,p),(0,r.yef)(o,t,p),(0,r.$Tr)(t,$,p),(0,r.yef)(c,t,p),(0,r.$Tr)(t,s,p),(0,r.yef)(i,t,p),(0,r.$Tr)(t,a,p),(0,r.yef)(f,t,p),l=!0},p(t,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const o={};4194304&n&&(o.$$scope={dirty:n,ctx:t}),c.$set(o);const $={};4194304&n&&($.$$scope={dirty:n,ctx:t}),f.$set($)},i(t){l||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),(0,r.Ui)(f.$$.fragment,t),l=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),(0,r.etI)(f.$$.fragment,t),l=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t),t&&(0,r.ogt)(s),(0,r.vpE)(i,t),t&&(0,r.ogt)(a),(0,r.vpE)(f,t)}}}function Qc(t){let e,n,o=t[2]&&jc(t);return{c(){o&&o.c(),e=(0,r.cSb)()},m(t,$){o&&o.m(t,$),(0,r.$Tr)(t,e,$),n=!0},p(t,n){t[2]?o?(o.p(t,n),4&n&&(0,r.Ui)(o,1)):(o=jc(t),o.c(),(0,r.Ui)(o,1),o.m(e.parentNode,e)):o&&((0,r.dvw)(),(0,r.etI)(o,1,1,(()=>{o=null})),(0,r.gbL)())},i(t){n||((0,r.Ui)(o),n=!0)},o(t){(0,r.etI)(o),n=!1},d(t){o&&o.d(t),t&&(0,r.ogt)(e)}}}function ts(t){let e;return{c(){e=(0,r.fLW)("Name")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function es(t){let e;return{c(){e=(0,r.fLW)("Created")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function ns(t){let e,n,o,$,c,s;return e=new S.bL({}),o=new S.bL({props:{$$slots:{default:[ts]},$$scope:{ctx:t}}}),c=new S.bL({props:{$$slots:{default:[es]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment)},m(t,i){(0,r.yef)(e,t,i),(0,r.$Tr)(t,n,i),(0,r.yef)(o,t,i),(0,r.$Tr)(t,$,i),(0,r.yef)(c,t,i),s=!0},p(t,e){const n={};4194304&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);const r={};4194304&e&&(r.$$scope={dirty:e,ctx:t}),c.$set(r)},i(t){s||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),s=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),s=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t)}}}function rs(t){let e,n;return e=new S.X2({props:{$$slots:{default:[ns]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function os(t){let e;return{c(){e=(0,r.bGB)("span"),e.textContent="work",(0,r.Ljt)(e,"class","material-icons-round solo-icon svelte-kwso1l")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function $s(t){let e,n=t[19].name+"";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){1&o&&n!==(n=t[19].name+"")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function cs(t){let e,n;return e=new tn({props:{entry:t[19]}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};1&n&&(r.entry=t[19]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function ss(t){let e,n,o,$,c,s,i;return e=new S.bL({props:{$$slots:{default:[os]},$$scope:{ctx:t}}}),o=new S.bL({props:{$$slots:{default:[$s]},$$scope:{ctx:t}}}),c=new S.bL({props:{$$slots:{default:[cs]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)()},m(t,a){(0,r.yef)(e,t,a),(0,r.$Tr)(t,n,a),(0,r.yef)(o,t,a),(0,r.$Tr)(t,$,a),(0,r.yef)(c,t,a),(0,r.$Tr)(t,s,a),i=!0},p(t,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};4194305&n&&($.$$scope={dirty:n,ctx:t}),o.$set($);const s={};4194305&n&&(s.$$scope={dirty:n,ctx:t}),c.$set(s)},i(t){i||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),i=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),i=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t),t&&(0,r.ogt)(s)}}}function is(t){let e,n;return e=new S.X2({props:{class:"cursor-pointer",$$slots:{default:[ss]},$$scope:{ctx:t}}}),e.$on("dblclick:preventDefault",(function(){return t[15](t[19])})),e.$on("contextmenu:preventDefault",(function(...e){return t[16](t[19],...e)})),e.$on("mousedown:preventDefault",vs),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(n,r){t=n;const o={};4194305&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function as(t){let e,n,o=t[0],$=[];for(let e=0;e<o.length;e+=1)$[e]=is(Gc(t,o,e));const c=t=>(0,r.etI)($[t],1,1,(()=>{$[t]=null}));return{c(){for(let t=0;t<$.length;t+=1)$[t].c();e=(0,r.cSb)()},m(t,o){for(let e=0;e<$.length;e+=1)$[e].m(t,o);(0,r.$Tr)(t,e,o),n=!0},p(t,n){if(257&n){let s;for(o=t[0],s=0;s<o.length;s+=1){const c=Gc(t,o,s);$[s]?($[s].p(c,n),(0,r.Ui)($[s],1)):($[s]=is(c),$[s].c(),(0,r.Ui)($[s],1),$[s].m(e.parentNode,e))}for((0,r.dvw)(),s=o.length;s<$.length;s+=1)c(s);(0,r.gbL)()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)(0,r.Ui)($[t]);n=!0}},o(t){$=$.filter(Boolean);for(let t=0;t<$.length;t+=1)(0,r.etI)($[t]);n=!1},d(t){(0,r.RMB)($,t),t&&(0,r.ogt)(e)}}}function fs(t){let e,n,o,$;return e=new S.Fb({props:{$$slots:{default:[rs]},$$scope:{ctx:t}}}),o=new S.uT({props:{$$slots:{default:[as]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};4194305&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function ls(t){let e,n,o,$;return e=new Ce.Dx({props:{style:"font-size: 24px; font-weight: 600;",$$slots:{default:[ps]},$$scope:{ctx:t}}}),o=new Ce.VY({props:{$$slots:{default:[ds]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};4194306&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};4194306&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function ps(t){let e,n,o=t[1].name+"";return{c(){e=(0,r.fLW)("Permissions for "),n=(0,r.fLW)(o)},m(t,o){(0,r.$Tr)(t,e,o),(0,r.$Tr)(t,n,o)},p(t,e){2&e&&o!==(o=t[1].name+"")&&(0,r.rTO)(n,o)},d(t){t&&(0,r.ogt)(e),t&&(0,r.ogt)(n)}}}function ds(t){let e,n;return e=new Oc({props:{folder:t[1]}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};2&n&&(r.folder=t[1]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function us(t){let e;return{c(){e=(0,r.fLW)("Close")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function ms(t){let e,n;return e=new D.ZP({props:{variant:"unelevated",$$slots:{default:[us]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function gs(t){let e,n,o,$=t[1]&&ls(t);return n=new Ce.eX({props:{$$slots:{default:[ms]},$$scope:{ctx:t}}}),{c(){$&&$.c(),e=(0,r.DhX)(),(0,r.YCL)(n.$$.fragment)},m(t,c){$&&$.m(t,c),(0,r.$Tr)(t,e,c),(0,r.yef)(n,t,c),o=!0},p(t,o){t[1]?$?($.p(t,o),2&o&&(0,r.Ui)($,1)):($=ls(t),$.c(),(0,r.Ui)($,1),$.m(e.parentNode,e)):$&&((0,r.dvw)(),(0,r.etI)($,1,1,(()=>{$=null})),(0,r.gbL)());const c={};4194304&o&&(c.$$scope={dirty:o,ctx:t}),n.$set(c)},i(t){o||((0,r.Ui)($),(0,r.Ui)(n.$$.fragment,t),o=!0)},o(t){(0,r.etI)($),(0,r.etI)(n.$$.fragment,t),o=!1},d(t){$&&$.d(t),t&&(0,r.ogt)(e),(0,r.vpE)(n,t)}}}function ys(t){let e,n,o,$,c,s,i,a,f;e=new je({props:{}}),t[10](e);let l={anchor:!1,quickOpen:!0,$$slots:{default:[Qc]},$$scope:{ctx:t}};function p(e){t[17](e)}o=new Ue.ZP({props:l}),t[14](o),c=new S.ZP({props:{style:"width: 100%; border: none;",$$slots:{default:[fs]},$$scope:{ctx:t}}});let d={surface$style:"width: fit-content; max-width: calc(100vw - 32px);",$$slots:{default:[gs]},$$scope:{ctx:t}};return void 0!==t[5]&&(d.open=t[5]),i=new Ce.ZP({props:d}),r.VnY.push((()=>(0,r.akz)(i,"open",p))),i.$on("MDCDialog:closed",t[18]),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment)},m(t,a){(0,r.yef)(e,t,a),(0,r.$Tr)(t,n,a),(0,r.yef)(o,t,a),(0,r.$Tr)(t,$,a),(0,r.yef)(c,t,a),(0,r.$Tr)(t,s,a),(0,r.yef)(i,t,a),f=!0},p(t,[n]){e.$set({});const $={};4194308&n&&($.$$scope={dirty:n,ctx:t}),o.$set($);const s={};4194305&n&&(s.$$scope={dirty:n,ctx:t}),c.$set(s);const f={};4194306&n&&(f.$$scope={dirty:n,ctx:t}),!a&&32&n&&(a=!0,f.open=t[5],(0,r.hjT)((()=>a=!1))),i.$set(f)},i(t){f||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),f=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),f=!1},d(a){t[10](null),(0,r.vpE)(e,a),a&&(0,r.ogt)(n),t[14](null),(0,r.vpE)(o,a),a&&(0,r.ogt)($),(0,r.vpE)(c,a),a&&(0,r.ogt)(s),(0,r.vpE)(i,a)}}}const vs=()=>{};function hs(t,e,n){let o,c,s,i,{workspaces:a}=e;async function f(t){await z((async()=>{await t.delete()}),`Failed to delete workspace ${t.name}`),n(0,a)}function l(t){n(5,u=!0),s.setOpen(!1),n(1,o=t)}function p(t,e){n(2,c=t),s.setOpen(!0),K(e)}async function d(t){s.setOpen(!1);const e=await i.open("Rename workspace",t.name,"Workspace name","Rename",P(t.name,a));e&&(await z((async()=>{await t.rename(e)}),`Failed to rename ${t.name}`),n(0,a))}let u=!1;return t.$$set=t=>{"workspaces"in t&&n(0,a=t.workspaces)},[a,o,c,s,i,u,f,l,p,d,function(t){r.VnY[t?"unshift":"push"]((()=>{i=t,n(4,i)}))},()=>d(c),()=>l(c),()=>f(c),function(t){r.VnY[t?"unshift":"push"]((()=>{s=t,n(3,s)}))},t=>$().show(`/directory/${t.id}`),(t,e)=>p(t,e),function(t){u=t,n(5,u)},()=>{n(5,u=!1)}]}class ws extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,hs,ys,r.N8,{workspaces:0})}}const xs=ws;function Ls(t,e,n){const r=t.slice();return r[4]=e[n],r}function Is(t){let e;return{c(){e=(0,r.fLW)("Home")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Ts(t){let e,n=t[4].name+"";return{c(){e=(0,r.fLW)(n)},m(t,n){(0,r.$Tr)(t,e,n)},p(t,o){1&o&&n!==(n=t[4].name+"")&&(0,r.rTO)(e,n)},d(t){t&&(0,r.ogt)(e)}}}function Us(t){let e,n,o,$;return o=new D.ZP({props:{href:"#",variant:"text",$$slots:{default:[Ts]},$$scope:{ctx:t}}}),o.$on("click:preventDefault",(function(){return t[3](t[4])})),{c(){e=(0,r.bGB)("span"),e.textContent="chevron_right",n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),(0,r.Ljt)(e,"class","material-icons-round svelte-1mth730")},m(t,c){(0,r.$Tr)(t,e,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(e,n){t=e;const r={};129&n&&(r.$$scope={dirty:n,ctx:t}),o.$set(r)},i(t){$||((0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(o.$$.fragment,t),$=!1},d(t){t&&(0,r.ogt)(e),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function Cs(t){let e,n,o,$;n=new D.ZP({props:{href:"#",variant:"text",$$slots:{default:[Is]},$$scope:{ctx:t}}}),n.$on("click:preventDefault",t[2]);let c=t[0],s=[];for(let e=0;e<c.length;e+=1)s[e]=Us(Ls(t,c,e));const i=t=>(0,r.etI)(s[t],1,1,(()=>{s[t]=null}));return{c(){e=(0,r.bGB)("div"),(0,r.YCL)(n.$$.fragment),o=(0,r.DhX)();for(let t=0;t<s.length;t+=1)s[t].c();(0,r.Ljt)(e,"class","svelte-1mth730")},m(t,c){(0,r.$Tr)(t,e,c),(0,r.yef)(n,e,null),(0,r.R3I)(e,o);for(let t=0;t<s.length;t+=1)s[t].m(e,null);$=!0},p(t,[o]){const $={};if(128&o&&($.$$scope={dirty:o,ctx:t}),n.$set($),1&o){let n;for(c=t[0],n=0;n<c.length;n+=1){const $=Ls(t,c,n);s[n]?(s[n].p($,o),(0,r.Ui)(s[n],1)):(s[n]=Us($),s[n].c(),(0,r.Ui)(s[n],1),s[n].m(e,null))}for((0,r.dvw)(),n=c.length;n<s.length;n+=1)i(n);(0,r.gbL)()}},i(t){if(!$){(0,r.Ui)(n.$$.fragment,t);for(let t=0;t<c.length;t+=1)(0,r.Ui)(s[t]);$=!0}},o(t){(0,r.etI)(n.$$.fragment,t),s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)(0,r.etI)(s[t]);$=!1},d(t){t&&(0,r.ogt)(e),(0,r.vpE)(n),(0,r.RMB)(s,t)}}}function bs(t,e,n){let{directory:r}=e,o=[];return t.$$set=t=>{"directory"in t&&n(1,r=t.directory)},t.$$.update=()=>{if(3&t.$$.dirty){n(0,o=[]);let t=r;for(;t;)o.push(t),t=t.parent;o.pop(),o.reverse(),n(0,o),n(1,r)}},[o,r,()=>$().show("/home"),t=>$().show(`/directory/${t.id}`)]}class Ys extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,bs,Cs,r.N8,{directory:1})}}const Es=Ys;var Ds=n(93886);function ks(t){let e,n,o,$,c,s=(t[3]||!t[1])&&Ws(t);const i=[Rs,Bs],a=[];function f(t,e){return t[3]?0:t[1]?-1:1}return~(n=f(t))&&(o=a[n]=i[n](t)),{c(){s&&s.c(),e=(0,r.DhX)(),o&&o.c(),$=(0,r.cSb)()},m(t,o){s&&s.m(t,o),(0,r.$Tr)(t,e,o),~n&&a[n].m(t,o),(0,r.$Tr)(t,$,o),c=!0},p(t,c){t[3]||!t[1]?s?(s.p(t,c),10&c&&(0,r.Ui)(s,1)):(s=Ws(t),s.c(),(0,r.Ui)(s,1),s.m(e.parentNode,e)):s&&((0,r.dvw)(),(0,r.etI)(s,1,1,(()=>{s=null})),(0,r.gbL)());let l=n;n=f(t),n===l?~n&&a[n].p(t,c):(o&&((0,r.dvw)(),(0,r.etI)(a[l],1,1,(()=>{a[l]=null})),(0,r.gbL)()),~n?(o=a[n],o?o.p(t,c):(o=a[n]=i[n](t),o.c()),(0,r.Ui)(o,1),o.m($.parentNode,$)):o=null)},i(t){c||((0,r.Ui)(s),(0,r.Ui)(o),c=!0)},o(t){(0,r.etI)(s),(0,r.etI)(o),c=!1},d(t){s&&s.d(t),t&&(0,r.ogt)(e),~n&&a[n].d(t),t&&(0,r.ogt)($)}}}function Xs(t){let e,n;return e=new en.O({}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p:r.ZTd,i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Ws(t){let e,n;return e=new Es({props:{directory:t[3]}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};8&n&&(r.directory=t[3]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Bs(t){let e,n;return e=new xs({props:{workspaces:t[2]}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};4&n&&(r.workspaces=t[2]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Rs(t){let e,n,o,$,c,s,i;return n=new Ds.Z({props:{noClick:!0,accept:void 0,$$slots:{default:[_s]},$$scope:{ctx:t}}}),n.$on("drop",t[8]),n.$on("dragenter",t[10]),n.$on("dragleave",t[11]),{c(){e=(0,r.bGB)("div"),(0,r.YCL)(n.$$.fragment),o=(0,r.DhX)(),$=(0,r.bGB)("input"),(0,r.Ljt)(e,"class","dropzone-container svelte-o8hq7c"),(0,r.Ljt)($,"type","file"),(0,r.Ljt)($,"autocomplete","off"),(0,r.Ljt)($,"tabindex","-1"),(0,r.czc)($,"display","none"),$.multiple=!0},m(a,f){(0,r.$Tr)(a,e,f),(0,r.yef)(n,e,null),t[16](e),(0,r.$Tr)(a,o,f),(0,r.$Tr)(a,$,f),t[17]($),c=!0,s||(i=(0,r.oLt)($,"change",t[9]),s=!0)},p(t,e){const r={};524361&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){c||((0,r.Ui)(n.$$.fragment,t),c=!0)},o(t){(0,r.etI)(n.$$.fragment,t),c=!1},d(c){c&&(0,r.ogt)(e),(0,r.vpE)(n),t[16](null),c&&(0,r.ogt)(o),c&&(0,r.ogt)($),t[17](null),s=!1,i()}}}function _s(t){let e,n,o={clientManager:t[0],directory:t[3]};return e=new pc({props:o}),t[15](e),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};1&n&&(r.clientManager=t[0]),8&n&&(r.directory=t[3]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(n){t[15](null),(0,r.vpE)(e,n)}}}function Zs(t){let e,n,o,$;const c=[Xs,ks],s=[];function i(t,e){return t[4]?0:1}return n=i(t),o=s[n]=c[n](t),{c(){e=(0,r.bGB)("div"),o.c(),(0,r.Ljt)(e,"class","browser svelte-o8hq7c")},m(t,o){(0,r.$Tr)(t,e,o),s[n].m(e,null),$=!0},p(t,[$]){let a=n;n=i(t),n===a?s[n].p(t,$):((0,r.dvw)(),(0,r.etI)(s[a],1,1,(()=>{s[a]=null})),(0,r.gbL)(),o=s[n],o?o.p(t,$):(o=s[n]=c[n](t),o.c()),(0,r.Ui)(o,1),o.m(e,null))},i(t){$||((0,r.Ui)(o),$=!0)},o(t){(0,r.etI)(o),$=!1},d(t){t&&(0,r.ogt)(e),s[n].d()}}}function Ss(t,e,n){let o,{clientManager:$}=e,{directoryId:c}=e,{workspaces:s}=e;function i(){n(3,o),n(1,c),n(0,$)}let a,f,l,p=!0;function d(){l&&l.classList.remove("drag-over")}return t.$$set=t=>{"clientManager"in t&&n(0,$=t.clientManager),"directoryId"in t&&n(1,c=t.directoryId),"workspaces"in t&&n(2,s=t.workspaces)},t.$$.update=()=>{11&t.$$.dirty&&(async()=>{if(c&&(null==o?void 0:o.id)!==c){const t=await $.files.getDescendentById(c);(null==t?void 0:t.isFolder)?(n(3,o=t),o.on("modified",i),n(4,p=!1)):(o&&o.off("modified",i),n(3,o=void 0),M.Vy.error(`Unable to find folder: ${c}`))}else c||(o&&o.off("modified",i),n(4,p=!1),n(3,o=void 0))})()},[$,c,s,o,p,a,f,l,async function(t){if(d(),!f)return;const{acceptedFiles:e}=t.detail;await f.uploadFiles(e)},async function(t){f&&await f.uploadFiles(t.target.files)},function(){l&&l.classList.add("drag-over")},d,async function(){f&&await f.newFolder()},async function(){f&&await f.newFile()},function(){a&&a.click()},function(t){r.VnY[t?"unshift":"push"]((()=>{f=t,n(6,f)}))},function(t){r.VnY[t?"unshift":"push"]((()=>{l=t,n(7,l)}))},function(t){r.VnY[t?"unshift":"push"]((()=>{a=t,n(5,a)}))}]}class Ms extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,Ss,Zs,r.N8,{clientManager:0,directoryId:1,workspaces:2,newFolder:12,newFile:13,fileUpload:14})}get newFolder(){return this.$$.ctx[12]}get newFile(){return this.$$.ctx[13]}get fileUpload(){return this.$$.ctx[14]}}const Os=Ms;var Gs=n(25108);function js(t){let e;return{c(){e=(0,r.fLW)("Create account")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function zs(t){let e,n;return{c(){e=(0,r.bGB)("p"),n=(0,r.fLW)(t[1]),(0,r.czc)(e,"color","red"),(0,r.czc)(e,"text-align","center"),(0,r.czc)(e,"font-weight","bold")},m(t,o){(0,r.$Tr)(t,e,o),(0,r.R3I)(e,n)},p(t,e){2&e&&(0,r.rTO)(n,t[1])},d(t){t&&(0,r.ogt)(e)}}}function Ns(t){let e;return{c(){e=(0,r.fLW)("e.g. https://matrix.org")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Ps(t){let e,n;return e=new ht.Z({props:{slot:"helper",$$slots:{default:[Ns]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};512&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Fs(t){let e,n;return e=new ht.Z({props:{slot:"helper"}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p:r.ZTd,i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Vs(t){let e,n;return e=new ht.Z({props:{slot:"helper"}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p:r.ZTd,i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Ks(t){let e,n;return e=new xt.Z({props:{indeterminate:!0,style:"height: 24px; width: 24px; margin-left: 8px;"}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function qs(t){let e,n,o,$=t[2]&&Ks();return{c(){e=(0,r.fLW)("Register\n            "),$&&$.c(),n=(0,r.cSb)()},m(t,c){(0,r.$Tr)(t,e,c),$&&$.m(t,c),(0,r.$Tr)(t,n,c),o=!0},p(t,e){t[2]?$?4&e&&(0,r.Ui)($,1):($=Ks(),$.c(),(0,r.Ui)($,1),$.m(n.parentNode,n)):$&&((0,r.dvw)(),(0,r.etI)($,1,1,(()=>{$=null})),(0,r.gbL)())},i(t){o||((0,r.Ui)($),o=!0)},o(t){(0,r.etI)($),o=!1},d(t){t&&(0,r.ogt)(e),$&&$.d(t),t&&(0,r.ogt)(n)}}}function As(t){let e;return{c(){e=(0,r.fLW)("Sign in")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Hs(t){let e,n;return e=new D.__({props:{$$slots:{default:[As]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};512&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Js(t){let e,n,o,$,c,s,i,a,f,l,p,d,u,m,g,y,v,h,w,x,L,I,T,U;n=new wt.Dx({props:{style:"font-size: 24px; font-weight: 600; ",$$slots:{default:[js]},$$scope:{ctx:t}}});let C=t[1]&&zs(t);function b(e){t[4](e)}let Y={variant:"outlined",label:"Homeserver",type:"text",required:!0,style:"margin-top: 16px;",$$slots:{helper:[Ps]},$$scope:{ctx:t}};function E(e){t[5](e)}void 0!==t[0].homeserverUrl&&(Y.value=t[0].homeserverUrl),a=new vt.ZP({props:Y}),r.VnY.push((()=>(0,r.akz)(a,"value",b)));let k={variant:"outlined",label:"Username",type:"text",required:!0,style:"margin-top: 16px;",$$slots:{helper:[Fs]},$$scope:{ctx:t}};function X(e){t[6](e)}void 0!==t[0].userId&&(k.value=t[0].userId),p=new vt.ZP({props:k}),r.VnY.push((()=>(0,r.akz)(p,"value",E)));let W={variant:"outlined",label:"Password",type:"password",required:!0,style:"margin-top: 16px;",$$slots:{helper:[Vs]},$$scope:{ctx:t}};return void 0!==t[0].password&&(W.value=t[0].password),m=new vt.ZP({props:W}),r.VnY.push((()=>(0,r.akz)(m,"value",X))),v=new D.ZP({props:{type:"submit",variant:"unelevated",disabled:t[2],$$slots:{default:[qs]},$$scope:{ctx:t}}}),L=new D.ZP({props:{href:"#",$$slots:{default:[Hs]},$$scope:{ctx:t}}}),L.$on("click:preventDefault",t[7]),{c(){e=(0,r.bGB)("div"),(0,r.YCL)(n.$$.fragment),o=(0,r.DhX)(),$=(0,r.bGB)("p"),$.innerHTML="<strong>The homeserver needs to allow high request rates.</strong>",c=(0,r.DhX)(),C&&C.c(),s=(0,r.DhX)(),i=(0,r.bGB)("form"),(0,r.YCL)(a.$$.fragment),l=(0,r.DhX)(),(0,r.YCL)(p.$$.fragment),u=(0,r.DhX)(),(0,r.YCL)(m.$$.fragment),y=(0,r.DhX)(),(0,r.YCL)(v.$$.fragment),h=(0,r.DhX)(),w=(0,r.bGB)("p"),x=(0,r.fLW)("Already have an account?\n            "),(0,r.YCL)(L.$$.fragment)},m(f,d){(0,r.$Tr)(f,e,d),(0,r.yef)(n,e,null),(0,r.R3I)(e,o),(0,r.R3I)(e,$),(0,r.R3I)(e,c),C&&C.m(e,null),(0,r.R3I)(e,s),(0,r.R3I)(e,i),(0,r.yef)(a,i,null),(0,r.R3I)(i,l),(0,r.yef)(p,i,null),(0,r.R3I)(i,u),(0,r.yef)(m,i,null),(0,r.R3I)(i,y),(0,r.yef)(v,i,null),(0,r.R3I)(i,h),(0,r.R3I)(i,w),(0,r.R3I)(w,x),(0,r.yef)(L,w,null),I=!0,T||(U=(0,r.oLt)(i,"submit",(0,r.AT7)(t[8])),T=!0)},p(t,[o]){const $={};512&o&&($.$$scope={dirty:o,ctx:t}),n.$set($),t[1]?C?C.p(t,o):(C=zs(t),C.c(),C.m(e,s)):C&&(C.d(1),C=null);const c={};512&o&&(c.$$scope={dirty:o,ctx:t}),!f&&1&o&&(f=!0,c.value=t[0].homeserverUrl,(0,r.hjT)((()=>f=!1))),a.$set(c);const i={};512&o&&(i.$$scope={dirty:o,ctx:t}),!d&&1&o&&(d=!0,i.value=t[0].userId,(0,r.hjT)((()=>d=!1))),p.$set(i);const l={};512&o&&(l.$$scope={dirty:o,ctx:t}),!g&&1&o&&(g=!0,l.value=t[0].password,(0,r.hjT)((()=>g=!1))),m.$set(l);const u={};4&o&&(u.disabled=t[2]),516&o&&(u.$$scope={dirty:o,ctx:t}),v.$set(u);const y={};512&o&&(y.$$scope={dirty:o,ctx:t}),L.$set(y)},i(t){I||((0,r.Ui)(n.$$.fragment,t),(0,r.Ui)(a.$$.fragment,t),(0,r.Ui)(p.$$.fragment,t),(0,r.Ui)(m.$$.fragment,t),(0,r.Ui)(v.$$.fragment,t),(0,r.Ui)(L.$$.fragment,t),I=!0)},o(t){(0,r.etI)(n.$$.fragment,t),(0,r.etI)(a.$$.fragment,t),(0,r.etI)(p.$$.fragment,t),(0,r.etI)(m.$$.fragment,t),(0,r.etI)(v.$$.fragment,t),(0,r.etI)(L.$$.fragment,t),I=!1},d(t){t&&(0,r.ogt)(e),(0,r.vpE)(n),C&&C.d(),(0,r.vpE)(a),(0,r.vpE)(p),(0,r.vpE)(m),(0,r.vpE)(v),(0,r.vpE)(L),T=!1,U()}}}function Qs(t,e,n){let{clientManager:r}=e,o="",c=!1;async function s(){var t,e;try{n(1,o=""),n(2,c=!0),await r.register()}catch(r){Gs.error(r),n(1,o=[r.errcode,null!==(e=null===(t=r.cause)||void 0===t?void 0:t.message)&&void 0!==e?e:r.message].filter((t=>!!t)).join(": "))}finally{n(2,c=!1)}}return t.$$set=t=>{"clientManager"in t&&n(0,r=t.clientManager)},[r,o,c,s,function(e){t.$$.not_equal(r.homeserverUrl,e)&&(r.homeserverUrl=e,n(0,r))},function(e){t.$$.not_equal(r.userId,e)&&(r.userId=e,n(0,r))},function(e){t.$$.not_equal(r.password,e)&&(r.password=e,n(0,r))},()=>$().show("/signin"),()=>s()]}class ti extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,Qs,Js,r.N8,{clientManager:0})}}const ei=ti;n(25054);var ni=n(56176),ri=n.n(ni);function oi(t){let e,n;return e=new M.sz({props:{data:t[29]}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};536870912&n&&(r.data=t[29]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function $i(t){let e,n,o,$,c,s,i,a,f,l,p,d,u,m=t[4].client.getUserIdLocalpart()+"";e=new D.ZP({props:{style:"left: 6px; border-radius: 21px; min-width: 108px; margin-bottom: 16px;",variant:"unelevated",$$slots:{default:[ii]},$$scope:{ctx:t}}}),e.$on("click",t[14]);let g={quickOpen:!0,anchor:!1,$$slots:{default:[hi]},$$scope:{ctx:t}};return o=new Ue.ZP({props:g}),t[18](o),c=new Te({props:{clientManager:t[4]}}),d=new D.ZP({props:{$$slots:{default:[xi]},$$scope:{ctx:t}}}),d.$on("click",t[19]),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),i=(0,r.bGB)("p"),a=(0,r.fLW)("Signed in as @"),f=(0,r.fLW)(m),l=(0,r.DhX)(),p=(0,r.bGB)("div"),(0,r.YCL)(d.$$.fragment),(0,r.czc)(i,"text-align","center"),(0,r.czc)(i,"font-size","0.9em"),(0,r.czc)(p,"text-align","center")},m(t,m){(0,r.yef)(e,t,m),(0,r.$Tr)(t,n,m),(0,r.yef)(o,t,m),(0,r.$Tr)(t,$,m),(0,r.yef)(c,t,m),(0,r.$Tr)(t,s,m),(0,r.$Tr)(t,i,m),(0,r.R3I)(i,a),(0,r.R3I)(i,f),(0,r.$Tr)(t,l,m),(0,r.$Tr)(t,p,m),(0,r.yef)(d,p,null),u=!0},p(t,n){const $={};1073741824&n&&($.$$scope={dirty:n,ctx:t}),e.$set($);const s={};1073741824&n&&(s.$$scope={dirty:n,ctx:t}),o.$set(s);const i={};16&n&&(i.clientManager=t[4]),c.$set(i),(!u||16&n)&&m!==(m=t[4].client.getUserIdLocalpart()+"")&&(0,r.rTO)(f,m);const a={};1073741824&n&&(a.$$scope={dirty:n,ctx:t}),d.$set(a)},i(t){u||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(d.$$.fragment,t),u=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(d.$$.fragment,t),u=!1},d(a){(0,r.vpE)(e,a),a&&(0,r.ogt)(n),t[18](null),(0,r.vpE)(o,a),a&&(0,r.ogt)($),(0,r.vpE)(c,a),a&&(0,r.ogt)(s),a&&(0,r.ogt)(i),a&&(0,r.ogt)(l),a&&(0,r.ogt)(p),(0,r.vpE)(d)}}}function ci(t){let e;return{c(){e=(0,r.fLW)("add")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function si(t){let e;return{c(){e=(0,r.fLW)("New")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function ii(t){let e,n,o,$;return e=new D.JO({props:{class:"material-icons-round",$$slots:{default:[ci]},$$scope:{ctx:t}}}),o=new D.__({props:{$$slots:{default:[si]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};1073741824&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};1073741824&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function ai(t){let e;return{c(){e=(0,r.fLW)("create_new_folder")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function fi(t){let e;return{c(){e=(0,r.fLW)("New folder")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function li(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[ai]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[fi]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};1073741824&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};1073741824&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function pi(t){let e;return{c(){e=(0,r.fLW)("insert_drive_file")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function di(t){let e;return{c(){e=(0,r.fLW)("New File")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function ui(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[pi]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[di]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};1073741824&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};1073741824&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function mi(t){let e;return{c(){e=(0,r.fLW)("upload_file")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function gi(t){let e;return{c(){e=(0,r.fLW)("File upload")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function yi(t){let e,n,o,$;return e=new Qt.zs({props:{class:"material-icons-round",$$slots:{default:[mi]},$$scope:{ctx:t}}}),o=new Qt.xv({props:{$$slots:{default:[gi]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment)},m(t,c){(0,r.yef)(e,t,c),(0,r.$Tr)(t,n,c),(0,r.yef)(o,t,c),$=!0},p(t,n){const r={};1073741824&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const $={};1073741824&n&&($.$$scope={dirty:n,ctx:t}),o.$set($)},i(t){$||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),$=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),$=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t)}}}function vi(t){let e,n,o,$,c,s,i,a;return e=new Qt.ck({props:{$$slots:{default:[li]},$$scope:{ctx:t}}}),e.$on("SMUI:action",t[15]),o=new Qt.Z0({}),c=new Qt.ck({props:{$$slots:{default:[ui]},$$scope:{ctx:t}}}),c.$on("SMUI:action",t[16]),i=new Qt.ck({props:{$$slots:{default:[yi]},$$scope:{ctx:t}}}),i.$on("SMUI:action",t[17]),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),(0,r.YCL)(o.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment)},m(t,f){(0,r.yef)(e,t,f),(0,r.$Tr)(t,n,f),(0,r.yef)(o,t,f),(0,r.$Tr)(t,$,f),(0,r.yef)(c,t,f),(0,r.$Tr)(t,s,f),(0,r.yef)(i,t,f),a=!0},p(t,n){const r={};1073741824&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const o={};1073741824&n&&(o.$$scope={dirty:n,ctx:t}),c.$set(o);const $={};1073741824&n&&($.$$scope={dirty:n,ctx:t}),i.$set($)},i(t){a||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(o.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),a=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(o.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),a=!1},d(t){(0,r.vpE)(e,t),t&&(0,r.ogt)(n),(0,r.vpE)(o,t),t&&(0,r.ogt)($),(0,r.vpE)(c,t),t&&(0,r.ogt)(s),(0,r.vpE)(i,t)}}}function hi(t){let e,n;return e=new Qt.ZP({props:{$$slots:{default:[vi]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};1073741824&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function wi(t){let e;return{c(){e=(0,r.fLW)("Sign out")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function xi(t){let e,n;return e=new D.__({props:{$$slots:{default:[wi]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};1073741824&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Li(t){let e,n,o,$,c,s=t[2]&&$i(t);return{c(){e=(0,r.bGB)("img"),o=(0,r.DhX)(),s&&s.c(),$=(0,r.cSb)(),(0,r.Jn4)(e.src,n="logo.svg")||(0,r.Ljt)(e,"src","logo.svg"),(0,r.Ljt)(e,"alt","Files SDK Demo"),(0,r.czc)(e,"margin-bottom","20px"),(0,r.czc)(e,"width","206px")},m(t,n){(0,r.$Tr)(t,e,n),(0,r.$Tr)(t,o,n),s&&s.m(t,n),(0,r.$Tr)(t,$,n),c=!0},p(t,e){t[2]?s?(s.p(t,e),4&e&&(0,r.Ui)(s,1)):(s=$i(t),s.c(),(0,r.Ui)(s,1),s.m($.parentNode,$)):s&&((0,r.dvw)(),(0,r.etI)(s,1,1,(()=>{s=null})),(0,r.gbL)())},i(t){c||((0,r.Ui)(s),c=!0)},o(t){(0,r.etI)(s),c=!1},d(t){t&&(0,r.ogt)(e),t&&(0,r.ogt)(o),s&&s.d(t),t&&(0,r.ogt)($)}}}function Ii(t){let e,n;return e=new Jt.VY({props:{class:"drawer-content",$$slots:{default:[Li]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};1073741852&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Ti(t){let e,n,o,$,c,s;function i(e){t[20](e)}let a={label:"Search Files",style:"width: 100%;",noLabel:!0,$$slots:{leadingIcon:[Ci]},$$scope:{ctx:t}};return void 0!==t[1]&&(a.value=t[1]),n=new vt.ZP({props:a}),r.VnY.push((()=>(0,r.akz)(n,"value",i))),c=new yn.Z({props:{href:"#",$$slots:{default:[Yi]},$$scope:{ctx:t}}}),c.$on("click:preventDefault",t[21]),{c(){e=(0,r.bGB)("div"),(0,r.YCL)(n.$$.fragment),$=(0,r.DhX)(),(0,r.YCL)(c.$$.fragment),(0,r.Ljt)(e,"class","search-bar svelte-1eb1gjl")},m(t,o){(0,r.$Tr)(t,e,o),(0,r.yef)(n,e,null),(0,r.R3I)(e,$),(0,r.yef)(c,e,null),s=!0},p(t,e){const $={};1073741824&e&&($.$$scope={dirty:e,ctx:t}),!o&&2&e&&(o=!0,$.value=t[1],(0,r.hjT)((()=>o=!1))),n.$set($);const s={};1073741824&e&&(s.$$scope={dirty:e,ctx:t}),c.$set(s)},i(t){s||((0,r.Ui)(n.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),s=!0)},o(t){(0,r.etI)(n.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),s=!1},d(t){t&&(0,r.ogt)(e),(0,r.vpE)(n),(0,r.vpE)(c)}}}function Ui(t){let e;return{c(){e=(0,r.fLW)("search")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Ci(t){let e,n;return e=new D.JO({props:{class:"material-icons-round",slot:"leadingIcon",$$slots:{default:[Ui]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};1073741824&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function bi(t){let e;return{c(){e=(0,r.fLW)("settings")},m(t,n){(0,r.$Tr)(t,e,n)},d(t){t&&(0,r.ogt)(e)}}}function Yi(t){let e,n;return e=new D.JO({props:{class:"material-icons-round",$$slots:{default:[bi]},$$scope:{ctx:t}}}),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};1073741824&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(t){(0,r.vpE)(e,t)}}}function Ei(t){let e,n,o={clientManager:t[4],workspaces:t[6],directoryId:t[5]};return e=new Os({props:o}),t[22](e),{c(){(0,r.YCL)(e.$$.fragment)},m(t,o){(0,r.yef)(e,t,o),n=!0},p(t,n){const r={};16&n&&(r.clientManager=t[4]),64&n&&(r.workspaces=t[6]),32&n&&(r.directoryId=t[5]),e.$set(r)},i(t){n||((0,r.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,r.etI)(e.$$.fragment,t),n=!1},d(n){t[22](null),(0,r.vpE)(e,n)}}}function Di(t){let e,n,o;var $=t[0];function c(t){return{props:{clientManager:t[4]}}}return $&&(e=new $(c(t))),{c(){e&&(0,r.YCL)(e.$$.fragment),n=(0,r.cSb)()},m(t,$){e&&(0,r.yef)(e,t,$),(0,r.$Tr)(t,n,$),o=!0},p(t,o){const s={};if(16&o&&(s.clientManager=t[4]),$!==($=t[0])){if(e){(0,r.dvw)();const t=e;(0,r.etI)(t.$$.fragment,1,0,(()=>{(0,r.vpE)(t,1)})),(0,r.gbL)()}$?(e=new $(c(t)),(0,r.YCL)(e.$$.fragment),(0,r.Ui)(e.$$.fragment,1),(0,r.yef)(e,n.parentNode,n)):e=null}else $&&e.$set(s)},i(t){o||(e&&(0,r.Ui)(e.$$.fragment,t),o=!0)},o(t){e&&(0,r.etI)(e.$$.fragment,t),o=!1},d(t){t&&(0,r.ogt)(n),e&&(0,r.vpE)(e,t)}}}function ki(t){let e,n,o,$,c,s=t[2]&&Ti(t);const i=[Di,Ei],a=[];function f(t,e){return t[0]?0:t[2]?1:-1}return~(n=f(t))&&(o=a[n]=i[n](t)),{c(){s&&s.c(),e=(0,r.DhX)(),o&&o.c(),$=(0,r.cSb)()},m(t,o){s&&s.m(t,o),(0,r.$Tr)(t,e,o),~n&&a[n].m(t,o),(0,r.$Tr)(t,$,o),c=!0},p(t,c){t[2]?s?(s.p(t,c),4&c&&(0,r.Ui)(s,1)):(s=Ti(t),s.c(),(0,r.Ui)(s,1),s.m(e.parentNode,e)):s&&((0,r.dvw)(),(0,r.etI)(s,1,1,(()=>{s=null})),(0,r.gbL)());let l=n;n=f(t),n===l?~n&&a[n].p(t,c):(o&&((0,r.dvw)(),(0,r.etI)(a[l],1,1,(()=>{a[l]=null})),(0,r.gbL)()),~n?(o=a[n],o?o.p(t,c):(o=a[n]=i[n](t),o.c()),(0,r.Ui)(o,1),o.m($.parentNode,$)):o=null)},i(t){c||((0,r.Ui)(s),(0,r.Ui)(o),c=!0)},o(t){(0,r.etI)(s),(0,r.etI)(o),c=!1},d(t){s&&s.d(t),t&&(0,r.ogt)(e),~n&&a[n].d(t),t&&(0,r.ogt)($)}}}function Xi(t){let e,n,o,$,c,s,i,a,f,l,p,d,u,m,g,y;return e=new M.Ix({props:{placement:"top-right",theme:"light",duration:0,$$slots:{default:[oi,({data:t})=>({29:t}),({data:t})=>t?536870912:0]},$$scope:{ctx:t}}}),c=new Jt.ZP({props:{$$slots:{default:[Ii]},$$scope:{ctx:t}}}),i=new Jt.Lk({props:{class:"app-content",$$slots:{default:[ki]},$$scope:{ctx:t}}}),f=new je({props:{}}),t[23](f),{c(){(0,r.YCL)(e.$$.fragment),n=(0,r.DhX)(),o=(0,r.bGB)("div"),$=(0,r.bGB)("div"),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),(0,r.YCL)(i.$$.fragment),a=(0,r.DhX)(),(0,r.YCL)(f.$$.fragment),l=(0,r.DhX)(),p=(0,r.bGB)("link"),d=(0,r.DhX)(),u=(0,r.bGB)("link"),m=(0,r.DhX)(),g=(0,r.bGB)("link"),(0,r.Ljt)($,"class","drawer-container svelte-1eb1gjl"),(0,r.Ljt)(o,"class","app svelte-1eb1gjl"),(0,r.Ljt)(p,"rel","stylesheet"),(0,r.Ljt)(p,"href","https://fonts.googleapis.com/icon?family=Material+Icons+Round"),(0,r.Ljt)(u,"rel","stylesheet"),(0,r.Ljt)(u,"href","https://fonts.googleapis.com/css2?family=Inter&display=swap"),(0,r.Ljt)(g,"rel","stylesheet"),(0,r.Ljt)(g,"href","https://cdn.jsdelivr.net/npm/svelte-material-ui@4.0.0/bare.min.css")},m(t,v){(0,r.yef)(e,t,v),(0,r.$Tr)(t,n,v),(0,r.$Tr)(t,o,v),(0,r.R3I)(o,$),(0,r.yef)(c,$,null),(0,r.R3I)($,s),(0,r.yef)(i,$,null),(0,r.$Tr)(t,a,v),(0,r.yef)(f,t,v),(0,r.$Tr)(t,l,v),(0,r.$Tr)(t,p,v),(0,r.$Tr)(t,d,v),(0,r.$Tr)(t,u,v),(0,r.$Tr)(t,m,v),(0,r.$Tr)(t,g,v),y=!0},p(t,[n]){const r={};1610612736&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const o={};1073741852&n&&(o.$$scope={dirty:n,ctx:t}),c.$set(o);const $={};1073742071&n&&($.$$scope={dirty:n,ctx:t}),i.$set($),f.$set({})},i(t){y||((0,r.Ui)(e.$$.fragment,t),(0,r.Ui)(c.$$.fragment,t),(0,r.Ui)(i.$$.fragment,t),(0,r.Ui)(f.$$.fragment,t),y=!0)},o(t){(0,r.etI)(e.$$.fragment,t),(0,r.etI)(c.$$.fragment,t),(0,r.etI)(i.$$.fragment,t),(0,r.etI)(f.$$.fragment,t),y=!1},d($){(0,r.vpE)(e,$),$&&(0,r.ogt)(n),$&&(0,r.ogt)(o),(0,r.vpE)(c),(0,r.vpE)(i),$&&(0,r.ogt)(a),t[23](null),(0,r.vpE)(f,$),$&&(0,r.ogt)(l),$&&(0,r.ogt)(p),$&&(0,r.ogt)(d),$&&(0,r.ogt)(u),$&&(0,r.ogt)(m),$&&(0,r.ogt)(g)}}}function Wi(t,e,n){let o;E().extend(ri()),E().locale("en");let c,s="",i=!1;async function a(t){d?(c.setOpen(!0),K(t)):async function(){const t=await g.open("New workspace","Untitled workspace","Workspace name","Create",P(void 0,y));t&&await z((async()=>{await f.files.addFolder(t)}),`Failed to create workspace ${t}`)}()}const f=new x;async function l(t){i?$().redirect("/home"):f.hasAuthData&&"/reconnect"!==$().current?(f.nextRoute||n(4,f.nextRoute=$().current,f),$().replace("/reconnect")):t()}function p(t,e){return(r,o)=>{i?e?e(r,o):o():($().redirect("/"),n(4,f.nextRoute="function"==typeof t?t(r):t,f),o())}}let d;function u(t){n(5,d=null==t?void 0:t.directoryId),n(0,o=void 0)}f.authedState.onUpdate((t=>{n(2,i=t),t?(v(),f.on("modified",v)):$().redirect("/")})),$()("/",(async()=>{await l((()=>$().redirect("/signin")))}));let m,g,y=[];async function v(){n(6,y=G(await f.files.getChildren()))}function h(){c.setOpen(!1),m.newFolder()}function w(){c.setOpen(!1),m.newFile()}function L(){c.setOpen(!1),m.fileUpload()}async function I(){n(4,f.nextRoute=void 0,f),n(1,s=""),await f.logout(),$().redirect("/signin")}return $()("/signin",(async(t,e)=>{await l((()=>e()))}),(()=>n(0,o=St))),$()("/register",(async(t,e)=>{await l((()=>e()))}),(()=>n(0,o=ei))),$()("/reconnect",(async(t,e)=>{await l((()=>e()))}),(()=>n(0,o=Ht))),$()("/shared",p("/shared"),(()=>n(0,o=yt))),$()("/settings",p("/settings"),(()=>n(0,o=Z))),$()("/home",p("/home"),(()=>u(void 0))),$()("/directory/:directoryId",p((t=>`/directory/${t.params.directoryId}`)),(t=>u(t.params))),$()("/*",(()=>n(0,o=U))),$().base("#!"),$()({hashbang:!0}),$().start(),[o,s,i,c,f,d,y,m,g,a,h,w,L,I,t=>a(t),()=>h(),()=>w(),()=>L(),function(t){r.VnY[t?"unshift":"push"]((()=>{c=t,n(3,c)}))},()=>I(),function(t){s=t,n(1,s)},()=>$().show("/settings"),function(t){r.VnY[t?"unshift":"push"]((()=>{m=t,n(7,m)}))},function(t){r.VnY[t?"unshift":"push"]((()=>{g=t,n(8,g)}))}]}class Bi extends r.f_C{constructor(t){super(),(0,r.S1n)(this,t,Wi,Xi,r.N8,{})}}new Bi({target:document.body})},46601:()=>{},89214:()=>{},71922:()=>{},2363:()=>{},31069:()=>{},83718:()=>{},24654:()=>{},52361:()=>{},94616:()=>{},80420:()=>{},71640:()=>{},33609:()=>{},64717:()=>{},55024:()=>{}},t=>{t.O(0,[955,296,417],(()=>(27401,t(t.s=27401)))),t.O()}]);