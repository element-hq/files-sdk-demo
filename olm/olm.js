/*! For license information please see olm.js.LICENSE.txt */
var Olm=function(){var n,_,t,e,o={},r=(t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(t=t||__filename),function(e){var r,l,i,s;if(e=e||{},r||(r=void 0!==e?e:{}),r.ready=new Promise((function(n,_){l=n,i=_})),"undefined"!=typeof window)s=function(n){window.crypto.getRandomValues(n)};else{if(!module.exports)throw Error("Cannot find global to attach library to");var u=require("crypto");s=function(n){var _=u.randomBytes(n.length);n.set(_)},process=global.process}if("undefined"!=typeof OLM_OPTIONS)for(var a in OLM_OPTIONS)OLM_OPTIONS.hasOwnProperty(a)&&(r[a]=OLM_OPTIONS[a]);r.onRuntimeInitialized=function(){gn=r._olm_error(),o.PRIVATE_KEY_LENGTH=r._olm_pk_private_key_length(),n&&n()},r.onAbort=function(n){_&&_(n)};var p,c={};for(p in r)r.hasOwnProperty(p)&&(c[p]=r[p]);var m,y,f,h,g,b="object"==typeof window,d="function"==typeof importScripts,k="";"object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node?(k=d?require("path").dirname(k)+"/":__dirname+"/",m=function(n,_){return h||(h=require("fs")),g||(g=require("path")),n=g.normalize(n),h.readFileSync(n,_?null:"utf8")},f=function(n){return(n=m(n,!0)).buffer||(n=new Uint8Array(n)),n.buffer||V("Assertion failed: undefined"),n},y=function(n,_,t){h||(h=require("fs")),g||(g=require("path")),n=g.normalize(n),h.readFile(n,(function(n,e){n?t(n):_(e.buffer)}))},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",(function(n){throw n})),process.on("unhandledRejection",V),r.inspect=function(){return"[Emscripten Module object]"}):(b||d)&&(d?k=self.location.href:"undefined"!=typeof document&&document.currentScript&&(k=document.currentScript.src),t&&(k=t),k=0!==k.indexOf("blob:")?k.substr(0,k.lastIndexOf("/")+1):"",m=function(n){var _=new XMLHttpRequest;return _.open("GET",n,!1),_.send(null),_.responseText},d&&(f=function(n){var _=new XMLHttpRequest;return _.open("GET",n,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),y=function(n,_,t){var e=new XMLHttpRequest;e.open("GET",n,!0),e.responseType="arraybuffer",e.onload=function(){200==e.status||0==e.status&&e.response?_(e.response):t()},e.onerror=t,e.send(null)}),r.print||console.log.bind(console);var v,$=r.printErr||console.warn.bind(console);for(p in c)c.hasOwnProperty(p)&&(r[p]=c[p]);function w(n){var _="i8";switch("*"===_.charAt(_.length-1)&&(_="i32"),_){case"i1":case"i8":P[n>>0]=0;break;case"i16":I[n>>1]=0;break;case"i32":M[n>>2]=0;break;case"i64":D=[0,1<=+Math.abs(0)?~~+Math.ceil(0)>>>0:0],M[n>>2]=D[0],M[n+4>>2]=D[1];break;case"float":L[n>>2]=0;break;case"double":H[n>>3]=0;break;default:V("invalid type for setValue: "+_)}}function A(n,_){switch("*"===(_=_||"i8").charAt(_.length-1)&&(_="i32"),_){case"i1":case"i8":return P[n>>0];case"i16":return I[n>>1];case"i32":case"i64":return M[n>>2];case"float":return L[n>>2];case"double":return H[n>>3];default:V("invalid type for getValue: "+_)}return null}c=null,r.wasmBinary&&(v=r.wasmBinary),r.noExitRuntime,"object"!=typeof WebAssembly&&V("no native wasm support detected");var x=!1,E="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function O(n,_){if(n){var t=U,e=n+_;for(_=n;t[_]&&!(_>=e);)++_;if(16<_-n&&t.subarray&&E)n=E.decode(t.subarray(n,_));else{for(e="";n<_;){var o=t[n++];if(128&o){var r=63&t[n++];if(192==(224&o))e+=String.fromCharCode((31&o)<<6|r);else{var l=63&t[n++];65536>(o=224==(240&o)?(15&o)<<12|r<<6|l:(7&o)<<18|r<<12|l<<6|63&t[n++])?e+=String.fromCharCode(o):(o-=65536,e+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else e+=String.fromCharCode(o)}n=e}}else n="";return n}function z(n,_,t,e){if(!(0<e))return 0;var o=t;e=t+e-1;for(var r=0;r<n.length;++r){var l=n.charCodeAt(r);if(55296<=l&&57343>=l&&(l=65536+((1023&l)<<10)|1023&n.charCodeAt(++r)),127>=l){if(t>=e)break;_[t++]=l}else{if(2047>=l){if(t+1>=e)break;_[t++]=192|l>>6}else{if(65535>=l){if(t+2>=e)break;_[t++]=224|l>>12}else{if(t+3>=e)break;_[t++]=240|l>>18,_[t++]=128|l>>12&63}_[t++]=128|l>>6&63}_[t++]=128|63&l}}return _[t]=0,t-o}function R(n){for(var _=0,t=0;t<n.length;++t){var e=n.charCodeAt(t);55296<=e&&57343>=e&&(e=65536+((1023&e)<<10)|1023&n.charCodeAt(++t)),127>=e?++_:_=2047>=e?_+2:65535>=e?_+3:_+4}return _}function S(n,_){for(var t=0;t<n.length;++t)P[_++>>0]=n.charCodeAt(t)}var P,U,I,M,L,H,T,C=[],W=[],j=[];function q(){var n=r.preRun.shift();C.unshift(n)}var F,D,N=0,B=null,G=null;function V(n){throw r.onAbort&&r.onAbort(n),$(n),x=!0,n=new WebAssembly.RuntimeError("abort("+n+"). Build with -s ASSERTIONS=1 for more info."),i(n),n}function X(){return F.startsWith("data:application/octet-stream;base64,")}if(r.preloadedImages={},r.preloadedAudios={},F="olm.wasm",!X()){var K=F;F=r.locateFile?r.locateFile(K,k):k+K}function Y(){var n=F;try{if(n==F&&v)return new Uint8Array(v);if(f)return f(n);throw"both async and sync fetching of the wasm failed"}catch(n){V(n)}}function J(n){for(;0<n.length;){var _=n.shift();if("function"==typeof _)_(r);else{var t=_.cc;"number"==typeof t?void 0===_.bc?T.get(t)():T.get(t)(_.bc):t(void 0===_.bc?null:_.bc)}}}var Q={a:function(n,_,t){U.copyWithin(n,_,_+t)},b:function(){V("OOM")}};!function(){function n(n){r.asm=n.exports,n=r.asm.c.buffer,r.HEAP8=P=new Int8Array(n),r.HEAP16=I=new Int16Array(n),r.HEAP32=M=new Int32Array(n),r.HEAPU8=U=new Uint8Array(n),r.HEAPU16=new Uint16Array(n),r.HEAPU32=new Uint32Array(n),r.HEAPF32=L=new Float32Array(n),r.HEAPF64=H=new Float64Array(n),T=r.asm.e,W.unshift(r.asm.d),N--,r.monitorRunDependencies&&r.monitorRunDependencies(N),0==N&&(null!==B&&(clearInterval(B),B=null),G&&(n=G,G=null,n()))}function _(_){n(_.instance)}function t(n){return function(){if(!v&&(b||d)){if("function"==typeof fetch&&!F.startsWith("file://"))return fetch(F,{credentials:"same-origin"}).then((function(n){if(!n.ok)throw"failed to load wasm binary file at '"+F+"'";return n.arrayBuffer()})).catch((function(){return Y()}));if(y)return new Promise((function(n,_){y(F,(function(_){n(new Uint8Array(_))}),_)}))}return Promise.resolve().then((function(){return Y()}))}().then((function(n){return WebAssembly.instantiate(n,e)})).then((function(n){return n})).then(n,(function(n){$("failed to asynchronously prepare wasm: "+n),V(n)}))}var e={a:Q};if(N++,r.monitorRunDependencies&&r.monitorRunDependencies(N),r.instantiateWasm)try{return r.instantiateWasm(e,n)}catch(n){return $("Module.instantiateWasm callback failed with error: "+n),!1}(v||"function"!=typeof WebAssembly.instantiateStreaming||X()||F.startsWith("file://")||"function"!=typeof fetch?t(_):fetch(F,{credentials:"same-origin"}).then((function(n){return WebAssembly.instantiateStreaming(n,e).then(_,(function(n){return $("wasm streaming compile failed: "+n),$("falling back to ArrayBuffer instantiation"),t(_)}))}))).catch(i)}(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.d).apply(null,arguments)},r._olm_pk_encryption_last_error=function(){return(r._olm_pk_encryption_last_error=r.asm.f).apply(null,arguments)},r.__olm_error_to_string=function(){return(r.__olm_error_to_string=r.asm.g).apply(null,arguments)},r._olm_pk_encryption_last_error_code=function(){return(r._olm_pk_encryption_last_error_code=r.asm.h).apply(null,arguments)},r._olm_pk_encryption_size=function(){return(r._olm_pk_encryption_size=r.asm.i).apply(null,arguments)},r._olm_pk_encryption=function(){return(r._olm_pk_encryption=r.asm.j).apply(null,arguments)},r._olm_clear_pk_encryption=function(){return(r._olm_clear_pk_encryption=r.asm.k).apply(null,arguments)},r._olm_pk_encryption_set_recipient_key=function(){return(r._olm_pk_encryption_set_recipient_key=r.asm.l).apply(null,arguments)},r._olm_pk_key_length=function(){return(r._olm_pk_key_length=r.asm.m).apply(null,arguments)},r._olm_pk_ciphertext_length=function(){return(r._olm_pk_ciphertext_length=r.asm.n).apply(null,arguments)},r._olm_pk_mac_length=function(){return(r._olm_pk_mac_length=r.asm.o).apply(null,arguments)},r._olm_pk_encrypt_random_length=function(){return(r._olm_pk_encrypt_random_length=r.asm.p).apply(null,arguments)},r._olm_pk_encrypt=function(){return(r._olm_pk_encrypt=r.asm.q).apply(null,arguments)},r._olm_pk_decryption_last_error=function(){return(r._olm_pk_decryption_last_error=r.asm.r).apply(null,arguments)},r._olm_pk_decryption_last_error_code=function(){return(r._olm_pk_decryption_last_error_code=r.asm.s).apply(null,arguments)},r._olm_pk_decryption_size=function(){return(r._olm_pk_decryption_size=r.asm.t).apply(null,arguments)},r._olm_pk_decryption=function(){return(r._olm_pk_decryption=r.asm.u).apply(null,arguments)},r._olm_clear_pk_decryption=function(){return(r._olm_clear_pk_decryption=r.asm.v).apply(null,arguments)},r._olm_pk_private_key_length=function(){return(r._olm_pk_private_key_length=r.asm.w).apply(null,arguments)},r._olm_pk_generate_key_random_length=function(){return(r._olm_pk_generate_key_random_length=r.asm.x).apply(null,arguments)},r._olm_pk_key_from_private=function(){return(r._olm_pk_key_from_private=r.asm.y).apply(null,arguments)},r._olm_pk_generate_key=function(){return(r._olm_pk_generate_key=r.asm.z).apply(null,arguments)},r._olm_pickle_pk_decryption_length=function(){return(r._olm_pickle_pk_decryption_length=r.asm.A).apply(null,arguments)},r._olm_pickle_pk_decryption=function(){return(r._olm_pickle_pk_decryption=r.asm.B).apply(null,arguments)},r._olm_unpickle_pk_decryption=function(){return(r._olm_unpickle_pk_decryption=r.asm.C).apply(null,arguments)},r._olm_pk_max_plaintext_length=function(){return(r._olm_pk_max_plaintext_length=r.asm.D).apply(null,arguments)},r._olm_pk_decrypt=function(){return(r._olm_pk_decrypt=r.asm.E).apply(null,arguments)},r._olm_pk_get_private_key=function(){return(r._olm_pk_get_private_key=r.asm.F).apply(null,arguments)},r._olm_pk_signing_size=function(){return(r._olm_pk_signing_size=r.asm.G).apply(null,arguments)},r._olm_pk_signing=function(){return(r._olm_pk_signing=r.asm.H).apply(null,arguments)},r._olm_pk_signing_last_error=function(){return(r._olm_pk_signing_last_error=r.asm.I).apply(null,arguments)},r._olm_pk_signing_last_error_code=function(){return(r._olm_pk_signing_last_error_code=r.asm.J).apply(null,arguments)},r._olm_clear_pk_signing=function(){return(r._olm_clear_pk_signing=r.asm.K).apply(null,arguments)},r._olm_pk_signing_seed_length=function(){return(r._olm_pk_signing_seed_length=r.asm.L).apply(null,arguments)},r._olm_pk_signing_public_key_length=function(){return(r._olm_pk_signing_public_key_length=r.asm.M).apply(null,arguments)},r._olm_pk_signing_key_from_seed=function(){return(r._olm_pk_signing_key_from_seed=r.asm.N).apply(null,arguments)},r._olm_pk_signature_length=function(){return(r._olm_pk_signature_length=r.asm.O).apply(null,arguments)},r._olm_pk_sign=function(){return(r._olm_pk_sign=r.asm.P).apply(null,arguments)},r._olm_get_library_version=function(){return(r._olm_get_library_version=r.asm.Q).apply(null,arguments)},r._olm_error=function(){return(r._olm_error=r.asm.R).apply(null,arguments)},r._olm_account_last_error=function(){return(r._olm_account_last_error=r.asm.S).apply(null,arguments)},r._olm_account_last_error_code=function(){return(r._olm_account_last_error_code=r.asm.T).apply(null,arguments)},r._olm_session_last_error=function(){return(r._olm_session_last_error=r.asm.U).apply(null,arguments)},r._olm_session_last_error_code=function(){return(r._olm_session_last_error_code=r.asm.V).apply(null,arguments)},r._olm_utility_last_error=function(){return(r._olm_utility_last_error=r.asm.W).apply(null,arguments)},r._olm_utility_last_error_code=function(){return(r._olm_utility_last_error_code=r.asm.X).apply(null,arguments)},r._olm_account_size=function(){return(r._olm_account_size=r.asm.Y).apply(null,arguments)},r._olm_session_size=function(){return(r._olm_session_size=r.asm.Z).apply(null,arguments)},r._olm_utility_size=function(){return(r._olm_utility_size=r.asm._).apply(null,arguments)},r._olm_account=function(){return(r._olm_account=r.asm.$).apply(null,arguments)},r._olm_session=function(){return(r._olm_session=r.asm.aa).apply(null,arguments)},r._olm_utility=function(){return(r._olm_utility=r.asm.ba).apply(null,arguments)},r._olm_clear_account=function(){return(r._olm_clear_account=r.asm.ca).apply(null,arguments)},r._olm_clear_session=function(){return(r._olm_clear_session=r.asm.da).apply(null,arguments)},r._olm_clear_utility=function(){return(r._olm_clear_utility=r.asm.ea).apply(null,arguments)},r._olm_pickle_account_length=function(){return(r._olm_pickle_account_length=r.asm.fa).apply(null,arguments)},r._olm_pickle_session_length=function(){return(r._olm_pickle_session_length=r.asm.ga).apply(null,arguments)},r._olm_pickle_account=function(){return(r._olm_pickle_account=r.asm.ha).apply(null,arguments)},r._olm_pickle_session=function(){return(r._olm_pickle_session=r.asm.ia).apply(null,arguments)},r._olm_unpickle_account=function(){return(r._olm_unpickle_account=r.asm.ja).apply(null,arguments)},r._olm_unpickle_session=function(){return(r._olm_unpickle_session=r.asm.ka).apply(null,arguments)},r._olm_create_account_random_length=function(){return(r._olm_create_account_random_length=r.asm.la).apply(null,arguments)},r._olm_create_account=function(){return(r._olm_create_account=r.asm.ma).apply(null,arguments)},r._olm_account_identity_keys_length=function(){return(r._olm_account_identity_keys_length=r.asm.na).apply(null,arguments)},r._olm_account_identity_keys=function(){return(r._olm_account_identity_keys=r.asm.oa).apply(null,arguments)},r._olm_account_signature_length=function(){return(r._olm_account_signature_length=r.asm.pa).apply(null,arguments)},r._olm_account_sign=function(){return(r._olm_account_sign=r.asm.qa).apply(null,arguments)},r._olm_account_one_time_keys_length=function(){return(r._olm_account_one_time_keys_length=r.asm.ra).apply(null,arguments)},r._olm_account_one_time_keys=function(){return(r._olm_account_one_time_keys=r.asm.sa).apply(null,arguments)},r._olm_account_mark_keys_as_published=function(){return(r._olm_account_mark_keys_as_published=r.asm.ta).apply(null,arguments)},r._olm_account_max_number_of_one_time_keys=function(){return(r._olm_account_max_number_of_one_time_keys=r.asm.ua).apply(null,arguments)},r._olm_account_generate_one_time_keys_random_length=function(){return(r._olm_account_generate_one_time_keys_random_length=r.asm.va).apply(null,arguments)},r._olm_account_generate_one_time_keys=function(){return(r._olm_account_generate_one_time_keys=r.asm.wa).apply(null,arguments)},r._olm_account_generate_fallback_key_random_length=function(){return(r._olm_account_generate_fallback_key_random_length=r.asm.xa).apply(null,arguments)},r._olm_account_generate_fallback_key=function(){return(r._olm_account_generate_fallback_key=r.asm.ya).apply(null,arguments)},r._olm_account_fallback_key_length=function(){return(r._olm_account_fallback_key_length=r.asm.za).apply(null,arguments)},r._olm_account_fallback_key=function(){return(r._olm_account_fallback_key=r.asm.Aa).apply(null,arguments)},r._olm_account_unpublished_fallback_key_length=function(){return(r._olm_account_unpublished_fallback_key_length=r.asm.Ba).apply(null,arguments)},r._olm_account_unpublished_fallback_key=function(){return(r._olm_account_unpublished_fallback_key=r.asm.Ca).apply(null,arguments)},r._olm_account_forget_old_fallback_key=function(){return(r._olm_account_forget_old_fallback_key=r.asm.Da).apply(null,arguments)},r._olm_create_outbound_session_random_length=function(){return(r._olm_create_outbound_session_random_length=r.asm.Ea).apply(null,arguments)},r._olm_create_outbound_session=function(){return(r._olm_create_outbound_session=r.asm.Fa).apply(null,arguments)},r._olm_create_inbound_session=function(){return(r._olm_create_inbound_session=r.asm.Ga).apply(null,arguments)},r._olm_create_inbound_session_from=function(){return(r._olm_create_inbound_session_from=r.asm.Ha).apply(null,arguments)},r._olm_session_id_length=function(){return(r._olm_session_id_length=r.asm.Ia).apply(null,arguments)},r._olm_session_id=function(){return(r._olm_session_id=r.asm.Ja).apply(null,arguments)},r._olm_session_has_received_message=function(){return(r._olm_session_has_received_message=r.asm.Ka).apply(null,arguments)},r._olm_session_describe=function(){return(r._olm_session_describe=r.asm.La).apply(null,arguments)},r._olm_matches_inbound_session=function(){return(r._olm_matches_inbound_session=r.asm.Ma).apply(null,arguments)},r._olm_matches_inbound_session_from=function(){return(r._olm_matches_inbound_session_from=r.asm.Na).apply(null,arguments)},r._olm_remove_one_time_keys=function(){return(r._olm_remove_one_time_keys=r.asm.Oa).apply(null,arguments)},r._olm_encrypt_message_type=function(){return(r._olm_encrypt_message_type=r.asm.Pa).apply(null,arguments)},r._olm_encrypt_random_length=function(){return(r._olm_encrypt_random_length=r.asm.Qa).apply(null,arguments)},r._olm_encrypt_message_length=function(){return(r._olm_encrypt_message_length=r.asm.Ra).apply(null,arguments)},r._olm_encrypt=function(){return(r._olm_encrypt=r.asm.Sa).apply(null,arguments)},r._olm_decrypt_max_plaintext_length=function(){return(r._olm_decrypt_max_plaintext_length=r.asm.Ta).apply(null,arguments)},r._olm_decrypt=function(){return(r._olm_decrypt=r.asm.Ua).apply(null,arguments)},r._olm_sha256_length=function(){return(r._olm_sha256_length=r.asm.Va).apply(null,arguments)},r._olm_sha256=function(){return(r._olm_sha256=r.asm.Wa).apply(null,arguments)},r._olm_ed25519_verify=function(){return(r._olm_ed25519_verify=r.asm.Xa).apply(null,arguments)},r._olm_inbound_group_session_size=function(){return(r._olm_inbound_group_session_size=r.asm.Ya).apply(null,arguments)},r._olm_inbound_group_session=function(){return(r._olm_inbound_group_session=r.asm.Za).apply(null,arguments)},r._olm_clear_inbound_group_session=function(){return(r._olm_clear_inbound_group_session=r.asm._a).apply(null,arguments)},r._olm_inbound_group_session_last_error=function(){return(r._olm_inbound_group_session_last_error=r.asm.$a).apply(null,arguments)},r._olm_inbound_group_session_last_error_code=function(){return(r._olm_inbound_group_session_last_error_code=r.asm.ab).apply(null,arguments)},r._olm_init_inbound_group_session=function(){return(r._olm_init_inbound_group_session=r.asm.bb).apply(null,arguments)},r._olm_import_inbound_group_session=function(){return(r._olm_import_inbound_group_session=r.asm.cb).apply(null,arguments)},r._olm_pickle_inbound_group_session_length=function(){return(r._olm_pickle_inbound_group_session_length=r.asm.db).apply(null,arguments)},r._olm_pickle_inbound_group_session=function(){return(r._olm_pickle_inbound_group_session=r.asm.eb).apply(null,arguments)},r._olm_unpickle_inbound_group_session=function(){return(r._olm_unpickle_inbound_group_session=r.asm.fb).apply(null,arguments)},r._olm_group_decrypt_max_plaintext_length=function(){return(r._olm_group_decrypt_max_plaintext_length=r.asm.gb).apply(null,arguments)},r._olm_group_decrypt=function(){return(r._olm_group_decrypt=r.asm.hb).apply(null,arguments)},r._olm_inbound_group_session_id_length=function(){return(r._olm_inbound_group_session_id_length=r.asm.ib).apply(null,arguments)},r._olm_inbound_group_session_id=function(){return(r._olm_inbound_group_session_id=r.asm.jb).apply(null,arguments)},r._olm_inbound_group_session_first_known_index=function(){return(r._olm_inbound_group_session_first_known_index=r.asm.kb).apply(null,arguments)},r._olm_inbound_group_session_is_verified=function(){return(r._olm_inbound_group_session_is_verified=r.asm.lb).apply(null,arguments)},r._olm_export_inbound_group_session_length=function(){return(r._olm_export_inbound_group_session_length=r.asm.mb).apply(null,arguments)},r._olm_export_inbound_group_session=function(){return(r._olm_export_inbound_group_session=r.asm.nb).apply(null,arguments)},r._olm_sas_last_error=function(){return(r._olm_sas_last_error=r.asm.ob).apply(null,arguments)},r._olm_sas_last_error_code=function(){return(r._olm_sas_last_error_code=r.asm.pb).apply(null,arguments)},r._olm_sas_size=function(){return(r._olm_sas_size=r.asm.qb).apply(null,arguments)},r._olm_sas=function(){return(r._olm_sas=r.asm.rb).apply(null,arguments)},r._olm_clear_sas=function(){return(r._olm_clear_sas=r.asm.sb).apply(null,arguments)},r._olm_create_sas_random_length=function(){return(r._olm_create_sas_random_length=r.asm.tb).apply(null,arguments)},r._olm_create_sas=function(){return(r._olm_create_sas=r.asm.ub).apply(null,arguments)},r._olm_sas_pubkey_length=function(){return(r._olm_sas_pubkey_length=r.asm.vb).apply(null,arguments)},r._olm_sas_get_pubkey=function(){return(r._olm_sas_get_pubkey=r.asm.wb).apply(null,arguments)},r._olm_sas_set_their_key=function(){return(r._olm_sas_set_their_key=r.asm.xb).apply(null,arguments)},r._olm_sas_is_their_key_set=function(){return(r._olm_sas_is_their_key_set=r.asm.yb).apply(null,arguments)},r._olm_sas_generate_bytes=function(){return(r._olm_sas_generate_bytes=r.asm.zb).apply(null,arguments)},r._olm_sas_mac_length=function(){return(r._olm_sas_mac_length=r.asm.Ab).apply(null,arguments)},r._olm_sas_calculate_mac_fixed_base64=function(){return(r._olm_sas_calculate_mac_fixed_base64=r.asm.Bb).apply(null,arguments)},r._olm_sas_calculate_mac=function(){return(r._olm_sas_calculate_mac=r.asm.Cb).apply(null,arguments)},r._olm_sas_calculate_mac_long_kdf=function(){return(r._olm_sas_calculate_mac_long_kdf=r.asm.Db).apply(null,arguments)},r._olm_outbound_group_session_size=function(){return(r._olm_outbound_group_session_size=r.asm.Eb).apply(null,arguments)},r._olm_outbound_group_session=function(){return(r._olm_outbound_group_session=r.asm.Fb).apply(null,arguments)},r._olm_clear_outbound_group_session=function(){return(r._olm_clear_outbound_group_session=r.asm.Gb).apply(null,arguments)},r._olm_outbound_group_session_last_error=function(){return(r._olm_outbound_group_session_last_error=r.asm.Hb).apply(null,arguments)},r._olm_outbound_group_session_last_error_code=function(){return(r._olm_outbound_group_session_last_error_code=r.asm.Ib).apply(null,arguments)},r._olm_pickle_outbound_group_session_length=function(){return(r._olm_pickle_outbound_group_session_length=r.asm.Jb).apply(null,arguments)},r._olm_pickle_outbound_group_session=function(){return(r._olm_pickle_outbound_group_session=r.asm.Kb).apply(null,arguments)},r._olm_unpickle_outbound_group_session=function(){return(r._olm_unpickle_outbound_group_session=r.asm.Lb).apply(null,arguments)},r._olm_init_outbound_group_session_random_length=function(){return(r._olm_init_outbound_group_session_random_length=r.asm.Mb).apply(null,arguments)},r._olm_init_outbound_group_session=function(){return(r._olm_init_outbound_group_session=r.asm.Nb).apply(null,arguments)},r._olm_group_encrypt_message_length=function(){return(r._olm_group_encrypt_message_length=r.asm.Ob).apply(null,arguments)},r._olm_group_encrypt=function(){return(r._olm_group_encrypt=r.asm.Pb).apply(null,arguments)},r._olm_outbound_group_session_id_length=function(){return(r._olm_outbound_group_session_id_length=r.asm.Qb).apply(null,arguments)},r._olm_outbound_group_session_id=function(){return(r._olm_outbound_group_session_id=r.asm.Rb).apply(null,arguments)},r._olm_outbound_group_session_message_index=function(){return(r._olm_outbound_group_session_message_index=r.asm.Sb).apply(null,arguments)},r._olm_outbound_group_session_key_length=function(){return(r._olm_outbound_group_session_key_length=r.asm.Tb).apply(null,arguments)},r._olm_outbound_group_session_key=function(){return(r._olm_outbound_group_session_key=r.asm.Ub).apply(null,arguments)},r._malloc=function(){return(r._malloc=r.asm.Vb).apply(null,arguments)},r._free=function(){return(r._free=r.asm.Wb).apply(null,arguments)};var Z,nn=r.stackSave=function(){return(nn=r.stackSave=r.asm.Xb).apply(null,arguments)},_n=r.stackRestore=function(){return(_n=r.stackRestore=r.asm.Yb).apply(null,arguments)},tn=r.stackAlloc=function(){return(tn=r.stackAlloc=r.asm.Zb).apply(null,arguments)};function en(){function n(){if(!Z&&(Z=!0,r.calledRun=!0,!x)){if(J(W),l(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;){var n=r.postRun.shift();j.unshift(n)}J(j)}}if(!(0<N)){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)q();J(C),0<N||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),n()}),1)):n())}}if(r.ALLOC_STACK=1,G=function n(){Z||en(),Z||(G=n)},r.run=en,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();function on(){var n=r._olm_outbound_group_session_size();this.ac=bn(n),this.$b=r._olm_outbound_group_session(this.ac)}function rn(n){return function(){var _=n.apply(this,arguments);if(_===gn)throw _=O(r._olm_outbound_group_session_last_error(arguments[0])),Error("OLM."+_);return _}}function ln(){var n=r._olm_inbound_group_session_size();this.ac=bn(n),this.$b=r._olm_inbound_group_session(this.ac)}function sn(n){return function(){var _=n.apply(this,arguments);if(_===gn)throw _=O(r._olm_inbound_group_session_last_error(arguments[0])),Error("OLM."+_);return _}}function un(){var n=r._olm_pk_encryption_size();this.ac=bn(n),this.$b=r._olm_pk_encryption(this.ac)}function an(n){return function(){var _=n.apply(this,arguments);if(_===gn)throw _=O(r._olm_pk_encryption_last_error(arguments[0])),Error("OLM."+_);return _}}function pn(){var n=r._olm_pk_decryption_size();this.ac=bn(n),this.$b=r._olm_pk_decryption(this.ac)}function cn(n){return function(){var _=n.apply(this,arguments);if(_===gn)throw _=O(r._olm_pk_decryption_last_error(arguments[0])),Error("OLM."+_);return _}}function mn(){var n=r._olm_pk_signing_size();this.ac=bn(n),this.$b=r._olm_pk_signing(this.ac)}function yn(n){return function(){var _=n.apply(this,arguments);if(_===gn)throw _=O(r._olm_pk_signing_last_error(arguments[0])),Error("OLM."+_);return _}}function fn(){var n=r._olm_sas_size(),_=r._olm_create_sas_random_length(),t=kn(_,s);this.ac=bn(n),this.$b=r._olm_sas(this.ac),r._olm_create_sas(this.$b,t,_),An(t,_)}function hn(n){return function(){var _=n.apply(this,arguments);if(_===gn)throw _=O(r._olm_sas_last_error(arguments[0])),Error("OLM."+_);return _}}en(),on.prototype.free=function(){r._olm_clear_outbound_group_session(this.$b),dn(this.$b)},on.prototype.pickle=wn((function(n){n=$n(n);var _=rn(r._olm_pickle_outbound_group_session_length)(this.$b),t=vn(n),e=vn(_+1);try{rn(r._olm_pickle_outbound_group_session)(this.$b,t,n.length,e,_)}finally{for(An(t,n.length),t=0;t<n.length;t++)n[t]=0}return O(e,_)})),on.prototype.unpickle=wn((function(n,_){var t=vn(n=$n(n)),e=vn(_=$n(_));try{rn(r._olm_unpickle_outbound_group_session)(this.$b,t,n.length,e,_.length)}finally{for(An(t,n.length),t=0;t<n.length;t++)n[t]=0}})),on.prototype.create=wn((function(){var n=rn(r._olm_init_outbound_group_session_random_length)(this.$b),_=kn(n,s);try{rn(r._olm_init_outbound_group_session)(this.$b,_,n)}finally{An(_,n)}})),on.prototype.encrypt=function(n){try{var _=R(n),t=rn(r._olm_group_encrypt_message_length)(this.$b,_),e=bn(_+1);z(n,U,e,_+1);var o=bn(t+1);return rn(r._olm_group_encrypt)(this.$b,e,_,o,t),w(o+t),O(o,t)}finally{void 0!==e&&(An(e,_+1),dn(e)),void 0!==o&&dn(o)}},on.prototype.session_id=wn((function(){var n=rn(r._olm_outbound_group_session_id_length)(this.$b),_=vn(n+1);return rn(r._olm_outbound_group_session_id)(this.$b,_,n),O(_,n)})),on.prototype.session_key=wn((function(){var n=rn(r._olm_outbound_group_session_key_length)(this.$b),_=vn(n+1);rn(r._olm_outbound_group_session_key)(this.$b,_,n);var t=O(_,n);return An(_,n),t})),on.prototype.message_index=function(){return rn(r._olm_outbound_group_session_message_index)(this.$b)},o.OutboundGroupSession=on,ln.prototype.free=function(){r._olm_clear_inbound_group_session(this.$b),dn(this.$b)},ln.prototype.pickle=wn((function(n){n=$n(n);var _=sn(r._olm_pickle_inbound_group_session_length)(this.$b),t=vn(n),e=vn(_+1);try{sn(r._olm_pickle_inbound_group_session)(this.$b,t,n.length,e,_)}finally{for(An(t,n.length),t=0;t<n.length;t++)n[t]=0}return O(e,_)})),ln.prototype.unpickle=wn((function(n,_){var t=vn(n=$n(n)),e=vn(_=$n(_));try{sn(r._olm_unpickle_inbound_group_session)(this.$b,t,n.length,e,_.length)}finally{for(An(t,n.length),t=0;t<n.length;t++)n[t]=0}})),ln.prototype.create=wn((function(n){var _=vn(n=$n(n));try{sn(r._olm_init_inbound_group_session)(this.$b,_,n.length)}finally{for(An(_,n.length),_=0;_<n.length;_++)n[_]=0}})),ln.prototype.import_session=wn((function(n){var _=vn(n=$n(n));try{sn(r._olm_import_inbound_group_session)(this.$b,_,n.length)}finally{for(An(_,n.length),_=0;_<n.length;_++)n[_]=0}})),ln.prototype.decrypt=wn((function(n){try{var _=bn(n.length);S(n,_);var t=sn(r._olm_group_decrypt_max_plaintext_length)(this.$b,_,n.length);S(n,_);var e=bn(t+1),o=vn(4),l=sn(r._olm_group_decrypt)(this.$b,_,n.length,e,t,o);return w(e+l),{plaintext:O(e,l),message_index:A(o,"i32")}}finally{void 0!==_&&dn(_),void 0!==e&&(An(e,l),dn(e))}})),ln.prototype.session_id=wn((function(){var n=sn(r._olm_inbound_group_session_id_length)(this.$b),_=vn(n+1);return sn(r._olm_inbound_group_session_id)(this.$b,_,n),O(_,n)})),ln.prototype.first_known_index=wn((function(){return sn(r._olm_inbound_group_session_first_known_index)(this.$b)})),ln.prototype.export_session=wn((function(n){var _=sn(r._olm_export_inbound_group_session_length)(this.$b),t=vn(_+1);return rn(r._olm_export_inbound_group_session)(this.$b,t,_,n),n=O(t,_),An(t,_),n})),o.InboundGroupSession=ln,un.prototype.free=function(){r._olm_clear_pk_encryption(this.$b),dn(this.$b)},un.prototype.set_recipient_key=wn((function(n){var _=vn(n=$n(n));an(r._olm_pk_encryption_set_recipient_key)(this.$b,_,n.length)})),un.prototype.encrypt=wn((function(n){try{var _=R(n),t=bn(_+1);z(n,U,t,_+1);var e=an(r._olm_pk_encrypt_random_length)(),o=kn(e,s),l=an(r._olm_pk_ciphertext_length)(this.$b,_),i=bn(l+1),u=an(r._olm_pk_mac_length)(this.$b),a=vn(u+1);w(a+u);var p=an(r._olm_pk_key_length)(),c=vn(p+1);return w(c+p),an(r._olm_pk_encrypt)(this.$b,t,_,i,l,a,u,c,p,o,e),w(i+l),{ciphertext:O(i,l),mac:O(a,u),ephemeral:O(c,p)}}finally{void 0!==o&&An(o,e),void 0!==t&&(An(t,_+1),dn(t)),void 0!==i&&dn(i)}})),pn.prototype.free=function(){r._olm_clear_pk_decryption(this.$b),dn(this.$b)},pn.prototype.init_with_private_key=wn((function(n){var _=vn(n.length);r.HEAPU8.set(n,_);var t=cn(r._olm_pk_key_length)(),e=vn(t+1);try{cn(r._olm_pk_key_from_private)(this.$b,e,t,_,n.length)}finally{An(_,n.length)}return O(e,t)})),pn.prototype.generate_key=wn((function(){var n=cn(r._olm_pk_private_key_length)(),_=kn(n,s),t=cn(r._olm_pk_key_length)(),e=vn(t+1);try{cn(r._olm_pk_key_from_private)(this.$b,e,t,_,n)}finally{An(_,n)}return O(e,t)})),pn.prototype.get_private_key=wn((function(){var n=an(r._olm_pk_private_key_length)(),_=vn(n);cn(r._olm_pk_get_private_key)(this.$b,_,n);var t=new Uint8Array(new Uint8Array(r.HEAPU8.buffer,_,n));return An(_,n),t})),pn.prototype.pickle=wn((function(n){n=$n(n);var _=cn(r._olm_pickle_pk_decryption_length)(this.$b),t=vn(n),e=vn(_+1);try{cn(r._olm_pickle_pk_decryption)(this.$b,t,n.length,e,_)}finally{for(An(t,n.length),t=0;t<n.length;t++)n[t]=0}return O(e,_)})),pn.prototype.unpickle=wn((function(n,_){var t=vn(n=$n(n)),e=$n(_),o=vn(e),l=vn((_=cn(r._olm_pk_key_length)())+1);try{cn(r._olm_unpickle_pk_decryption)(this.$b,t,n.length,o,e.length,l,_)}finally{for(An(t,n.length),t=0;t<n.length;t++)n[t]=0}return O(l,_)})),pn.prototype.decrypt=wn((function(n,_,t){try{var e=R(t),o=bn(e+1);z(t,U,o,e+1);var l=$n(n),i=vn(l),s=$n(_),u=vn(s),a=cn(r._olm_pk_max_plaintext_length)(this.$b,e),p=bn(a+1),c=cn(r._olm_pk_decrypt)(this.$b,i,l.length,u,s.length,o,e,p,a);return w(p+c),O(p,c)}finally{void 0!==p&&(An(p,c+1),dn(p)),void 0!==o&&dn(o)}})),mn.prototype.free=function(){r._olm_clear_pk_signing(this.$b),dn(this.$b)},mn.prototype.init_with_seed=wn((function(n){var _=vn(n.length);r.HEAPU8.set(n,_);var t=yn(r._olm_pk_signing_public_key_length)(),e=vn(t+1);try{yn(r._olm_pk_signing_key_from_seed)(this.$b,e,t,_,n.length)}finally{An(_,n.length)}return O(e,t)})),mn.prototype.generate_seed=wn((function(){var n=yn(r._olm_pk_signing_seed_length)(),_=kn(n,s),t=new Uint8Array(new Uint8Array(r.HEAPU8.buffer,_,n));return An(_,n),t})),mn.prototype.sign=wn((function(n){try{var _=R(n),t=bn(_+1);z(n,U,t,_+1);var e=yn(r._olm_pk_signature_length)(),o=vn(e+1);return yn(r._olm_pk_sign)(this.$b,t,_,o,e),O(o,e)}finally{void 0!==t&&(An(t,_+1),dn(t))}})),fn.prototype.free=function(){r._olm_clear_sas(this.$b),dn(this.$b)},fn.prototype.get_pubkey=wn((function(){var n=hn(r._olm_sas_pubkey_length)(this.$b),_=vn(n+1);return hn(r._olm_sas_get_pubkey)(this.$b,_,n),O(_,n)})),fn.prototype.set_their_key=wn((function(n){var _=vn(n=$n(n));hn(r._olm_sas_set_their_key)(this.$b,_,n.length)})),fn.prototype.is_their_key_set=wn((function(){return!!hn(r._olm_sas_is_their_key_set)(this.$b)})),fn.prototype.generate_bytes=wn((function(n,_){var t=vn(n=$n(n)),e=vn(_);return hn(r._olm_sas_generate_bytes)(this.$b,t,n.length,e,_),new Uint8Array(new Uint8Array(r.HEAPU8.buffer,e,_))})),fn.prototype.calculate_mac=wn((function(n,_){var t=vn(n=$n(n)),e=vn(_=$n(_)),o=hn(r._olm_sas_mac_length)(this.$b),l=vn(o+1);return hn(r._olm_sas_calculate_mac)(this.$b,t,n.length,e,_.length,l,o),O(l,o)})),fn.prototype.calculate_mac_long_kdf=wn((function(n,_){var t=vn(n=$n(n)),e=vn(_=$n(_)),o=hn(r._olm_sas_mac_length)(this.$b),l=vn(o+1);return hn(r._olm_sas_calculate_mac_long_kdf)(this.$b,t,n.length,e,_.length,l,o),O(l,o)}));var gn,bn=r._malloc,dn=r._free;function kn(n,_){var t=tn(n);return _(new Uint8Array(r.HEAPU8.buffer,t,n)),t}function vn(n){return"number"==typeof n?kn(n,(function(n){n.fill(0)})):kn(n.length,(function(_){_.set(n)}))}function $n(n){if(n instanceof Uint8Array)var _=n;else n=z(n,_=Array(R(n)+1),0,_.length),_.length=n;return _}function wn(n){return function(){var _=nn();try{return n.apply(this,arguments)}finally{_n(_)}}}function An(n,_){for(;0<_--;)r.HEAP8[n++]=0}function xn(){var n=r._olm_account_size();this.ac=bn(n),this.$b=r._olm_account(this.ac)}function En(n){return function(){var _=n.apply(this,arguments);if(_===gn)throw _=O(r._olm_account_last_error(arguments[0])),Error("OLM."+_);return _}}function On(){var n=r._olm_session_size();this.ac=bn(n),this.$b=r._olm_session(this.ac)}function zn(n){return function(){var _=n.apply(this,arguments);if(_===gn)throw _=O(r._olm_session_last_error(arguments[0])),Error("OLM."+_);return _}}function Rn(){var n=r._olm_utility_size();this.ac=bn(n),this.$b=r._olm_utility(this.ac)}function Sn(n){return function(){var _=n.apply(this,arguments);if(_===gn)throw _=O(r._olm_utility_last_error(arguments[0])),Error("OLM."+_);return _}}return xn.prototype.free=function(){r._olm_clear_account(this.$b),dn(this.$b)},xn.prototype.create=wn((function(){var n=En(r._olm_create_account_random_length)(this.$b),_=kn(n,s);try{En(r._olm_create_account)(this.$b,_,n)}finally{An(_,n)}})),xn.prototype.identity_keys=wn((function(){var n=En(r._olm_account_identity_keys_length)(this.$b),_=vn(n+1);return En(r._olm_account_identity_keys)(this.$b,_,n),O(_,n)})),xn.prototype.sign=wn((function(n){var _=En(r._olm_account_signature_length)(this.$b),t=vn(n=$n(n)),e=vn(_+1);try{En(r._olm_account_sign)(this.$b,t,n.length,e,_)}finally{for(An(t,n.length),t=0;t<n.length;t++)n[t]=0}return O(e,_)})),xn.prototype.one_time_keys=wn((function(){var n=En(r._olm_account_one_time_keys_length)(this.$b),_=vn(n+1);return En(r._olm_account_one_time_keys)(this.$b,_,n),O(_,n)})),xn.prototype.mark_keys_as_published=wn((function(){En(r._olm_account_mark_keys_as_published)(this.$b)})),xn.prototype.max_number_of_one_time_keys=wn((function(){return En(r._olm_account_max_number_of_one_time_keys)(this.$b)})),xn.prototype.generate_one_time_keys=wn((function(n){var _=En(r._olm_account_generate_one_time_keys_random_length)(this.$b,n),t=kn(_,s);try{En(r._olm_account_generate_one_time_keys)(this.$b,n,t,_)}finally{An(t,_)}})),xn.prototype.remove_one_time_keys=wn((function(n){En(r._olm_remove_one_time_keys)(this.$b,n.$b)})),xn.prototype.generate_fallback_key=wn((function(){var n=En(r._olm_account_generate_fallback_key_random_length)(this.$b),_=kn(n,s);try{En(r._olm_account_generate_fallback_key)(this.$b,_,n)}finally{An(_,n)}})),xn.prototype.fallback_key=wn((function(){var n=En(r._olm_account_fallback_key_length)(this.$b),_=vn(n+1);return En(r._olm_account_fallback_key)(this.$b,_,n),O(_,n)})),xn.prototype.unpublished_fallback_key=wn((function(){var n=En(r._olm_account_unpublished_fallback_key_length)(this.$b),_=vn(n+1);return En(r._olm_account_unpublished_fallback_key)(this.$b,_,n),O(_,n)})),xn.prototype.forget_old_fallback_key=wn((function(){En(r._olm_account_forget_old_fallback_key)(this.$b)})),xn.prototype.pickle=wn((function(n){n=$n(n);var _=En(r._olm_pickle_account_length)(this.$b),t=vn(n),e=vn(_+1);try{En(r._olm_pickle_account)(this.$b,t,n.length,e,_)}finally{for(An(t,n.length),t=0;t<n.length;t++)n[t]=0}return O(e,_)})),xn.prototype.unpickle=wn((function(n,_){var t=vn(n=$n(n)),e=vn(_=$n(_));try{En(r._olm_unpickle_account)(this.$b,t,n.length,e,_.length)}finally{for(An(t,n.length),t=0;t<n.length;t++)n[t]=0}})),On.prototype.free=function(){r._olm_clear_session(this.$b),dn(this.$b)},On.prototype.pickle=wn((function(n){n=$n(n);var _=zn(r._olm_pickle_session_length)(this.$b),t=vn(n),e=vn(_+1);try{zn(r._olm_pickle_session)(this.$b,t,n.length,e,_)}finally{for(An(t,n.length),t=0;t<n.length;t++)n[t]=0}return O(e,_)})),On.prototype.unpickle=wn((function(n,_){var t=vn(n=$n(n)),e=vn(_=$n(_));try{zn(r._olm_unpickle_session)(this.$b,t,n.length,e,_.length)}finally{for(An(t,n.length),t=0;t<n.length;t++)n[t]=0}})),On.prototype.create_outbound=wn((function(n,_,t){var e=zn(r._olm_create_outbound_session_random_length)(this.$b),o=kn(e,s);_=$n(_),t=$n(t);var l=vn(_),i=vn(t);try{zn(r._olm_create_outbound_session)(this.$b,n.$b,l,_.length,i,t.length,o,e)}finally{An(o,e)}})),On.prototype.create_inbound=wn((function(n,_){var t=vn(_=$n(_));try{zn(r._olm_create_inbound_session)(this.$b,n.$b,t,_.length)}finally{for(An(t,_.length),n=0;n<_.length;n++)_[n]=0}})),On.prototype.create_inbound_from=wn((function(n,_,t){var e=vn(_=$n(_)),o=vn(t=$n(t));try{zn(r._olm_create_inbound_session_from)(this.$b,n.$b,e,_.length,o,t.length)}finally{for(An(o,t.length),n=0;n<t.length;n++)t[n]=0}})),On.prototype.session_id=wn((function(){var n=zn(r._olm_session_id_length)(this.$b),_=vn(n+1);return zn(r._olm_session_id)(this.$b,_,n),O(_,n)})),On.prototype.has_received_message=function(){return!!zn(r._olm_session_has_received_message)(this.$b)},On.prototype.matches_inbound=wn((function(n){var _=vn(n=$n(n));return!!zn(r._olm_matches_inbound_session)(this.$b,_,n.length)})),On.prototype.matches_inbound_from=wn((function(n,_){var t=vn(n=$n(n)),e=vn(_=$n(_));return!!zn(r._olm_matches_inbound_session_from)(this.$b,t,n.length,e,_.length)})),On.prototype.encrypt=wn((function(n){try{var _=zn(r._olm_encrypt_random_length)(this.$b),t=zn(r._olm_encrypt_message_type)(this.$b),e=R(n),o=zn(r._olm_encrypt_message_length)(this.$b,e),l=kn(_,s),i=bn(e+1);z(n,U,i,e+1);var u=bn(o+1);return zn(r._olm_encrypt)(this.$b,i,e,l,_,u,o),w(u+o),{type:t,body:O(u,o)}}finally{void 0!==l&&An(l,_),void 0!==i&&(An(i,e+1),dn(i)),void 0!==u&&dn(u)}})),On.prototype.decrypt=wn((function(n,_){try{var t=bn(_.length);S(_,t);var e=zn(r._olm_decrypt_max_plaintext_length)(this.$b,n,t,_.length);S(_,t);var o=bn(e+1),l=zn(r._olm_decrypt)(this.$b,n,t,_.length,o,e);return w(o+l),O(o,l)}finally{void 0!==t&&dn(t),void 0!==o&&(An(o,e),dn(o))}})),On.prototype.describe=wn((function(){try{var n=bn(256);return zn(r._olm_session_describe)(this.$b,n,256),O(n)}finally{void 0!==n&&dn(n)}})),Rn.prototype.free=function(){r._olm_clear_utility(this.$b),dn(this.$b)},Rn.prototype.sha256=wn((function(n){var _=Sn(r._olm_sha256_length)(this.$b),t=vn(n=$n(n)),e=vn(_+1);try{Sn(r._olm_sha256)(this.$b,t,n.length,e,_)}finally{for(An(t,n.length),t=0;t<n.length;t++)n[t]=0}return O(e,_)})),Rn.prototype.ed25519_verify=wn((function(n,_,t){var e=vn(n=$n(n)),o=vn(_=$n(_)),l=vn(t=$n(t));try{Sn(r._olm_ed25519_verify)(this.$b,e,n.length,o,_.length,l,t.length)}finally{for(An(o,_.length),n=0;n<_.length;n++)_[n]=0}})),o.Account=xn,o.Session=On,o.Utility=Rn,o.PkEncryption=un,o.PkDecryption=pn,o.PkSigning=mn,o.SAS=fn,o.get_library_version=wn((function(){var n=vn(3);return r._olm_get_library_version(n,n+1,n+2),[A(n,"i8"),A(n+1,"i8"),A(n+2,"i8")]})),e.ready});return"object"==typeof exports&&"object"==typeof module?module.exports=r:"function"==typeof define&&define.amd?define([],(function(){return r})):"object"==typeof exports&&(exports.Module=r),o.init=function(t){return e||(t&&(OLM_OPTIONS=t),e=new Promise((function(t,e){n=function(){t()},_=function(n){e(n)},r()})))},o}();"undefined"!=typeof window&&(window.Olm=Olm),"object"==typeof module&&(module.exports=Olm);